"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/board/[boardId]/page",{

/***/ "(app-pages-browser)/./src/hooks/use-element-manager.ts":
/*!******************************************!*\
  !*** ./src/hooks/use-element-manager.ts ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useElementManager: function() { return /* binding */ useElementManager; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _firebase_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/firebase/provider */ \"(app-pages-browser)/./src/firebase/provider.tsx\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _hooks_use_toast__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/hooks/use-toast */ \"(app-pages-browser)/./src/hooks/use-toast.ts\");\n/* __next_internal_client_entry_do_not_use__ useElementManager auto */ \n\n\n\nfunction useElementManager(boardId, getViewportCenter, getNextZIndex) {\n    const firestore = (0,_firebase_provider__WEBPACK_IMPORTED_MODULE_1__.useFirestore)();\n    const { user } = (0,_firebase_provider__WEBPACK_IMPORTED_MODULE_1__.useUser)();\n    const { toast } = (0,_hooks_use_toast__WEBPACK_IMPORTED_MODULE_3__.useToast)();\n    // CRÍTICO: Usar refs para funciones que pueden cambiar frecuentemente\n    // Esto previene re-creaciones constantes de addElement\n    const getViewportCenterRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(getViewportCenter);\n    const getNextZIndexRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(getNextZIndex);\n    // Actualizar refs cuando cambian\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        getViewportCenterRef.current = getViewportCenter;\n        getNextZIndexRef.current = getNextZIndex;\n    }, [\n        getViewportCenter,\n        getNextZIndex\n    ]);\n    const addElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (type, props)=>{\n        if (!firestore || !user || !boardId) {\n            const errorMsg = !firestore ? \"Firestore no est\\xe1 disponible\" : !user ? \"Usuario no autenticado\" : \"Board ID no v\\xe1lido\";\n            return Promise.reject(new Error(errorMsg));\n        }\n        const elementsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(firestore, \"users\", user.uid, \"canvasBoards\", boardId, \"canvasElements\");\n        if (type === \"connector\") {\n            const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.addDoc)(elementsRef, {\n                type: \"connector\",\n                userId: user.uid,\n                properties: {},\n                content: props === null || props === void 0 ? void 0 : props.content,\n                createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n            });\n            return docRef.id;\n        }\n        const defaultPosition = getViewportCenterRef.current(); // ✅ Usar ref\n        // REGLA: Los nuevos elementos deben aparecer en PRIMERA CAPA (zIndex máximo)\n        // para que el usuario pueda arrastrarlos y reubicarlos fácilmente\n        // EXCEPCIÓN CRÍTICA: Los contenedores SIEMPRE están en la primera capa (zIndex 0)\n        // incluso antes que cuadernos, para que puedan recibir elementos arrastrados\n        let zIndex;\n        if (type === \"container\") {\n            zIndex = 0; // Contenedores siempre en primera capa (zIndex 0)\n        } else {\n            // Todos los demás elementos nuevos van a la PRIMERA CAPA (zIndex máximo + 1)\n            zIndex = getNextZIndexRef.current(); // ✅ Usar ref\n        }\n        // REGLA #1: Los elementos se abren centrados en el viewport del usuario\n        // Si no se proporciona una posición específica, usar el centro del viewport\n        // IMPORTANTE: Verificar que props existe antes de acceder a properties\n        const viewportCenter = props && props.properties && props.properties.position ? props.properties.position : defaultPosition;\n        const baseSize = props && props.properties && props.properties.size ? props.properties.size : {\n            width: 200,\n            height: 150\n        };\n        const sizeWidth = typeof baseSize.width === \"number\" ? baseSize.width : 200;\n        const sizeHeight = typeof baseSize.height === \"number\" ? baseSize.height : 150;\n        // Helper: Calcula la posición para centrar el elemento en el viewport VISIBLE\n        // REGLA CRÍTICA: Los elementos deben aparecer en el ESPACIO VISIBLE del usuario\n        // El elemento debe estar centrado en el área visible del tablero\n        const getCenteredPosition = (width, height)=>{\n            // Obtener el centro del viewport visible (ya calculado con scroll y scale)\n            const centerX = viewportCenter.x;\n            const centerY = viewportCenter.y;\n            // Calcular posición centrada ideal (centro del elemento = centro del viewport visible)\n            let x = centerX - width / 2;\n            let y = centerY - height / 2;\n            // CRÍTICO: Asegurar que el elemento aparezca SIEMPRE en el área visible\n            // Si el cálculo da negativo, ajustar para que al menos parte del elemento sea visible\n            // Mínimo: asegurar que la esquina superior izquierda esté dentro del viewport visible\n            const minOffset = 20; // Margen mínimo desde el borde visible\n            // Obtener dimensiones del viewport en coordenadas del canvas\n            const viewportWidth =  true ? window.innerWidth : 0;\n            const viewportHeight =  true ? window.innerHeight : 0;\n            // Asegurar que el elemento quede dentro del área visible del viewport\n            // Si el elemento es más pequeño que el viewport, centrarlo\n            // Si es más grande, asegurar que al menos parte sea visible\n            if (width <= viewportWidth) {\n                // Elemento cabe en el viewport: centrarlo\n                x = Math.max(minOffset, Math.min(x, centerX + viewportWidth / 2 - width));\n            } else {\n                // Elemento más grande que el viewport: alinear para que sea visible desde el inicio\n                x = Math.max(minOffset, centerX - viewportWidth / 4);\n            }\n            if (height <= viewportHeight) {\n                // Elemento cabe en el viewport: centrarlo\n                y = Math.max(minOffset, Math.min(y, centerY + viewportHeight / 2 - height));\n            } else {\n                // Elemento más grande que el viewport: alinear para que sea visible desde el inicio\n                y = Math.max(minOffset, centerY - viewportHeight / 4);\n            }\n            // Verificación final: NUNCA permitir coordenadas negativas\n            return {\n                x: Math.max(0, x),\n                y: Math.max(0, y)\n            };\n        };\n        // Construir baseProperties de forma segura\n        const baseProperties = {\n            size: baseSize,\n            zIndex: zIndex,\n            rotation: 0\n        };\n        // Agregar propiedades adicionales de props si existen\n        if (props && props.properties && typeof props.properties === \"object\") {\n            Object.assign(baseProperties, props.properties);\n        }\n        let newElementData;\n        switch(type){\n            case \"notepad\":\n                const notepadSize = {\n                    width: 794,\n                    height: 978\n                };\n                const notepadPos = getCenteredPosition(notepadSize.width, notepadSize.height);\n                newElementData = {\n                    type,\n                    x: notepadPos.x,\n                    y: notepadPos.y,\n                    width: notepadSize.width,\n                    height: notepadSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: notepadPos,\n                        size: notepadSize,\n                        format: \"letter\"\n                    },\n                    content: {\n                        title: \"Nuevo Cuaderno\",\n                        pages: Array(5).fill(\"<div><br></div>\"),\n                        currentPage: 0\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"notepad-simple\":\n                const notepadSimpleSize = {\n                    width: 302,\n                    height: 491\n                };\n                const notepadSimplePos = getCenteredPosition(notepadSimpleSize.width, notepadSimpleSize.height);\n                newElementData = {\n                    type,\n                    x: notepadSimplePos.x,\n                    y: notepadSimplePos.y,\n                    width: notepadSimpleSize.width,\n                    height: notepadSimpleSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: notepadSimplePos,\n                        size: notepadSimpleSize\n                    },\n                    content: {\n                        title: \"Nuevo Notepad\",\n                        text: \"<div><br></div>\"\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"super-notebook\":\n                // Tamaño exacto: 21cm x 27cm (794px x 1021px a 96 DPI)\n                const superNotebookSize = {\n                    width: 794,\n                    height: 1021\n                };\n                const superNotebookPos = getCenteredPosition(superNotebookSize.width, superNotebookSize.height);\n                newElementData = {\n                    type,\n                    x: superNotebookPos.x,\n                    y: superNotebookPos.y,\n                    width: superNotebookSize.width,\n                    height: superNotebookSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: superNotebookPos,\n                        size: superNotebookSize\n                    },\n                    content: {\n                        title: \"Super Cuaderno\",\n                        pages: Array(5).fill(\"<div><br></div>\"),\n                        currentPage: 0\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"sticky\":\n                const stickyColor = (props === null || props === void 0 ? void 0 : props.color) || \"yellow\";\n                const stickySize = {\n                    width: 224,\n                    height: 224\n                };\n                const stickyPos = getCenteredPosition(stickySize.width, stickySize.height);\n                const stickyElement = {\n                    type: \"sticky\",\n                    x: stickyPos.x,\n                    y: stickyPos.y,\n                    width: stickySize.width,\n                    height: stickySize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: stickyPos,\n                        size: stickySize,\n                        color: stickyColor\n                    },\n                    content: typeof (props === null || props === void 0 ? void 0 : props.content) === \"string\" ? props.content : \"Escribe algo...\",\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    ...(props === null || props === void 0 ? void 0 : props.tags) && {\n                        tags: props.tags\n                    }\n                };\n                newElementData = stickyElement;\n                break;\n            case \"todo\":\n                const todoSize = {\n                    width: 300,\n                    height: 150\n                };\n                const todoPos = getCenteredPosition(todoSize.width, todoSize.height);\n                newElementData = {\n                    type,\n                    x: todoPos.x,\n                    y: todoPos.y,\n                    width: todoSize.width,\n                    height: todoSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: todoPos,\n                        size: todoSize\n                    },\n                    content: (props === null || props === void 0 ? void 0 : props.content) || {\n                        title: \"Lista de Tareas\",\n                        items: []\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"image\":\n                const imagePos = getCenteredPosition(sizeWidth, sizeHeight);\n                newElementData = {\n                    type,\n                    x: imagePos.x,\n                    y: imagePos.y,\n                    width: sizeWidth,\n                    height: sizeHeight,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: imagePos,\n                        size: {\n                            width: sizeWidth,\n                            height: sizeHeight\n                        }\n                    },\n                    content: props === null || props === void 0 ? void 0 : props.content,\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"text\":\n                var _props_properties;\n                const textPos = getCenteredPosition(sizeWidth, sizeHeight);\n                const textBgColor = (props === null || props === void 0 ? void 0 : (_props_properties = props.properties) === null || _props_properties === void 0 ? void 0 : _props_properties.backgroundColor) || \"#ffffff\";\n                newElementData = {\n                    type,\n                    x: textPos.x,\n                    y: textPos.y,\n                    width: sizeWidth,\n                    height: sizeHeight,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: textPos,\n                        size: {\n                            width: sizeWidth,\n                            height: sizeHeight\n                        },\n                        backgroundColor: textBgColor\n                    },\n                    content: (props === null || props === void 0 ? void 0 : props.content) || '<div style=\"font-size: 18px;\">Escribe algo...</div>',\n                    color: (props === null || props === void 0 ? void 0 : props.color) || \"white\",\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"container\":\n                var _props_properties1, _props_properties2;\n                // REGLA ESPECIAL: Elemento K85hC8M5spfsgRITnEQR (lienzo) debe ser 60% más pequeño y color #daf4c5\n                const defaultContainerSize = {\n                    width: 378,\n                    height: 567\n                }; // 10x15 cm en píxeles\n                const containerSize = (props === null || props === void 0 ? void 0 : (_props_properties1 = props.properties) === null || _props_properties1 === void 0 ? void 0 : _props_properties1.size) ? props.properties.size : defaultContainerSize;\n                // Si es el lienzo especial (título \"Lienzo\" o ID específico), reducir ancho 50%\n                const containerContent = (props === null || props === void 0 ? void 0 : props.content) && typeof props.content === \"object\" && \"title\" in props.content ? props.content : null;\n                const isSpecialLienzo = (containerContent === null || containerContent === void 0 ? void 0 : containerContent.title) === \"Lienzo\" || (containerContent === null || containerContent === void 0 ? void 0 : containerContent.title) === \"lienzo\";\n                const finalContainerSize = isSpecialLienzo ? {\n                    width: Math.round((typeof containerSize.width === \"number\" ? containerSize.width : 378) * 0.5),\n                    height: typeof containerSize.height === \"number\" ? containerSize.height : 567\n                } : containerSize;\n                const containerPos = getCenteredPosition(typeof finalContainerSize.width === \"number\" ? finalContainerSize.width : 378, typeof finalContainerSize.height === \"number\" ? finalContainerSize.height : 567);\n                const containerBackgroundColor = isSpecialLienzo ? \"#daf4c5\" // Color especial para lienzo\n                 : (props === null || props === void 0 ? void 0 : (_props_properties2 = props.properties) === null || _props_properties2 === void 0 ? void 0 : _props_properties2.backgroundColor) ? props.properties.backgroundColor : \"white\";\n                // REGLA: Lienzo debe tener zIndex = -1 (debajo de todos excepto cuadernos que tienen zIndex = 1)\n                const containerZIndex = isSpecialLienzo ? -1 : zIndex;\n                const finalContainerContent = containerContent || {\n                    title: \"Nuevo Contenedor\",\n                    elementIds: [],\n                    layout: \"single\"\n                };\n                newElementData = {\n                    type: \"container\",\n                    x: containerPos.x,\n                    y: containerPos.y,\n                    width: typeof finalContainerSize.width === \"number\" ? finalContainerSize.width : 378,\n                    height: typeof finalContainerSize.height === \"number\" ? finalContainerSize.height : 567,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: containerPos,\n                        size: finalContainerSize,\n                        backgroundColor: containerBackgroundColor,\n                        zIndex: containerZIndex\n                    },\n                    content: finalContainerContent,\n                    zIndex: containerZIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"comment\":\n                const commentSize = {\n                    width: 32,\n                    height: 32\n                };\n                const commentPos = getCenteredPosition(commentSize.width, commentSize.height);\n                newElementData = {\n                    type,\n                    x: commentPos.x,\n                    y: commentPos.y,\n                    width: commentSize.width,\n                    height: commentSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: commentPos,\n                        size: commentSize\n                    },\n                    content: (props === null || props === void 0 ? void 0 : props.content) || {\n                        title: \"\",\n                        label: \"\",\n                        comment: \"\"\n                    },\n                    parentId: (props === null || props === void 0 ? void 0 : props.parentId) || undefined,\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"moodboard\":\n                const moodboardSize = {\n                    width: 600,\n                    height: 500\n                };\n                const moodboardPos = getCenteredPosition(moodboardSize.width, moodboardSize.height);\n                newElementData = {\n                    type,\n                    x: moodboardPos.x,\n                    y: moodboardPos.y,\n                    width: moodboardSize.width,\n                    height: moodboardSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: moodboardPos,\n                        size: moodboardSize,\n                        backgroundColor: \"#ffffff\"\n                    },\n                    content: (props === null || props === void 0 ? void 0 : props.content) || {\n                        title: \"Nuevo Moodboard\",\n                        images: [],\n                        annotations: [],\n                        layout: \"grid\"\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"tabbed-notepad\":\n                const tabbedSize = {\n                    width: 500,\n                    height: 400\n                };\n                const tabbedPos = getCenteredPosition(tabbedSize.width, tabbedSize.height);\n                newElementData = {\n                    type,\n                    x: tabbedPos.x,\n                    y: tabbedPos.y,\n                    width: tabbedSize.width,\n                    height: tabbedSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: tabbedPos,\n                        size: tabbedSize,\n                        backgroundColor: \"#ffffff\"\n                    },\n                    content: (props === null || props === void 0 ? void 0 : props.content) || {\n                        title: \"Bloc de Notas\",\n                        tabs: [\n                            {\n                                id: \"tab-1\",\n                                title: \"Pesta\\xf1a 1\",\n                                content: \"\"\n                            }\n                        ],\n                        activeTabId: \"tab-1\"\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"accordion\":\n                const accordionSize = {\n                    width: 320,\n                    height: 240\n                }; // 20% más pequeño que 400x300\n                const accordionPos = getCenteredPosition(accordionSize.width, accordionSize.height);\n                newElementData = {\n                    type,\n                    x: accordionPos.x,\n                    y: accordionPos.y,\n                    width: accordionSize.width,\n                    height: accordionSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: accordionPos,\n                        size: accordionSize,\n                        backgroundColor: \"#ffffff\"\n                    },\n                    content: (props === null || props === void 0 ? void 0 : props.content) || {\n                        items: [\n                            {\n                                id: \"1\",\n                                title: \"Nuevo Item\",\n                                content: \"\"\n                            }\n                        ]\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"stopwatch\":\n                const stopwatchSize = {\n                    width: 200,\n                    height: 120\n                };\n                const stopwatchPos = getCenteredPosition(stopwatchSize.width, stopwatchSize.height);\n                newElementData = {\n                    type: \"stopwatch\",\n                    x: stopwatchPos.x,\n                    y: stopwatchPos.y,\n                    width: stopwatchSize.width,\n                    height: stopwatchSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: stopwatchPos,\n                        size: stopwatchSize,\n                        backgroundColor: \"#000000\"\n                    },\n                    content: {\n                        time: 0,\n                        isRunning: false\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"countdown\":\n                const countdownSize = {\n                    width: 200,\n                    height: 180\n                };\n                const countdownPos = getCenteredPosition(countdownSize.width, countdownSize.height);\n                newElementData = {\n                    type: \"countdown\",\n                    x: countdownPos.x,\n                    y: countdownPos.y,\n                    width: countdownSize.width,\n                    height: countdownSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: countdownPos,\n                        size: countdownSize,\n                        backgroundColor: \"#000000\"\n                    },\n                    content: {\n                        timeLeft: 0,\n                        selectedMinutes: 5,\n                        isRunning: false\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"highlight-text\":\n                var _props_properties3;\n                const highlightSize = {\n                    width: 300,\n                    height: 150\n                };\n                const highlightPos = getCenteredPosition(highlightSize.width, highlightSize.height);\n                const highlightColor = (props === null || props === void 0 ? void 0 : (_props_properties3 = props.properties) === null || _props_properties3 === void 0 ? void 0 : _props_properties3.backgroundColor) ? props.properties.backgroundColor : \"#fffb8b\";\n                newElementData = {\n                    type: \"highlight-text\",\n                    x: highlightPos.x,\n                    y: highlightPos.y,\n                    width: highlightSize.width,\n                    height: highlightSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: highlightPos,\n                        size: highlightSize,\n                        backgroundColor: highlightColor\n                    },\n                    content: {\n                        text: \"\"\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"yellow-notepad\":\n                // Tamaño basado en las imágenes: aproximadamente 400x600px (portrait)\n                const yellowNotepadSize = {\n                    width: 400,\n                    height: 600\n                };\n                const yellowNotepadPos = getCenteredPosition(yellowNotepadSize.width, yellowNotepadSize.height);\n                newElementData = {\n                    type,\n                    x: yellowNotepadPos.x,\n                    y: yellowNotepadPos.y,\n                    width: yellowNotepadSize.width,\n                    height: yellowNotepadSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: yellowNotepadPos,\n                        size: yellowNotepadSize,\n                        backgroundColor: \"#FFFFE0\"\n                    },\n                    content: (props === null || props === void 0 ? void 0 : props.content) || {\n                        text: \"\",\n                        searchQuery: \"\"\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            default:\n                return Promise.reject(new Error(\"Tipo de elemento inv\\xe1lido: \".concat(type)));\n        }\n        const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.addDoc)(elementsRef, newElementData);\n        return docRef.id;\n    }, [\n        firestore,\n        user,\n        boardId\n    ]); // ✅ Removido getNextZIndex y getViewportCenter - usar directamente sin dependencias\n    const updateElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id, updates)=>{\n        if (!firestore || !user || !boardId) return;\n        const elementDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(firestore, \"users\", user.uid, \"canvasBoards\", boardId, \"canvasElements\", id);\n        // Limpiar valores undefined (Firestore no los acepta)\n        const cleanUpdates = {\n            updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n        };\n        Object.keys(updates).forEach((key)=>{\n            const value = updates[key];\n            if (value !== undefined) {\n                cleanUpdates[key] = value;\n            } else if (key === \"parentId\") {\n                // Si parentId es undefined, usar null para eliminarlo\n                cleanUpdates[key] = null;\n            }\n        });\n        // Actualizar el elemento\n        (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)(elementDocRef, cleanUpdates);\n        // AUTOGUARDADO DEL TABLERO: Actualizar también el tablero con updatedAt\n        // Esto asegura que el tablero refleje siempre la última modificación\n        const boardDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(firestore, \"users\", user.uid, \"canvasBoards\", boardId);\n        (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)(boardDocRef, {\n            updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n        }).catch((err)=>{\n            console.error(\"Error actualizando tablero:\", err);\n        });\n    }, [\n        firestore,\n        user,\n        boardId\n    ]);\n    const deleteElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (id, allElements)=>{\n        if (!firestore || !user || !boardId) return;\n        const elementToDeleteRef = allElements.find((el)=>el.id === id);\n        if (!elementToDeleteRef) return;\n        const elementsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(firestore, \"users\", user.uid, \"canvasBoards\", boardId, \"canvasElements\");\n        const batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.writeBatch)(firestore);\n        const elementDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(elementsRef, id);\n        if (elementToDeleteRef.type === \"container\") {\n            const containerContent = elementToDeleteRef.content;\n            if (containerContent && Array.isArray(containerContent.elementIds)) {\n                containerContent.elementIds.forEach((childId)=>{\n                    const childDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(elementsRef, childId);\n                    batch.delete(childDocRef);\n                });\n            }\n        }\n        batch.delete(elementDocRef);\n        await batch.commit();\n    }, [\n        firestore,\n        user,\n        boardId\n    ]);\n    const unanchorElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (elementId)=>{\n        var _parentProps_position, _parentProps_size, _parentProps_size1, _parentProps_position1;\n        if (!firestore || !user || !boardId) return;\n        const elementsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(firestore, \"users\", user.uid, \"canvasBoards\", boardId, \"canvasElements\");\n        const elementDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(elementsRef, elementId);\n        const elementSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)(elementDocRef);\n        if (!elementSnap.exists()) {\n            toast({\n                variant: \"destructive\",\n                title: \"Error\",\n                description: \"El elemento no existe.\"\n            });\n            return;\n        }\n        const elementData = elementSnap.data();\n        if (!(elementData === null || elementData === void 0 ? void 0 : elementData.parentId)) {\n            toast({\n                variant: \"destructive\",\n                title: \"Error\",\n                description: \"El elemento no est\\xe1 anclado a ning\\xfan contenedor.\"\n            });\n            return;\n        }\n        const element = elementData;\n        const parentId = element.parentId;\n        const parentDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(elementsRef, parentId);\n        const parentSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)(parentDocRef);\n        if (!parentSnap.exists()) {\n            toast({\n                variant: \"destructive\",\n                title: \"Error\",\n                description: \"No se encontr\\xf3 el contenedor padre.\"\n            });\n            return;\n        }\n        const parentElementData = parentSnap.data();\n        if (!parentElementData) {\n            toast({\n                variant: \"destructive\",\n                title: \"Error\",\n                description: \"No se pudo obtener datos del contenedor padre.\"\n            });\n            return;\n        }\n        const parentElement = parentElementData;\n        const parentContent = parentElement === null || parentElement === void 0 ? void 0 : parentElement.content;\n        const parentProps = parentElement === null || parentElement === void 0 ? void 0 : parentElement.properties;\n        // Remove elementId from parent's content\n        const newElementIds = ((parentContent === null || parentContent === void 0 ? void 0 : parentContent.elementIds) || []).filter((id)=>id !== elementId);\n        var _parentProps_position_x;\n        // Calcular nueva posición mejorada: a la derecha del panel con un offset\n        const parentX = (_parentProps_position_x = parentProps === null || parentProps === void 0 ? void 0 : (_parentProps_position = parentProps.position) === null || _parentProps_position === void 0 ? void 0 : _parentProps_position.x) !== null && _parentProps_position_x !== void 0 ? _parentProps_position_x : 0;\n        const parentWidth = typeof (parentProps === null || parentProps === void 0 ? void 0 : (_parentProps_size = parentProps.size) === null || _parentProps_size === void 0 ? void 0 : _parentProps_size.width) === \"number\" ? parentProps.size.width : ((parentProps === null || parentProps === void 0 ? void 0 : (_parentProps_size1 = parentProps.size) === null || _parentProps_size1 === void 0 ? void 0 : _parentProps_size1.width) ? parseFloat(String(parentProps.size.width)) : 300) || 300;\n        var _parentProps_position_y;\n        const parentY = (_parentProps_position_y = parentProps === null || parentProps === void 0 ? void 0 : (_parentProps_position1 = parentProps.position) === null || _parentProps_position1 === void 0 ? void 0 : _parentProps_position1.y) !== null && _parentProps_position_y !== void 0 ? _parentProps_position_y : 0;\n        // Obtener posición original del elemento si existe, o calcular nueva\n        const elementProps = element.properties;\n        const originalPosition = (elementProps === null || elementProps === void 0 ? void 0 : elementProps.position) || {\n            x: element.x || 0,\n            y: element.y || 0\n        };\n        // Si el elemento tenía una posición original válida, intentar restaurarla\n        // Si no, colocar a la derecha del panel\n        const newPosition = originalPosition.x > 0 && originalPosition.y > 0 ? originalPosition // Restaurar posición original\n         : {\n            x: parentX + parentWidth + 20,\n            y: parentY + 50\n        };\n        const batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.writeBatch)(firestore);\n        // Update parent\n        batch.update(parentDocRef, {\n            content: {\n                ...parentContent,\n                elementIds: newElementIds\n            },\n            updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n        });\n        // Update child - restaurar propiedades completas y asegurar visibilidad\n        const safeProperties = elementProps || {};\n        const elementSize = typeof element.width === \"number\" && typeof element.height === \"number\" ? {\n            width: element.width,\n            height: element.height\n        } : safeProperties.size || {\n            width: 200,\n            height: 150\n        };\n        batch.update(elementDocRef, {\n            parentId: null,\n            hidden: false,\n            x: newPosition.x,\n            y: newPosition.y,\n            properties: {\n                ...safeProperties,\n                position: newPosition,\n                size: elementSize\n            },\n            updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n        });\n        try {\n            await batch.commit();\n            toast({\n                title: \"Elemento desanclado\",\n                description: \"El elemento ha sido devuelto al lienzo.\"\n            });\n        } catch (error) {\n            console.error(\"Error al desanclar elemento:\", error);\n            toast({\n                variant: \"destructive\",\n                title: \"Error\",\n                description: \"No se pudo desanclar el elemento.\"\n            });\n        }\n    }, [\n        firestore,\n        user,\n        boardId,\n        toast\n    ]);\n    return {\n        addElement,\n        updateElement,\n        deleteElement,\n        unanchorElement\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2UtZWxlbWVudC1tYW5hZ2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozt1RUFHdUQ7QUFDSztBQVVoQztBQUdpQjtBQUV0QyxTQUFTYSxrQkFBa0JDLE9BQWUsRUFBRUMsaUJBQWlELEVBQUVDLGFBQWlEO0lBQ3JKLE1BQU1DLFlBQVlkLGdFQUFZQTtJQUM5QixNQUFNLEVBQUVlLElBQUksRUFBRSxHQUFHZCwyREFBT0E7SUFDeEIsTUFBTSxFQUFFZSxLQUFLLEVBQUUsR0FBR1AsMERBQVFBO0lBRTFCLHNFQUFzRTtJQUN0RSx1REFBdUQ7SUFDdkQsTUFBTVEsdUJBQXVCbkIsNkNBQU1BLENBQUNjO0lBQ3BDLE1BQU1NLG1CQUFtQnBCLDZDQUFNQSxDQUFDZTtJQUVoQyxpQ0FBaUM7SUFDakNkLGdEQUFTQSxDQUFDO1FBQ1JrQixxQkFBcUJFLE9BQU8sR0FBR1A7UUFDL0JNLGlCQUFpQkMsT0FBTyxHQUFHTjtJQUM3QixHQUFHO1FBQUNEO1FBQW1CQztLQUFjO0lBRXJDLE1BQU1PLGFBQWF2QixrREFBV0EsQ0FBQyxPQUFPd0IsTUFBbUJDO1FBQ3ZELElBQUksQ0FBQ1IsYUFBYSxDQUFDQyxRQUFRLENBQUNKLFNBQVM7WUFDbkMsTUFBTVksV0FBVyxDQUFDVCxZQUFZLG9DQUFpQyxDQUFDQyxPQUFPLDJCQUEyQjtZQUNsRyxPQUFPUyxRQUFRQyxNQUFNLENBQUMsSUFBSUMsTUFBTUg7UUFDbEM7UUFDQSxNQUFNSSxjQUFjekIsOERBQVVBLENBQUNZLFdBQVcsU0FBU0MsS0FBS2EsR0FBRyxFQUFFLGdCQUFnQmpCLFNBQVM7UUFDdEYsSUFBSVUsU0FBUyxhQUFhO1lBQ3hCLE1BQU1RLFNBQVMsTUFBTXRCLDBEQUFNQSxDQUFDb0IsYUFBYTtnQkFDdkNOLE1BQU07Z0JBQ05TLFFBQVFmLEtBQUthLEdBQUc7Z0JBQ2hCRyxZQUFZLENBQUM7Z0JBQ2JDLE9BQU8sRUFBRVYsa0JBQUFBLDRCQUFBQSxNQUFP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Q1Y1SSxNQUFNK0k7WUFDUjtZQUNBdEosV0FBVzdCLG1FQUFlQTtRQUM5QjtRQUVBLElBQUk7WUFDRixNQUFNa0osTUFBTUssTUFBTTtZQUNsQjVJLE1BQU07Z0JBQ0pvRCxPQUFPO2dCQUNQK0YsYUFBYTtZQUNmO1FBQ0YsRUFBRSxPQUFPbEIsT0FBTztZQUNkRCxRQUFRQyxLQUFLLENBQUMsZ0NBQWdDQTtZQUM5Q2pJLE1BQU07Z0JBQ0prSixTQUFTO2dCQUNUOUYsT0FBTztnQkFDUCtGLGFBQWE7WUFDZjtRQUNGO0lBQ0YsR0FBRztRQUFDcko7UUFBV0M7UUFBTUo7UUFBU0s7S0FBTTtJQUVwQyxPQUFPO1FBQUVJO1FBQVlpSDtRQUFlYTtRQUFlVztJQUFnQjtBQUNyRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvaG9va3MvdXNlLWVsZW1lbnQtbWFuYWdlci50cz9hOTg2Il0sInNvdXJjZXNDb250ZW50IjpbIlxuJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VGaXJlc3RvcmUsIHVzZVVzZXIgfSBmcm9tICdAL2ZpcmViYXNlL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIGNvbGxlY3Rpb24sXG4gIGRvYyxcbiAgdXBkYXRlRG9jLFxuICBzZXJ2ZXJUaW1lc3RhbXAsXG4gIHdyaXRlQmF0Y2gsXG4gIGFkZERvYyxcbiAgZGVsZXRlRG9jLFxuICBnZXREb2MsXG59IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XG5pbXBvcnQgdHlwZSB7IEVsZW1lbnRUeXBlLCBDYW52YXNFbGVtZW50LCBXaXRoSWQsIENhbnZhc0VsZW1lbnRQcm9wZXJ0aWVzLCBDb250YWluZXJDb250ZW50LCBTdGlja3lDYW52YXNFbGVtZW50LCBFbGVtZW50Q29udGVudCB9IGZyb20gJ0AvbGliL3R5cGVzJztcbmltcG9ydCB7IHN0YXJ0T2ZXZWVrIH0gZnJvbSAnZGF0ZS1mbnMnO1xuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VFbGVtZW50TWFuYWdlcihib2FyZElkOiBzdHJpbmcsIGdldFZpZXdwb3J0Q2VudGVyOiAoKSA9PiB7IHg6IG51bWJlciwgeTogbnVtYmVyIH0sIGdldE5leHRaSW5kZXg6IChiYXNlRWxlbWVudElkPzogc3RyaW5nKSA9PiBudW1iZXIpIHtcbiAgY29uc3QgZmlyZXN0b3JlID0gdXNlRmlyZXN0b3JlKCk7XG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlVXNlcigpO1xuICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpO1xuXG4gIC8vIENSw41USUNPOiBVc2FyIHJlZnMgcGFyYSBmdW5jaW9uZXMgcXVlIHB1ZWRlbiBjYW1iaWFyIGZyZWN1ZW50ZW1lbnRlXG4gIC8vIEVzdG8gcHJldmllbmUgcmUtY3JlYWNpb25lcyBjb25zdGFudGVzIGRlIGFkZEVsZW1lbnRcbiAgY29uc3QgZ2V0Vmlld3BvcnRDZW50ZXJSZWYgPSB1c2VSZWYoZ2V0Vmlld3BvcnRDZW50ZXIpO1xuICBjb25zdCBnZXROZXh0WkluZGV4UmVmID0gdXNlUmVmKGdldE5leHRaSW5kZXgpO1xuXG4gIC8vIEFjdHVhbGl6YXIgcmVmcyBjdWFuZG8gY2FtYmlhblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGdldFZpZXdwb3J0Q2VudGVyUmVmLmN1cnJlbnQgPSBnZXRWaWV3cG9ydENlbnRlcjtcbiAgICBnZXROZXh0WkluZGV4UmVmLmN1cnJlbnQgPSBnZXROZXh0WkluZGV4O1xuICB9LCBbZ2V0Vmlld3BvcnRDZW50ZXIsIGdldE5leHRaSW5kZXhdKTtcblxuICBjb25zdCBhZGRFbGVtZW50ID0gdXNlQ2FsbGJhY2soYXN5bmMgKHR5cGU6IEVsZW1lbnRUeXBlLCBwcm9wcz86IHsgY29sb3I/OiBzdHJpbmc7IGNvbnRlbnQ/OiBFbGVtZW50Q29udGVudDsgcHJvcGVydGllcz86IENhbnZhc0VsZW1lbnRQcm9wZXJ0aWVzOyBwYXJlbnRJZD86IHN0cmluZzsgdGFncz86IHN0cmluZ1tdIH0pOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICAgIGlmICghZmlyZXN0b3JlIHx8ICF1c2VyIHx8ICFib2FyZElkKSB7XG4gICAgICBjb25zdCBlcnJvck1zZyA9ICFmaXJlc3RvcmUgPyAnRmlyZXN0b3JlIG5vIGVzdMOhIGRpc3BvbmlibGUnIDogIXVzZXIgPyAnVXN1YXJpbyBubyBhdXRlbnRpY2FkbycgOiAnQm9hcmQgSUQgbm8gdsOhbGlkbyc7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGVycm9yTXNnKSk7XG4gICAgfVxuICAgIGNvbnN0IGVsZW1lbnRzUmVmID0gY29sbGVjdGlvbihmaXJlc3RvcmUsICd1c2VycycsIHVzZXIudWlkLCAnY2FudmFzQm9hcmRzJywgYm9hcmRJZCwgJ2NhbnZhc0VsZW1lbnRzJyk7XG4gICAgaWYgKHR5cGUgPT09ICdjb25uZWN0b3InKSB7XG4gICAgICBjb25zdCBkb2NSZWYgPSBhd2FpdCBhZGREb2MoZWxlbWVudHNSZWYsIHtcbiAgICAgICAgdHlwZTogJ2Nvbm5lY3RvcicsXG4gICAgICAgIHVzZXJJZDogdXNlci51aWQsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBjb250ZW50OiBwcm9wcz8uY29udGVudCxcbiAgICAgICAgY3JlYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcbiAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRvY1JlZi5pZDtcbiAgICB9XG5cbiAgICBjb25zdCBkZWZhdWx0UG9zaXRpb24gPSBnZXRWaWV3cG9ydENlbnRlclJlZi5jdXJyZW50KCk7IC8vIOKchSBVc2FyIHJlZlxuICAgIFxuICAgIC8vIFJFR0xBOiBMb3MgbnVldm9zIGVsZW1lbnRvcyBkZWJlbiBhcGFyZWNlciBlbiBQUklNRVJBIENBUEEgKHpJbmRleCBtw6F4aW1vKVxuICAgIC8vIHBhcmEgcXVlIGVsIHVzdWFyaW8gcHVlZGEgYXJyYXN0cmFybG9zIHkgcmV1YmljYXJsb3MgZsOhY2lsbWVudGVcbiAgICAvLyBFWENFUENJw5NOIENSw41USUNBOiBMb3MgY29udGVuZWRvcmVzIFNJRU1QUkUgZXN0w6FuIGVuIGxhIHByaW1lcmEgY2FwYSAoekluZGV4IDApXG4gICAgLy8gaW5jbHVzbyBhbnRlcyBxdWUgY3VhZGVybm9zLCBwYXJhIHF1ZSBwdWVkYW4gcmVjaWJpciBlbGVtZW50b3MgYXJyYXN0cmFkb3NcbiAgICBsZXQgekluZGV4O1xuICAgIGlmICh0eXBlID09PSAnY29udGFpbmVyJykge1xuICAgICAgICB6SW5kZXggPSAwOyAvLyBDb250ZW5lZG9yZXMgc2llbXByZSBlbiBwcmltZXJhIGNhcGEgKHpJbmRleCAwKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRvZG9zIGxvcyBkZW3DoXMgZWxlbWVudG9zIG51ZXZvcyB2YW4gYSBsYSBQUklNRVJBIENBUEEgKHpJbmRleCBtw6F4aW1vICsgMSlcbiAgICAgICAgekluZGV4ID0gZ2V0TmV4dFpJbmRleFJlZi5jdXJyZW50KCk7IC8vIOKchSBVc2FyIHJlZlxuICAgIH1cblxuICAgIC8vIFJFR0xBICMxOiBMb3MgZWxlbWVudG9zIHNlIGFicmVuIGNlbnRyYWRvcyBlbiBlbCB2aWV3cG9ydCBkZWwgdXN1YXJpb1xuICAgIC8vIFNpIG5vIHNlIHByb3BvcmNpb25hIHVuYSBwb3NpY2nDs24gZXNwZWPDrWZpY2EsIHVzYXIgZWwgY2VudHJvIGRlbCB2aWV3cG9ydFxuICAgIC8vIElNUE9SVEFOVEU6IFZlcmlmaWNhciBxdWUgcHJvcHMgZXhpc3RlIGFudGVzIGRlIGFjY2VkZXIgYSBwcm9wZXJ0aWVzXG4gICAgY29uc3Qgdmlld3BvcnRDZW50ZXIgPSAocHJvcHMgJiYgcHJvcHMucHJvcGVydGllcyAmJiBwcm9wcy5wcm9wZXJ0aWVzLnBvc2l0aW9uKSBcbiAgICAgID8gcHJvcHMucHJvcGVydGllcy5wb3NpdGlvbiBcbiAgICAgIDogZGVmYXVsdFBvc2l0aW9uO1xuICAgIGNvbnN0IGJhc2VTaXplID0gKHByb3BzICYmIHByb3BzLnByb3BlcnRpZXMgJiYgcHJvcHMucHJvcGVydGllcy5zaXplKVxuICAgICAgPyBwcm9wcy5wcm9wZXJ0aWVzLnNpemVcbiAgICAgIDogeyB3aWR0aDogMjAwLCBoZWlnaHQ6IDE1MCB9O1xuICAgIGNvbnN0IHNpemVXaWR0aCA9IHR5cGVvZiBiYXNlU2l6ZS53aWR0aCA9PT0gJ251bWJlcicgPyBiYXNlU2l6ZS53aWR0aCA6IDIwMDtcbiAgICBjb25zdCBzaXplSGVpZ2h0ID0gdHlwZW9mIGJhc2VTaXplLmhlaWdodCA9PT0gJ251bWJlcicgPyBiYXNlU2l6ZS5oZWlnaHQgOiAxNTA7XG5cbiAgICAvLyBIZWxwZXI6IENhbGN1bGEgbGEgcG9zaWNpw7NuIHBhcmEgY2VudHJhciBlbCBlbGVtZW50byBlbiBlbCB2aWV3cG9ydCBWSVNJQkxFXG4gICAgLy8gUkVHTEEgQ1LDjVRJQ0E6IExvcyBlbGVtZW50b3MgZGViZW4gYXBhcmVjZXIgZW4gZWwgRVNQQUNJTyBWSVNJQkxFIGRlbCB1c3VhcmlvXG4gICAgLy8gRWwgZWxlbWVudG8gZGViZSBlc3RhciBjZW50cmFkbyBlbiBlbCDDoXJlYSB2aXNpYmxlIGRlbCB0YWJsZXJvXG4gICAgY29uc3QgZ2V0Q2VudGVyZWRQb3NpdGlvbiA9ICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xuICAgICAgLy8gT2J0ZW5lciBlbCBjZW50cm8gZGVsIHZpZXdwb3J0IHZpc2libGUgKHlhIGNhbGN1bGFkbyBjb24gc2Nyb2xsIHkgc2NhbGUpXG4gICAgICBjb25zdCBjZW50ZXJYID0gdmlld3BvcnRDZW50ZXIueDtcbiAgICAgIGNvbnN0IGNlbnRlclkgPSB2aWV3cG9ydENlbnRlci55O1xuICAgICAgXG4gICAgICAvLyBDYWxjdWxhciBwb3NpY2nDs24gY2VudHJhZGEgaWRlYWwgKGNlbnRybyBkZWwgZWxlbWVudG8gPSBjZW50cm8gZGVsIHZpZXdwb3J0IHZpc2libGUpXG4gICAgICBsZXQgeCA9IGNlbnRlclggLSAod2lkdGggLyAyKTtcbiAgICAgIGxldCB5ID0gY2VudGVyWSAtIChoZWlnaHQgLyAyKTtcbiAgICAgIFxuICAgICAgLy8gQ1LDjVRJQ086IEFzZWd1cmFyIHF1ZSBlbCBlbGVtZW50byBhcGFyZXpjYSBTSUVNUFJFIGVuIGVsIMOhcmVhIHZpc2libGVcbiAgICAgIC8vIFNpIGVsIGPDoWxjdWxvIGRhIG5lZ2F0aXZvLCBhanVzdGFyIHBhcmEgcXVlIGFsIG1lbm9zIHBhcnRlIGRlbCBlbGVtZW50byBzZWEgdmlzaWJsZVxuICAgICAgLy8gTcOtbmltbzogYXNlZ3VyYXIgcXVlIGxhIGVzcXVpbmEgc3VwZXJpb3IgaXpxdWllcmRhIGVzdMOpIGRlbnRybyBkZWwgdmlld3BvcnQgdmlzaWJsZVxuICAgICAgY29uc3QgbWluT2Zmc2V0ID0gMjA7IC8vIE1hcmdlbiBtw61uaW1vIGRlc2RlIGVsIGJvcmRlIHZpc2libGVcbiAgICAgIFxuICAgICAgLy8gT2J0ZW5lciBkaW1lbnNpb25lcyBkZWwgdmlld3BvcnQgZW4gY29vcmRlbmFkYXMgZGVsIGNhbnZhc1xuICAgICAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmlubmVyV2lkdGggOiAxOTIwO1xuICAgICAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5pbm5lckhlaWdodCA6IDEwODA7XG4gICAgICBcbiAgICAgIC8vIEFzZWd1cmFyIHF1ZSBlbCBlbGVtZW50byBxdWVkZSBkZW50cm8gZGVsIMOhcmVhIHZpc2libGUgZGVsIHZpZXdwb3J0XG4gICAgICAvLyBTaSBlbCBlbGVtZW50byBlcyBtw6FzIHBlcXVlw7FvIHF1ZSBlbCB2aWV3cG9ydCwgY2VudHJhcmxvXG4gICAgICAvLyBTaSBlcyBtw6FzIGdyYW5kZSwgYXNlZ3VyYXIgcXVlIGFsIG1lbm9zIHBhcnRlIHNlYSB2aXNpYmxlXG4gICAgICBpZiAod2lkdGggPD0gdmlld3BvcnRXaWR0aCkge1xuICAgICAgICAvLyBFbGVtZW50byBjYWJlIGVuIGVsIHZpZXdwb3J0OiBjZW50cmFybG9cbiAgICAgICAgeCA9IE1hdGgubWF4KG1pbk9mZnNldCwgTWF0aC5taW4oeCwgY2VudGVyWCArIHZpZXdwb3J0V2lkdGggLyAyIC0gd2lkdGgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEVsZW1lbnRvIG3DoXMgZ3JhbmRlIHF1ZSBlbCB2aWV3cG9ydDogYWxpbmVhciBwYXJhIHF1ZSBzZWEgdmlzaWJsZSBkZXNkZSBlbCBpbmljaW9cbiAgICAgICAgeCA9IE1hdGgubWF4KG1pbk9mZnNldCwgY2VudGVyWCAtIHZpZXdwb3J0V2lkdGggLyA0KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKGhlaWdodCA8PSB2aWV3cG9ydEhlaWdodCkge1xuICAgICAgICAvLyBFbGVtZW50byBjYWJlIGVuIGVsIHZpZXdwb3J0OiBjZW50cmFybG9cbiAgICAgICAgeSA9IE1hdGgubWF4KG1pbk9mZnNldCwgTWF0aC5taW4oeSwgY2VudGVyWSArIHZpZXdwb3J0SGVpZ2h0IC8gMiAtIGhlaWdodCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRWxlbWVudG8gbcOhcyBncmFuZGUgcXVlIGVsIHZpZXdwb3J0OiBhbGluZWFyIHBhcmEgcXVlIHNlYSB2aXNpYmxlIGRlc2RlIGVsIGluaWNpb1xuICAgICAgICB5ID0gTWF0aC5tYXgobWluT2Zmc2V0LCBjZW50ZXJZIC0gdmlld3BvcnRIZWlnaHQgLyA0KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVmVyaWZpY2FjacOzbiBmaW5hbDogTlVOQ0EgcGVybWl0aXIgY29vcmRlbmFkYXMgbmVnYXRpdmFzXG4gICAgICByZXR1cm4geyBcbiAgICAgICAgeDogTWF0aC5tYXgoMCwgeCksIFxuICAgICAgICB5OiBNYXRoLm1heCgwLCB5KVxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgLy8gQ29uc3RydWlyIGJhc2VQcm9wZXJ0aWVzIGRlIGZvcm1hIHNlZ3VyYVxuICAgIGNvbnN0IGJhc2VQcm9wZXJ0aWVzOiBQYXJ0aWFsPENhbnZhc0VsZW1lbnRQcm9wZXJ0aWVzPiA9IHtcbiAgICAgIHNpemU6IGJhc2VTaXplLFxuICAgICAgekluZGV4OiB6SW5kZXgsXG4gICAgICByb3RhdGlvbjogMCxcbiAgICB9O1xuICAgIFxuICAgIC8vIEFncmVnYXIgcHJvcGllZGFkZXMgYWRpY2lvbmFsZXMgZGUgcHJvcHMgc2kgZXhpc3RlblxuICAgIGlmIChwcm9wcyAmJiBwcm9wcy5wcm9wZXJ0aWVzICYmIHR5cGVvZiBwcm9wcy5wcm9wZXJ0aWVzID09PSAnb2JqZWN0Jykge1xuICAgICAgT2JqZWN0LmFzc2lnbihiYXNlUHJvcGVydGllcywgcHJvcHMucHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgbGV0IG5ld0VsZW1lbnREYXRhOiBPbWl0PFdpdGhJZDxDYW52YXNFbGVtZW50PiwgJ2lkJz4gJiB7IHR5cGU6IEVsZW1lbnRUeXBlIH07XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ25vdGVwYWQnOlxuICAgICAgICBjb25zdCBub3RlcGFkU2l6ZSA9IHsgd2lkdGg6IDc5NCwgaGVpZ2h0OiA5NzggfTtcbiAgICAgICAgY29uc3Qgbm90ZXBhZFBvcyA9IGdldENlbnRlcmVkUG9zaXRpb24obm90ZXBhZFNpemUud2lkdGgsIG5vdGVwYWRTaXplLmhlaWdodCk7XG4gICAgICAgIG5ld0VsZW1lbnREYXRhID0geyB0eXBlLCB4OiBub3RlcGFkUG9zLngsIHk6IG5vdGVwYWRQb3MueSwgd2lkdGg6IG5vdGVwYWRTaXplLndpZHRoLCBoZWlnaHQ6IG5vdGVwYWRTaXplLmhlaWdodCwgdXNlcklkOiB1c2VyLnVpZCwgcHJvcGVydGllczogeyAuLi5iYXNlUHJvcGVydGllcywgcG9zaXRpb246IG5vdGVwYWRQb3MsIHNpemU6IG5vdGVwYWRTaXplLCBmb3JtYXQ6ICdsZXR0ZXInIH0sIGNvbnRlbnQ6IHsgdGl0bGU6ICdOdWV2byBDdWFkZXJubycsIHBhZ2VzOiBBcnJheSg1KS5maWxsKCc8ZGl2Pjxicj48L2Rpdj4nKSwgY3VycmVudFBhZ2U6IDAgfSwgekluZGV4LCBjcmVhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLCB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpIH07IGJyZWFrO1xuICAgICAgY2FzZSAnbm90ZXBhZC1zaW1wbGUnOlxuICAgICAgICBjb25zdCBub3RlcGFkU2ltcGxlU2l6ZSA9IHsgd2lkdGg6IDMwMiwgaGVpZ2h0OiA0OTEgfTtcbiAgICAgICAgY29uc3Qgbm90ZXBhZFNpbXBsZVBvcyA9IGdldENlbnRlcmVkUG9zaXRpb24obm90ZXBhZFNpbXBsZVNpemUud2lkdGgsIG5vdGVwYWRTaW1wbGVTaXplLmhlaWdodCk7XG4gICAgICAgIG5ld0VsZW1lbnREYXRhID0geyB0eXBlLCB4OiBub3RlcGFkU2ltcGxlUG9zLngsIHk6IG5vdGVwYWRTaW1wbGVQb3MueSwgd2lkdGg6IG5vdGVwYWRTaW1wbGVTaXplLndpZHRoLCBoZWlnaHQ6IG5vdGVwYWRTaW1wbGVTaXplLmhlaWdodCwgdXNlcklkOiB1c2VyLnVpZCwgcHJvcGVydGllczogeyAuLi5iYXNlUHJvcGVydGllcywgcG9zaXRpb246IG5vdGVwYWRTaW1wbGVQb3MsIHNpemU6IG5vdGVwYWRTaW1wbGVTaXplIH0sIGNvbnRlbnQ6IHsgdGl0bGU6ICdOdWV2byBOb3RlcGFkJywgdGV4dDogJzxkaXY+PGJyPjwvZGl2PicgfSwgekluZGV4LCBjcmVhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLCB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpIH07IGJyZWFrO1xuICAgICAgY2FzZSAnc3VwZXItbm90ZWJvb2snOlxuICAgICAgICAvLyBUYW1hw7FvIGV4YWN0bzogMjFjbSB4IDI3Y20gKDc5NHB4IHggMTAyMXB4IGEgOTYgRFBJKVxuICAgICAgICBjb25zdCBzdXBlck5vdGVib29rU2l6ZSA9IHsgd2lkdGg6IDc5NCwgaGVpZ2h0OiAxMDIxIH07XG4gICAgICAgIGNvbnN0IHN1cGVyTm90ZWJvb2tQb3MgPSBnZXRDZW50ZXJlZFBvc2l0aW9uKHN1cGVyTm90ZWJvb2tTaXplLndpZHRoLCBzdXBlck5vdGVib29rU2l6ZS5oZWlnaHQpO1xuICAgICAgICBuZXdFbGVtZW50RGF0YSA9IHsgdHlwZSwgeDogc3VwZXJOb3RlYm9va1Bvcy54LCB5OiBzdXBlck5vdGVib29rUG9zLnksIHdpZHRoOiBzdXBlck5vdGVib29rU2l6ZS53aWR0aCwgaGVpZ2h0OiBzdXBlck5vdGVib29rU2l6ZS5oZWlnaHQsIHVzZXJJZDogdXNlci51aWQsIHByb3BlcnRpZXM6IHsgLi4uYmFzZVByb3BlcnRpZXMsIHBvc2l0aW9uOiBzdXBlck5vdGVib29rUG9zLCBzaXplOiBzdXBlck5vdGVib29rU2l6ZSB9LCBjb250ZW50OiB7IHRpdGxlOiAnU3VwZXIgQ3VhZGVybm8nLCBwYWdlczogQXJyYXkoNSkuZmlsbCgnPGRpdj48YnI+PC9kaXY+JyksIGN1cnJlbnRQYWdlOiAwIH0sIHpJbmRleCwgY3JlYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSwgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSB9OyBicmVhaztcbiAgICAgIGNhc2UgJ3N0aWNreSc6XG4gICAgICAgIGNvbnN0IHN0aWNreUNvbG9yID0gcHJvcHM/LmNvbG9yIHx8ICd5ZWxsb3cnO1xuICAgICAgICBjb25zdCBzdGlja3lTaXplID0geyB3aWR0aDogMjI0LCBoZWlnaHQ6IDIyNCB9O1xuICAgICAgICBjb25zdCBzdGlja3lQb3MgPSBnZXRDZW50ZXJlZFBvc2l0aW9uKHN0aWNreVNpemUud2lkdGgsIHN0aWNreVNpemUuaGVpZ2h0KTtcbiAgICAgICAgY29uc3Qgc3RpY2t5RWxlbWVudDogT21pdDxTdGlja3lDYW52YXNFbGVtZW50LCAnaWQnPiA9IHsgXG4gICAgICAgICAgdHlwZTogJ3N0aWNreScsIFxuICAgICAgICAgIHg6IHN0aWNreVBvcy54LCBcbiAgICAgICAgICB5OiBzdGlja3lQb3MueSwgXG4gICAgICAgICAgd2lkdGg6IHN0aWNreVNpemUud2lkdGgsIFxuICAgICAgICAgIGhlaWdodDogc3RpY2t5U2l6ZS5oZWlnaHQsIFxuICAgICAgICAgIHVzZXJJZDogdXNlci51aWQsIFxuICAgICAgICAgIHByb3BlcnRpZXM6IHsgLi4uYmFzZVByb3BlcnRpZXMsIHBvc2l0aW9uOiBzdGlja3lQb3MsIHNpemU6IHN0aWNreVNpemUsIGNvbG9yOiBzdGlja3lDb2xvciB9IGFzIENhbnZhc0VsZW1lbnRQcm9wZXJ0aWVzLCBcbiAgICAgICAgICBjb250ZW50OiAodHlwZW9mIHByb3BzPy5jb250ZW50ID09PSAnc3RyaW5nJyA/IHByb3BzLmNvbnRlbnQgOiAnRXNjcmliZSBhbGdvLi4uJyksIFxuICAgICAgICAgIHpJbmRleCwgXG4gICAgICAgICAgY3JlYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSwgXG4gICAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcbiAgICAgICAgICAuLi4ocHJvcHM/LnRhZ3MgJiYgeyB0YWdzOiBwcm9wcy50YWdzIH0pLFxuICAgICAgICB9O1xuICAgICAgICBuZXdFbGVtZW50RGF0YSA9IHN0aWNreUVsZW1lbnQ7IGJyZWFrO1xuICAgICAgY2FzZSAndG9kbyc6XG4gICAgICAgIGNvbnN0IHRvZG9TaXplID0geyB3aWR0aDogMzAwLCBoZWlnaHQ6IDE1MCB9O1xuICAgICAgICBjb25zdCB0b2RvUG9zID0gZ2V0Q2VudGVyZWRQb3NpdGlvbih0b2RvU2l6ZS53aWR0aCwgdG9kb1NpemUuaGVpZ2h0KTtcbiAgICAgICAgbmV3RWxlbWVudERhdGEgPSB7IHR5cGUsIHg6IHRvZG9Qb3MueCwgeTogdG9kb1Bvcy55LCB3aWR0aDogdG9kb1NpemUud2lkdGgsIGhlaWdodDogdG9kb1NpemUuaGVpZ2h0LCB1c2VySWQ6IHVzZXIudWlkLCBwcm9wZXJ0aWVzOiB7IC4uLmJhc2VQcm9wZXJ0aWVzLCBwb3NpdGlvbjogdG9kb1Bvcywgc2l6ZTogdG9kb1NpemUgfSwgY29udGVudDogcHJvcHM/LmNvbnRlbnQgfHwgeyB0aXRsZTogJ0xpc3RhIGRlIFRhcmVhcycsIGl0ZW1zOiBbXSB9LCB6SW5kZXgsIGNyZWF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCkgfTsgYnJlYWs7XG4gICAgICBjYXNlICdpbWFnZSc6XG4gICAgICAgIGNvbnN0IGltYWdlUG9zID0gZ2V0Q2VudGVyZWRQb3NpdGlvbihzaXplV2lkdGgsIHNpemVIZWlnaHQpO1xuICAgICAgICBuZXdFbGVtZW50RGF0YSA9IHsgdHlwZSwgeDogaW1hZ2VQb3MueCwgeTogaW1hZ2VQb3MueSwgd2lkdGg6IHNpemVXaWR0aCwgaGVpZ2h0OiBzaXplSGVpZ2h0LCB1c2VySWQ6IHVzZXIudWlkLCBwcm9wZXJ0aWVzOiB7IC4uLmJhc2VQcm9wZXJ0aWVzLCBwb3NpdGlvbjogaW1hZ2VQb3MsIHNpemU6IHsgd2lkdGg6IHNpemVXaWR0aCwgaGVpZ2h0OiBzaXplSGVpZ2h0IH0gfSwgY29udGVudDogcHJvcHM/LmNvbnRlbnQsIHpJbmRleCwgY3JlYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSwgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSB9OyBicmVhaztcbiAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICBjb25zdCB0ZXh0UG9zID0gZ2V0Q2VudGVyZWRQb3NpdGlvbihzaXplV2lkdGgsIHNpemVIZWlnaHQpO1xuICAgICAgICBjb25zdCB0ZXh0QmdDb2xvciA9IChwcm9wcz8ucHJvcGVydGllcyBhcyBDYW52YXNFbGVtZW50UHJvcGVydGllcyk/LmJhY2tncm91bmRDb2xvciB8fCAnI2ZmZmZmZic7XG4gICAgICAgIG5ld0VsZW1lbnREYXRhID0geyB0eXBlLCB4OiB0ZXh0UG9zLngsIHk6IHRleHRQb3MueSwgd2lkdGg6IHNpemVXaWR0aCwgaGVpZ2h0OiBzaXplSGVpZ2h0LCB1c2VySWQ6IHVzZXIudWlkLCBwcm9wZXJ0aWVzOiB7IC4uLmJhc2VQcm9wZXJ0aWVzLCBwb3NpdGlvbjogdGV4dFBvcywgc2l6ZTogeyB3aWR0aDogc2l6ZVdpZHRoLCBoZWlnaHQ6IHNpemVIZWlnaHQgfSwgYmFja2dyb3VuZENvbG9yOiB0ZXh0QmdDb2xvciB9LCBjb250ZW50OiBwcm9wcz8uY29udGVudCB8fCAnPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMThweDtcIj5Fc2NyaWJlIGFsZ28uLi48L2Rpdj4nLCBjb2xvcjogcHJvcHM/LmNvbG9yIHx8ICd3aGl0ZScsIHpJbmRleCwgY3JlYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSwgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSB9OyBicmVhaztcbiAgICAgIGNhc2UgJ2NvbnRhaW5lcic6XG4gICAgICAgIC8vIFJFR0xBIEVTUEVDSUFMOiBFbGVtZW50byBLODVoQzhNNXNwZnNnUklUbkVRUiAobGllbnpvKSBkZWJlIHNlciA2MCUgbcOhcyBwZXF1ZcOxbyB5IGNvbG9yICNkYWY0YzVcbiAgICAgICAgY29uc3QgZGVmYXVsdENvbnRhaW5lclNpemUgPSB7IHdpZHRoOiAzNzgsIGhlaWdodDogNTY3IH07IC8vIDEweDE1IGNtIGVuIHDDrXhlbGVzXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lclNpemUgPSAocHJvcHM/LnByb3BlcnRpZXM/LnNpemUpIFxuICAgICAgICAgID8gcHJvcHMucHJvcGVydGllcy5zaXplIFxuICAgICAgICAgIDogZGVmYXVsdENvbnRhaW5lclNpemU7XG4gICAgICAgIC8vIFNpIGVzIGVsIGxpZW56byBlc3BlY2lhbCAodMOtdHVsbyBcIkxpZW56b1wiIG8gSUQgZXNwZWPDrWZpY28pLCByZWR1Y2lyIGFuY2hvIDUwJVxuICAgICAgICBjb25zdCBjb250YWluZXJDb250ZW50ID0gcHJvcHM/LmNvbnRlbnQgJiYgdHlwZW9mIHByb3BzLmNvbnRlbnQgPT09ICdvYmplY3QnICYmICd0aXRsZScgaW4gcHJvcHMuY29udGVudCBcbiAgICAgICAgICA/IChwcm9wcy5jb250ZW50IGFzIGFueSkgXG4gICAgICAgICAgOiBudWxsO1xuICAgICAgICBjb25zdCBpc1NwZWNpYWxMaWVuem8gPSBjb250YWluZXJDb250ZW50Py50aXRsZSA9PT0gJ0xpZW56bycgfHwgY29udGFpbmVyQ29udGVudD8udGl0bGUgPT09ICdsaWVuem8nO1xuICAgICAgICBjb25zdCBmaW5hbENvbnRhaW5lclNpemUgPSBpc1NwZWNpYWxMaWVuem8gXG4gICAgICAgICAgPyB7IHdpZHRoOiBNYXRoLnJvdW5kKCh0eXBlb2YgY29udGFpbmVyU2l6ZS53aWR0aCA9PT0gJ251bWJlcicgPyBjb250YWluZXJTaXplLndpZHRoIDogMzc4KSAqIDAuNSksIGhlaWdodDogdHlwZW9mIGNvbnRhaW5lclNpemUuaGVpZ2h0ID09PSAnbnVtYmVyJyA/IGNvbnRhaW5lclNpemUuaGVpZ2h0IDogNTY3IH1cbiAgICAgICAgICA6IGNvbnRhaW5lclNpemU7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lclBvcyA9IGdldENlbnRlcmVkUG9zaXRpb24odHlwZW9mIGZpbmFsQ29udGFpbmVyU2l6ZS53aWR0aCA9PT0gJ251bWJlcicgPyBmaW5hbENvbnRhaW5lclNpemUud2lkdGggOiAzNzgsIHR5cGVvZiBmaW5hbENvbnRhaW5lclNpemUuaGVpZ2h0ID09PSAnbnVtYmVyJyA/IGZpbmFsQ29udGFpbmVyU2l6ZS5oZWlnaHQgOiA1NjcpO1xuICAgICAgICBjb25zdCBjb250YWluZXJCYWNrZ3JvdW5kQ29sb3IgPSBpc1NwZWNpYWxMaWVuem9cbiAgICAgICAgICA/ICcjZGFmNGM1JyAvLyBDb2xvciBlc3BlY2lhbCBwYXJhIGxpZW56b1xuICAgICAgICAgIDogKChwcm9wcz8ucHJvcGVydGllcz8uYmFja2dyb3VuZENvbG9yKSBcbiAgICAgICAgICAgID8gcHJvcHMucHJvcGVydGllcy5iYWNrZ3JvdW5kQ29sb3IgXG4gICAgICAgICAgICA6ICd3aGl0ZScpO1xuICAgICAgICAvLyBSRUdMQTogTGllbnpvIGRlYmUgdGVuZXIgekluZGV4ID0gLTEgKGRlYmFqbyBkZSB0b2RvcyBleGNlcHRvIGN1YWRlcm5vcyBxdWUgdGllbmVuIHpJbmRleCA9IDEpXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lclpJbmRleCA9IGlzU3BlY2lhbExpZW56byA/IC0xIDogekluZGV4O1xuICAgICAgICBjb25zdCBmaW5hbENvbnRhaW5lckNvbnRlbnQgPSBjb250YWluZXJDb250ZW50IHx8IHsgdGl0bGU6ICdOdWV2byBDb250ZW5lZG9yJywgZWxlbWVudElkczogW10sIGxheW91dDogJ3NpbmdsZScgfTtcbiAgICAgICAgbmV3RWxlbWVudERhdGEgPSB7IHR5cGU6ICdjb250YWluZXInLCB4OiBjb250YWluZXJQb3MueCwgeTogY29udGFpbmVyUG9zLnksIHdpZHRoOiB0eXBlb2YgZmluYWxDb250YWluZXJTaXplLndpZHRoID09PSAnbnVtYmVyJyA/IGZpbmFsQ29udGFpbmVyU2l6ZS53aWR0aCA6IDM3OCwgaGVpZ2h0OiB0eXBlb2YgZmluYWxDb250YWluZXJTaXplLmhlaWdodCA9PT0gJ251bWJlcicgPyBmaW5hbENvbnRhaW5lclNpemUuaGVpZ2h0IDogNTY3LCB1c2VySWQ6IHVzZXIudWlkLCBwcm9wZXJ0aWVzOiB7IC4uLmJhc2VQcm9wZXJ0aWVzLCBwb3NpdGlvbjogY29udGFpbmVyUG9zLCBzaXplOiBmaW5hbENvbnRhaW5lclNpemUsIGJhY2tncm91bmRDb2xvcjogY29udGFpbmVyQmFja2dyb3VuZENvbG9yLCB6SW5kZXg6IGNvbnRhaW5lclpJbmRleCB9LCBjb250ZW50OiBmaW5hbENvbnRhaW5lckNvbnRlbnQsIHpJbmRleDogY29udGFpbmVyWkluZGV4LCBjcmVhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLCB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpIH07IGJyZWFrO1xuICAgICAgY2FzZSAnY29tbWVudCc6XG4gICAgICAgIGNvbnN0IGNvbW1lbnRTaXplID0geyB3aWR0aDogMzIsIGhlaWdodDogMzIgfTtcbiAgICAgICAgY29uc3QgY29tbWVudFBvcyA9IGdldENlbnRlcmVkUG9zaXRpb24oY29tbWVudFNpemUud2lkdGgsIGNvbW1lbnRTaXplLmhlaWdodCk7XG4gICAgICAgIG5ld0VsZW1lbnREYXRhID0geyB0eXBlLCB4OiBjb21tZW50UG9zLngsIHk6IGNvbW1lbnRQb3MueSwgd2lkdGg6IGNvbW1lbnRTaXplLndpZHRoLCBoZWlnaHQ6IGNvbW1lbnRTaXplLmhlaWdodCwgdXNlcklkOiB1c2VyLnVpZCwgcHJvcGVydGllczogeyAuLi5iYXNlUHJvcGVydGllcywgcG9zaXRpb246IGNvbW1lbnRQb3MsIHNpemU6IGNvbW1lbnRTaXplIH0sIGNvbnRlbnQ6IHByb3BzPy5jb250ZW50IHx8IHsgdGl0bGU6ICcnLCBsYWJlbDogJycsIGNvbW1lbnQ6ICcnIH0sIHBhcmVudElkOiBwcm9wcz8ucGFyZW50SWQgfHwgdW5kZWZpbmVkLCB6SW5kZXgsIGNyZWF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCkgfTsgYnJlYWs7XG4gICAgICBjYXNlICdtb29kYm9hcmQnOlxuICAgICAgICBjb25zdCBtb29kYm9hcmRTaXplID0geyB3aWR0aDogNjAwLCBoZWlnaHQ6IDUwMCB9O1xuICAgICAgICBjb25zdCBtb29kYm9hcmRQb3MgPSBnZXRDZW50ZXJlZFBvc2l0aW9uKG1vb2Rib2FyZFNpemUud2lkdGgsIG1vb2Rib2FyZFNpemUuaGVpZ2h0KTtcbiAgICAgICAgbmV3RWxlbWVudERhdGEgPSB7IHR5cGUsIHg6IG1vb2Rib2FyZFBvcy54LCB5OiBtb29kYm9hcmRQb3MueSwgd2lkdGg6IG1vb2Rib2FyZFNpemUud2lkdGgsIGhlaWdodDogbW9vZGJvYXJkU2l6ZS5oZWlnaHQsIHVzZXJJZDogdXNlci51aWQsIHByb3BlcnRpZXM6IHsgLi4uYmFzZVByb3BlcnRpZXMsIHBvc2l0aW9uOiBtb29kYm9hcmRQb3MsIHNpemU6IG1vb2Rib2FyZFNpemUsIGJhY2tncm91bmRDb2xvcjogJyNmZmZmZmYnIH0sIGNvbnRlbnQ6IHByb3BzPy5jb250ZW50IHx8IHsgdGl0bGU6ICdOdWV2byBNb29kYm9hcmQnLCBpbWFnZXM6IFtdLCBhbm5vdGF0aW9uczogW10sIGxheW91dDogJ2dyaWQnIH0sIHpJbmRleCwgY3JlYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSwgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSB9OyBicmVhaztcbiAgICAgIGNhc2UgJ3RhYmJlZC1ub3RlcGFkJzpcbiAgICAgICAgY29uc3QgdGFiYmVkU2l6ZSA9IHsgd2lkdGg6IDUwMCwgaGVpZ2h0OiA0MDAgfTtcbiAgICAgICAgY29uc3QgdGFiYmVkUG9zID0gZ2V0Q2VudGVyZWRQb3NpdGlvbih0YWJiZWRTaXplLndpZHRoLCB0YWJiZWRTaXplLmhlaWdodCk7XG4gICAgICAgIG5ld0VsZW1lbnREYXRhID0geyB0eXBlLCB4OiB0YWJiZWRQb3MueCwgeTogdGFiYmVkUG9zLnksIHdpZHRoOiB0YWJiZWRTaXplLndpZHRoLCBoZWlnaHQ6IHRhYmJlZFNpemUuaGVpZ2h0LCB1c2VySWQ6IHVzZXIudWlkLCBwcm9wZXJ0aWVzOiB7IC4uLmJhc2VQcm9wZXJ0aWVzLCBwb3NpdGlvbjogdGFiYmVkUG9zLCBzaXplOiB0YWJiZWRTaXplLCBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyB9LCBjb250ZW50OiBwcm9wcz8uY29udGVudCB8fCB7IHRpdGxlOiAnQmxvYyBkZSBOb3RhcycsIHRhYnM6IFt7IGlkOiAndGFiLTEnLCB0aXRsZTogJ1Blc3Rhw7FhIDEnLCBjb250ZW50OiAnJyB9XSwgYWN0aXZlVGFiSWQ6ICd0YWItMScgfSwgekluZGV4LCBjcmVhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLCB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpIH07IGJyZWFrO1xuICAgICAgY2FzZSAnYWNjb3JkaW9uJzpcbiAgICAgICAgY29uc3QgYWNjb3JkaW9uU2l6ZSA9IHsgd2lkdGg6IDMyMCwgaGVpZ2h0OiAyNDAgfTsgLy8gMjAlIG3DoXMgcGVxdWXDsW8gcXVlIDQwMHgzMDBcbiAgICAgICAgY29uc3QgYWNjb3JkaW9uUG9zID0gZ2V0Q2VudGVyZWRQb3NpdGlvbihhY2NvcmRpb25TaXplLndpZHRoLCBhY2NvcmRpb25TaXplLmhlaWdodCk7XG4gICAgICAgIG5ld0VsZW1lbnREYXRhID0geyB0eXBlLCB4OiBhY2NvcmRpb25Qb3MueCwgeTogYWNjb3JkaW9uUG9zLnksIHdpZHRoOiBhY2NvcmRpb25TaXplLndpZHRoLCBoZWlnaHQ6IGFjY29yZGlvblNpemUuaGVpZ2h0LCB1c2VySWQ6IHVzZXIudWlkLCBwcm9wZXJ0aWVzOiB7IC4uLmJhc2VQcm9wZXJ0aWVzLCBwb3NpdGlvbjogYWNjb3JkaW9uUG9zLCBzaXplOiBhY2NvcmRpb25TaXplLCBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyB9LCBjb250ZW50OiBwcm9wcz8uY29udGVudCB8fCB7IGl0ZW1zOiBbeyBpZDogJzEnLCB0aXRsZTogJ051ZXZvIEl0ZW0nLCBjb250ZW50OiAnJyB9XSB9LCB6SW5kZXgsIGNyZWF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCkgfTsgYnJlYWs7XG4gICAgICBjYXNlICdzdG9wd2F0Y2gnOlxuICAgICAgICBjb25zdCBzdG9wd2F0Y2hTaXplID0geyB3aWR0aDogMjAwLCBoZWlnaHQ6IDEyMCB9O1xuICAgICAgICBjb25zdCBzdG9wd2F0Y2hQb3MgPSBnZXRDZW50ZXJlZFBvc2l0aW9uKHN0b3B3YXRjaFNpemUud2lkdGgsIHN0b3B3YXRjaFNpemUuaGVpZ2h0KTtcbiAgICAgICAgbmV3RWxlbWVudERhdGEgPSB7IHR5cGU6ICdzdG9wd2F0Y2gnIGFzIEVsZW1lbnRUeXBlLCB4OiBzdG9wd2F0Y2hQb3MueCwgeTogc3RvcHdhdGNoUG9zLnksIHdpZHRoOiBzdG9wd2F0Y2hTaXplLndpZHRoLCBoZWlnaHQ6IHN0b3B3YXRjaFNpemUuaGVpZ2h0LCB1c2VySWQ6IHVzZXIudWlkLCBwcm9wZXJ0aWVzOiB7IC4uLmJhc2VQcm9wZXJ0aWVzLCBwb3NpdGlvbjogc3RvcHdhdGNoUG9zLCBzaXplOiBzdG9wd2F0Y2hTaXplLCBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwJyB9LCBjb250ZW50OiB7IHRpbWU6IDAsIGlzUnVubmluZzogZmFsc2UgfSwgekluZGV4LCBjcmVhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLCB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpIH0gYXMgT21pdDxXaXRoSWQ8Q2FudmFzRWxlbWVudD4sICdpZCc+ICYgeyB0eXBlOiBFbGVtZW50VHlwZSB9OyBicmVhaztcbiAgICAgIGNhc2UgJ2NvdW50ZG93bic6XG4gICAgICAgIGNvbnN0IGNvdW50ZG93blNpemUgPSB7IHdpZHRoOiAyMDAsIGhlaWdodDogMTgwIH07XG4gICAgICAgIGNvbnN0IGNvdW50ZG93blBvcyA9IGdldENlbnRlcmVkUG9zaXRpb24oY291bnRkb3duU2l6ZS53aWR0aCwgY291bnRkb3duU2l6ZS5oZWlnaHQpO1xuICAgICAgICBuZXdFbGVtZW50RGF0YSA9IHsgdHlwZTogJ2NvdW50ZG93bicgYXMgRWxlbWVudFR5cGUsIHg6IGNvdW50ZG93blBvcy54LCB5OiBjb3VudGRvd25Qb3MueSwgd2lkdGg6IGNvdW50ZG93blNpemUud2lkdGgsIGhlaWdodDogY291bnRkb3duU2l6ZS5oZWlnaHQsIHVzZXJJZDogdXNlci51aWQsIHByb3BlcnRpZXM6IHsgLi4uYmFzZVByb3BlcnRpZXMsIHBvc2l0aW9uOiBjb3VudGRvd25Qb3MsIHNpemU6IGNvdW50ZG93blNpemUsIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDAnIH0sIGNvbnRlbnQ6IHsgdGltZUxlZnQ6IDAsIHNlbGVjdGVkTWludXRlczogNSwgaXNSdW5uaW5nOiBmYWxzZSB9LCB6SW5kZXgsIGNyZWF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCkgfTsgYnJlYWs7XG4gICAgICBjYXNlICdoaWdobGlnaHQtdGV4dCc6XG4gICAgICAgIGNvbnN0IGhpZ2hsaWdodFNpemUgPSB7IHdpZHRoOiAzMDAsIGhlaWdodDogMTUwIH07XG4gICAgICAgIGNvbnN0IGhpZ2hsaWdodFBvcyA9IGdldENlbnRlcmVkUG9zaXRpb24oaGlnaGxpZ2h0U2l6ZS53aWR0aCwgaGlnaGxpZ2h0U2l6ZS5oZWlnaHQpO1xuICAgICAgICBjb25zdCBoaWdobGlnaHRDb2xvciA9IChwcm9wcz8ucHJvcGVydGllcz8uYmFja2dyb3VuZENvbG9yKSA/IHByb3BzLnByb3BlcnRpZXMuYmFja2dyb3VuZENvbG9yIDogJyNmZmZiOGInO1xuICAgICAgICBuZXdFbGVtZW50RGF0YSA9IHsgdHlwZTogJ2hpZ2hsaWdodC10ZXh0JyBhcyBFbGVtZW50VHlwZSwgeDogaGlnaGxpZ2h0UG9zLngsIHk6IGhpZ2hsaWdodFBvcy55LCB3aWR0aDogaGlnaGxpZ2h0U2l6ZS53aWR0aCwgaGVpZ2h0OiBoaWdobGlnaHRTaXplLmhlaWdodCwgdXNlcklkOiB1c2VyLnVpZCwgcHJvcGVydGllczogeyAuLi5iYXNlUHJvcGVydGllcywgcG9zaXRpb246IGhpZ2hsaWdodFBvcywgc2l6ZTogaGlnaGxpZ2h0U2l6ZSwgYmFja2dyb3VuZENvbG9yOiBoaWdobGlnaHRDb2xvciB9LCBjb250ZW50OiB7IHRleHQ6ICcnIH0sIHpJbmRleCwgY3JlYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSwgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSB9OyBicmVhaztcbiAgICAgIGNhc2UgJ3llbGxvdy1ub3RlcGFkJzpcbiAgICAgICAgLy8gVGFtYcOxbyBiYXNhZG8gZW4gbGFzIGltw6FnZW5lczogYXByb3hpbWFkYW1lbnRlIDQwMHg2MDBweCAocG9ydHJhaXQpXG4gICAgICAgIGNvbnN0IHllbGxvd05vdGVwYWRTaXplID0geyB3aWR0aDogNDAwLCBoZWlnaHQ6IDYwMCB9O1xuICAgICAgICBjb25zdCB5ZWxsb3dOb3RlcGFkUG9zID0gZ2V0Q2VudGVyZWRQb3NpdGlvbih5ZWxsb3dOb3RlcGFkU2l6ZS53aWR0aCwgeWVsbG93Tm90ZXBhZFNpemUuaGVpZ2h0KTtcbiAgICAgICAgbmV3RWxlbWVudERhdGEgPSB7IHR5cGUsIHg6IHllbGxvd05vdGVwYWRQb3MueCwgeTogeWVsbG93Tm90ZXBhZFBvcy55LCB3aWR0aDogeWVsbG93Tm90ZXBhZFNpemUud2lkdGgsIGhlaWdodDogeWVsbG93Tm90ZXBhZFNpemUuaGVpZ2h0LCB1c2VySWQ6IHVzZXIudWlkLCBwcm9wZXJ0aWVzOiB7IC4uLmJhc2VQcm9wZXJ0aWVzLCBwb3NpdGlvbjogeWVsbG93Tm90ZXBhZFBvcywgc2l6ZTogeWVsbG93Tm90ZXBhZFNpemUsIGJhY2tncm91bmRDb2xvcjogJyNGRkZGRTAnIH0sIGNvbnRlbnQ6IHByb3BzPy5jb250ZW50IHx8IHsgdGV4dDogJycsIHNlYXJjaFF1ZXJ5OiAnJyB9LCB6SW5kZXgsIGNyZWF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCkgfTsgYnJlYWs7XG4gICAgICBkZWZhdWx0OiByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGBUaXBvIGRlIGVsZW1lbnRvIGludsOhbGlkbzogJHt0eXBlfWApKTtcbiAgICB9XG4gIFxuICAgIGNvbnN0IGRvY1JlZiA9IGF3YWl0IGFkZERvYyhlbGVtZW50c1JlZiwgbmV3RWxlbWVudERhdGEpO1xuICAgIHJldHVybiBkb2NSZWYuaWQ7XG4gIH0sIFtmaXJlc3RvcmUsIHVzZXIsIGJvYXJkSWRdKTsgLy8g4pyFIFJlbW92aWRvIGdldE5leHRaSW5kZXggeSBnZXRWaWV3cG9ydENlbnRlciAtIHVzYXIgZGlyZWN0YW1lbnRlIHNpbiBkZXBlbmRlbmNpYXNcblxuICBjb25zdCB1cGRhdGVFbGVtZW50ID0gdXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8Q2FudmFzRWxlbWVudD4pID0+IHtcbiAgICBpZiAoIWZpcmVzdG9yZSB8fCAhdXNlciB8fCAhYm9hcmRJZCkgcmV0dXJuO1xuICAgIGNvbnN0IGVsZW1lbnREb2NSZWYgPSBkb2MoZmlyZXN0b3JlLCAndXNlcnMnLCB1c2VyLnVpZCwgJ2NhbnZhc0JvYXJkcycsIGJvYXJkSWQsICdjYW52YXNFbGVtZW50cycsIGlkKTtcbiAgICBcbiAgICAvLyBMaW1waWFyIHZhbG9yZXMgdW5kZWZpbmVkIChGaXJlc3RvcmUgbm8gbG9zIGFjZXB0YSlcbiAgICBjb25zdCBjbGVhblVwZGF0ZXM6IGFueSA9IHsgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSB9O1xuICAgIE9iamVjdC5rZXlzKHVwZGF0ZXMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gKHVwZGF0ZXMgYXMgYW55KVtrZXldO1xuICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2xlYW5VcGRhdGVzW2tleV0gPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncGFyZW50SWQnKSB7XG4gICAgICAgIC8vIFNpIHBhcmVudElkIGVzIHVuZGVmaW5lZCwgdXNhciBudWxsIHBhcmEgZWxpbWluYXJsb1xuICAgICAgICBjbGVhblVwZGF0ZXNba2V5XSA9IG51bGw7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gQWN0dWFsaXphciBlbCBlbGVtZW50b1xuICAgIHVwZGF0ZURvYyhlbGVtZW50RG9jUmVmLCBjbGVhblVwZGF0ZXMpO1xuICAgIFxuICAgIC8vIEFVVE9HVUFSREFETyBERUwgVEFCTEVSTzogQWN0dWFsaXphciB0YW1iacOpbiBlbCB0YWJsZXJvIGNvbiB1cGRhdGVkQXRcbiAgICAvLyBFc3RvIGFzZWd1cmEgcXVlIGVsIHRhYmxlcm8gcmVmbGVqZSBzaWVtcHJlIGxhIMO6bHRpbWEgbW9kaWZpY2FjacOzblxuICAgIGNvbnN0IGJvYXJkRG9jUmVmID0gZG9jKGZpcmVzdG9yZSwgJ3VzZXJzJywgdXNlci51aWQsICdjYW52YXNCb2FyZHMnLCBib2FyZElkKTtcbiAgICB1cGRhdGVEb2MoYm9hcmREb2NSZWYsIHsgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWN0dWFsaXphbmRvIHRhYmxlcm86JywgZXJyKTtcbiAgICB9KTtcbiAgfSwgW2ZpcmVzdG9yZSwgdXNlciwgYm9hcmRJZF0pO1xuXG4gIGNvbnN0IGRlbGV0ZUVsZW1lbnQgPSB1c2VDYWxsYmFjayhhc3luYyAoaWQ6IHN0cmluZywgYWxsRWxlbWVudHM6IFdpdGhJZDxDYW52YXNFbGVtZW50PltdKSA9PiB7XG4gICAgaWYgKCFmaXJlc3RvcmUgfHwgIXVzZXIgfHwgIWJvYXJkSWQpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBlbGVtZW50VG9EZWxldGVSZWYgPSBhbGxFbGVtZW50cy5maW5kKGVsID0+IGVsLmlkID09PSBpZCk7XG4gICAgaWYgKCFlbGVtZW50VG9EZWxldGVSZWYpIHJldHVybjtcblxuICAgIGNvbnN0IGVsZW1lbnRzUmVmID0gY29sbGVjdGlvbihmaXJlc3RvcmUsICd1c2VycycsIHVzZXIudWlkLCAnY2FudmFzQm9hcmRzJywgYm9hcmRJZCwgJ2NhbnZhc0VsZW1lbnRzJyk7XG4gICAgY29uc3QgYmF0Y2ggPSB3cml0ZUJhdGNoKGZpcmVzdG9yZSk7XG4gICAgY29uc3QgZWxlbWVudERvY1JlZiA9IGRvYyhlbGVtZW50c1JlZiwgaWQpO1xuXG4gICAgaWYgKGVsZW1lbnRUb0RlbGV0ZVJlZi50eXBlID09PSAnY29udGFpbmVyJykge1xuICAgICAgICBjb25zdCBjb250YWluZXJDb250ZW50ID0gZWxlbWVudFRvRGVsZXRlUmVmLmNvbnRlbnQgYXMgQ29udGFpbmVyQ29udGVudDtcbiAgICAgICAgaWYgKGNvbnRhaW5lckNvbnRlbnQgJiYgQXJyYXkuaXNBcnJheShjb250YWluZXJDb250ZW50LmVsZW1lbnRJZHMpKSB7XG4gICAgICAgICAgICBjb250YWluZXJDb250ZW50LmVsZW1lbnRJZHMuZm9yRWFjaCgoY2hpbGRJZDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGREb2NSZWYgPSBkb2MoZWxlbWVudHNSZWYsIGNoaWxkSWQpO1xuICAgICAgICAgICAgICAgIGJhdGNoLmRlbGV0ZShjaGlsZERvY1JlZik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBiYXRjaC5kZWxldGUoZWxlbWVudERvY1JlZik7XG5cbiAgICBhd2FpdCBiYXRjaC5jb21taXQoKTtcbiAgfSwgW2ZpcmVzdG9yZSwgdXNlciwgYm9hcmRJZF0pO1xuXG4gIGNvbnN0IHVuYW5jaG9yRWxlbWVudCA9IHVzZUNhbGxiYWNrKGFzeW5jIChlbGVtZW50SWQ6IHN0cmluZykgPT4ge1xuICAgIGlmICghZmlyZXN0b3JlIHx8ICF1c2VyIHx8ICFib2FyZElkKSByZXR1cm47XG5cbiAgICBjb25zdCBlbGVtZW50c1JlZiA9IGNvbGxlY3Rpb24oZmlyZXN0b3JlLCAndXNlcnMnLCB1c2VyLnVpZCwgJ2NhbnZhc0JvYXJkcycsIGJvYXJkSWQsICdjYW52YXNFbGVtZW50cycpO1xuICAgIGNvbnN0IGVsZW1lbnREb2NSZWYgPSBkb2MoZWxlbWVudHNSZWYsIGVsZW1lbnRJZCk7XG4gICAgXG4gICAgY29uc3QgZWxlbWVudFNuYXAgPSBhd2FpdCBnZXREb2MoZWxlbWVudERvY1JlZik7XG4gICAgaWYgKCFlbGVtZW50U25hcC5leGlzdHMoKSkge1xuICAgICAgdG9hc3QoeyBcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgICAgdGl0bGU6IFwiRXJyb3JcIiwgXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkVsIGVsZW1lbnRvIG5vIGV4aXN0ZS5cIiBcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBlbGVtZW50RGF0YSA9IGVsZW1lbnRTbmFwLmRhdGEoKTtcbiAgICBpZiAoIWVsZW1lbnREYXRhPy5wYXJlbnRJZCkge1xuICAgICAgdG9hc3QoeyBcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgICAgdGl0bGU6IFwiRXJyb3JcIiwgXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkVsIGVsZW1lbnRvIG5vIGVzdMOhIGFuY2xhZG8gYSBuaW5nw7puIGNvbnRlbmVkb3IuXCIgXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudERhdGEgYXMgQ2FudmFzRWxlbWVudDtcbiAgICBjb25zdCBwYXJlbnRJZCA9IGVsZW1lbnQucGFyZW50SWQ7XG4gICAgY29uc3QgcGFyZW50RG9jUmVmID0gZG9jKGVsZW1lbnRzUmVmLCBwYXJlbnRJZCk7XG4gICAgY29uc3QgcGFyZW50U25hcCA9IGF3YWl0IGdldERvYyhwYXJlbnREb2NSZWYpO1xuXG4gICAgaWYgKCFwYXJlbnRTbmFwLmV4aXN0cygpKSB7XG4gICAgICB0b2FzdCh7IFxuICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgICB0aXRsZTogXCJFcnJvclwiLCBcbiAgICAgICAgZGVzY3JpcHRpb246IFwiTm8gc2UgZW5jb250csOzIGVsIGNvbnRlbmVkb3IgcGFkcmUuXCIgXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJlbnRFbGVtZW50RGF0YSA9IHBhcmVudFNuYXAuZGF0YSgpO1xuICAgIGlmICghcGFyZW50RWxlbWVudERhdGEpIHtcbiAgICAgIHRvYXN0KHsgXG4gICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICAgIHRpdGxlOiBcIkVycm9yXCIsIFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJObyBzZSBwdWRvIG9idGVuZXIgZGF0b3MgZGVsIGNvbnRlbmVkb3IgcGFkcmUuXCIgXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJlbnRFbGVtZW50ID0gcGFyZW50RWxlbWVudERhdGEgYXMgQ2FudmFzRWxlbWVudDtcbiAgICBjb25zdCBwYXJlbnRDb250ZW50ID0gcGFyZW50RWxlbWVudD8uY29udGVudCBhcyBDb250YWluZXJDb250ZW50IHwgdW5kZWZpbmVkO1xuICAgIGNvbnN0IHBhcmVudFByb3BzID0gcGFyZW50RWxlbWVudD8ucHJvcGVydGllcyBhcyBDYW52YXNFbGVtZW50UHJvcGVydGllcyB8IHVuZGVmaW5lZDtcblxuICAgIC8vIFJlbW92ZSBlbGVtZW50SWQgZnJvbSBwYXJlbnQncyBjb250ZW50XG4gICAgY29uc3QgbmV3RWxlbWVudElkcyA9IChwYXJlbnRDb250ZW50Py5lbGVtZW50SWRzIHx8IFtdKS5maWx0ZXIoaWQgPT4gaWQgIT09IGVsZW1lbnRJZCk7XG5cbiAgICAvLyBDYWxjdWxhciBudWV2YSBwb3NpY2nDs24gbWVqb3JhZGE6IGEgbGEgZGVyZWNoYSBkZWwgcGFuZWwgY29uIHVuIG9mZnNldFxuICAgIGNvbnN0IHBhcmVudFggPSBwYXJlbnRQcm9wcz8ucG9zaXRpb24/LnggPz8gMDtcbiAgICBjb25zdCBwYXJlbnRXaWR0aCA9IHR5cGVvZiBwYXJlbnRQcm9wcz8uc2l6ZT8ud2lkdGggPT09ICdudW1iZXInIFxuICAgICAgPyBwYXJlbnRQcm9wcy5zaXplLndpZHRoIFxuICAgICAgOiAocGFyZW50UHJvcHM/LnNpemU/LndpZHRoID8gcGFyc2VGbG9hdChTdHJpbmcocGFyZW50UHJvcHMuc2l6ZS53aWR0aCkpIDogMzAwKSB8fCAzMDA7XG4gICAgY29uc3QgcGFyZW50WSA9IHBhcmVudFByb3BzPy5wb3NpdGlvbj8ueSA/PyAwO1xuICAgIFxuICAgIC8vIE9idGVuZXIgcG9zaWNpw7NuIG9yaWdpbmFsIGRlbCBlbGVtZW50byBzaSBleGlzdGUsIG8gY2FsY3VsYXIgbnVldmFcbiAgICBjb25zdCBlbGVtZW50UHJvcHMgPSBlbGVtZW50LnByb3BlcnRpZXMgYXMgQ2FudmFzRWxlbWVudFByb3BlcnRpZXMgfCB1bmRlZmluZWQ7XG4gICAgY29uc3Qgb3JpZ2luYWxQb3NpdGlvbiA9IGVsZW1lbnRQcm9wcz8ucG9zaXRpb24gfHwgeyB4OiBlbGVtZW50LnggfHwgMCwgeTogZWxlbWVudC55IHx8IDAgfTtcbiAgICBcbiAgICAvLyBTaSBlbCBlbGVtZW50byB0ZW7DrWEgdW5hIHBvc2ljacOzbiBvcmlnaW5hbCB2w6FsaWRhLCBpbnRlbnRhciByZXN0YXVyYXJsYVxuICAgIC8vIFNpIG5vLCBjb2xvY2FyIGEgbGEgZGVyZWNoYSBkZWwgcGFuZWxcbiAgICBjb25zdCBuZXdQb3NpdGlvbiA9IG9yaWdpbmFsUG9zaXRpb24ueCA+IDAgJiYgb3JpZ2luYWxQb3NpdGlvbi55ID4gMFxuICAgICAgPyBvcmlnaW5hbFBvc2l0aW9uIC8vIFJlc3RhdXJhciBwb3NpY2nDs24gb3JpZ2luYWxcbiAgICAgIDoge1xuICAgICAgICAgIHg6IHBhcmVudFggKyBwYXJlbnRXaWR0aCArIDIwLCAvLyBBIGxhIGRlcmVjaGEgZGVsIHBhbmVsIGNvbiAyMHB4IGRlIG1hcmdlblxuICAgICAgICAgIHk6IHBhcmVudFkgKyA1MCwgLy8gTGlnZXJhbWVudGUgYWJham8gZGVsIHBhbmVsXG4gICAgICAgIH07XG5cbiAgICBjb25zdCBiYXRjaCA9IHdyaXRlQmF0Y2goZmlyZXN0b3JlKTtcbiAgICBcbiAgICAvLyBVcGRhdGUgcGFyZW50XG4gICAgYmF0Y2gudXBkYXRlKHBhcmVudERvY1JlZiwgeyBcbiAgICAgIGNvbnRlbnQ6IHsgLi4ucGFyZW50Q29udGVudCwgZWxlbWVudElkczogbmV3RWxlbWVudElkcyB9LFxuICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcbiAgICB9KTtcbiAgICBcbiAgICAvLyBVcGRhdGUgY2hpbGQgLSByZXN0YXVyYXIgcHJvcGllZGFkZXMgY29tcGxldGFzIHkgYXNlZ3VyYXIgdmlzaWJpbGlkYWRcbiAgICBjb25zdCBzYWZlUHJvcGVydGllcyA9IGVsZW1lbnRQcm9wcyB8fCB7fTtcbiAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHR5cGVvZiBlbGVtZW50LndpZHRoID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgZWxlbWVudC5oZWlnaHQgPT09ICdudW1iZXInXG4gICAgICA/IHsgd2lkdGg6IGVsZW1lbnQud2lkdGgsIGhlaWdodDogZWxlbWVudC5oZWlnaHQgfVxuICAgICAgOiAoc2FmZVByb3BlcnRpZXMuc2l6ZSB8fCB7IHdpZHRoOiAyMDAsIGhlaWdodDogMTUwIH0pO1xuICAgIFxuICAgIGJhdGNoLnVwZGF0ZShlbGVtZW50RG9jUmVmLCB7XG4gICAgICAgIHBhcmVudElkOiBudWxsLFxuICAgICAgICBoaWRkZW46IGZhbHNlLFxuICAgICAgICB4OiBuZXdQb3NpdGlvbi54LFxuICAgICAgICB5OiBuZXdQb3NpdGlvbi55LFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgLi4uc2FmZVByb3BlcnRpZXMsXG4gICAgICAgICAgcG9zaXRpb246IG5ld1Bvc2l0aW9uLFxuICAgICAgICAgIHNpemU6IGVsZW1lbnRTaXplLFxuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxuICAgIH0pO1xuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGJhdGNoLmNvbW1pdCgpO1xuICAgICAgdG9hc3QoeyBcbiAgICAgICAgdGl0bGU6IFwiRWxlbWVudG8gZGVzYW5jbGFkb1wiLCBcbiAgICAgICAgZGVzY3JpcHRpb246IFwiRWwgZWxlbWVudG8gaGEgc2lkbyBkZXZ1ZWx0byBhbCBsaWVuem8uXCIgXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgZGVzYW5jbGFyIGVsZW1lbnRvOicsIGVycm9yKTtcbiAgICAgIHRvYXN0KHsgXG4gICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICAgIHRpdGxlOiBcIkVycm9yXCIsIFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJObyBzZSBwdWRvIGRlc2FuY2xhciBlbCBlbGVtZW50by5cIiBcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2ZpcmVzdG9yZSwgdXNlciwgYm9hcmRJZCwgdG9hc3RdKTtcblxuICByZXR1cm4geyBhZGRFbGVtZW50LCB1cGRhdGVFbGVtZW50LCBkZWxldGVFbGVtZW50LCB1bmFuY2hvckVsZW1lbnQgfTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZVJlZiIsInVzZUVmZmVjdCIsInVzZUZpcmVzdG9yZSIsInVzZVVzZXIiLCJjb2xsZWN0aW9uIiwiZG9jIiwidXBkYXRlRG9jIiwic2VydmVyVGltZXN0YW1wIiwid3JpdGVCYXRjaCIsImFkZERvYyIsImdldERvYyIsInVzZVRvYXN0IiwidXNlRWxlbWVudE1hbmFnZXIiLCJib2FyZElkIiwiZ2V0Vmlld3BvcnRDZW50ZXIiLCJnZXROZXh0WkluZGV4IiwiZmlyZXN0b3JlIiwidXNlciIsInRvYXN0IiwiZ2V0Vmlld3BvcnRDZW50ZXJSZWYiLCJnZXROZXh0WkluZGV4UmVmIiwiY3VycmVudCIsImFkZEVsZW1lbnQiLCJ0eXBlIiwicHJvcHMiLCJlcnJvck1zZyIsIlByb21pc2UiLCJyZWplY3QiLCJFcnJvciIsImVsZW1lbnRzUmVmIiwidWlkIiwiZG9jUmVmIiwidXNlcklkIiwicHJvcGVydGllcyIsImNvbnRlbnQiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJpZCIsImRlZmF1bHRQb3NpdGlvbiIsInpJbmRleCIsInZpZXdwb3J0Q2VudGVyIiwicG9zaXRpb24iLCJiYXNlU2l6ZSIsInNpemUiLCJ3aWR0aCIsImhlaWdodCIsInNpemVXaWR0aCIsInNpemVIZWlnaHQiLCJnZXRDZW50ZXJlZFBvc2l0aW9uIiwiY2VudGVyWCIsIngiLCJjZW50ZXJZIiwieSIsIm1pbk9mZnNldCIsInZpZXdwb3J0V2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJpbm5lckhlaWdodCIsIk1hdGgiLCJtYXgiLCJtaW4iLCJiYXNlUHJvcGVydGllcyIsInJvdGF0aW9uIiwiT2JqZWN0IiwiYXNzaWduIiwibmV3RWxlbWVudERhdGEiLCJub3RlcGFkU2l6ZSIsIm5vdGVwYWRQb3MiLCJmb3JtYXQiLCJ0aXRsZSIsInBhZ2VzIiwiQXJyYXkiLCJmaWxsIiwiY3VycmVudFBhZ2UiLCJub3RlcGFkU2ltcGxlU2l6ZSIsIm5vdGVwYWRTaW1wbGVQb3MiLCJ0ZXh0Iiwic3VwZXJOb3RlYm9va1NpemUiLCJzdXBlck5vdGVib29rUG9zIiwic3RpY2t5Q29sb3IiLCJjb2xvciIsInN0aWNreVNpemUiLCJzdGlja3lQb3MiLCJzdGlja3lFbGVtZW50IiwidGFncyIsInRvZG9TaXplIiwidG9kb1BvcyIsIml0ZW1zIiwiaW1hZ2VQb3MiLCJ0ZXh0UG9zIiwidGV4dEJnQ29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJkZWZhdWx0Q29udGFpbmVyU2l6ZSIsImNvbnRhaW5lclNpemUiLCJjb250YWluZXJDb250ZW50IiwiaXNTcGVjaWFsTGllbnpvIiwiZmluYWxDb250YWluZXJTaXplIiwicm91bmQiLCJjb250YWluZXJQb3MiLCJjb250YWluZXJCYWNrZ3JvdW5kQ29sb3IiLCJjb250YWluZXJaSW5kZXgiLCJmaW5hbENvbnRhaW5lckNvbnRlbnQiLCJlbGVtZW50SWRzIiwibGF5b3V0IiwiY29tbWVudFNpemUiLCJjb21tZW50UG9zIiwibGFiZWwiLCJjb21tZW50IiwicGFyZW50SWQiLCJ1bmRlZmluZWQiLCJtb29kYm9hcmRTaXplIiwibW9vZGJvYXJkUG9zIiwiaW1hZ2VzIiwiYW5ub3RhdGlvbnMiLCJ0YWJiZWRTaXplIiwidGFiYmVkUG9zIiwidGFicyIsImFjdGl2ZVRhYklkIiwiYWNjb3JkaW9uU2l6ZSIsImFjY29yZGlvblBvcyIsInN0b3B3YXRjaFNpemUiLCJzdG9wd2F0Y2hQb3MiLCJ0aW1lIiwiaXNSdW5uaW5nIiwiY291bnRkb3duU2l6ZSIsImNvdW50ZG93blBvcyIsInRpbWVMZWZ0Iiwic2VsZWN0ZWRNaW51dGVzIiwiaGlnaGxpZ2h0U2l6ZSIsImhpZ2hsaWdodFBvcyIsImhpZ2hsaWdodENvbG9yIiwieWVsbG93Tm90ZXBhZFNpemUiLCJ5ZWxsb3dOb3RlcGFkUG9zIiwic2VhcmNoUXVlcnkiLCJ1cGRhdGVFbGVtZW50IiwidXBkYXRlcyIsImVsZW1lbnREb2NSZWYiLCJjbGVhblVwZGF0ZXMiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInZhbHVlIiwiYm9hcmREb2NSZWYiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImRlbGV0ZUVsZW1lbnQiLCJhbGxFbGVtZW50cyIsImVsZW1lbnRUb0RlbGV0ZVJlZiIsImZpbmQiLCJlbCIsImJhdGNoIiwiaXNBcnJheSIsImNoaWxkSWQiLCJjaGlsZERvY1JlZiIsImRlbGV0ZSIsImNvbW1pdCIsInVuYW5jaG9yRWxlbWVudCIsImVsZW1lbnRJZCIsInBhcmVudFByb3BzIiwiZWxlbWVudFNuYXAiLCJleGlzdHMiLCJ2YXJpYW50IiwiZGVzY3JpcHRpb24iLCJlbGVtZW50RGF0YSIsImRhdGEiLCJlbGVtZW50IiwicGFyZW50RG9jUmVmIiwicGFyZW50U25hcCIsInBhcmVudEVsZW1lbnREYXRhIiwicGFyZW50RWxlbWVudCIsInBhcmVudENvbnRlbnQiLCJuZXdFbGVtZW50SWRzIiwiZmlsdGVyIiwicGFyZW50WCIsInBhcmVudFdpZHRoIiwicGFyc2VGbG9hdCIsIlN0cmluZyIsInBhcmVudFkiLCJlbGVtZW50UHJvcHMiLCJvcmlnaW5hbFBvc2l0aW9uIiwibmV3UG9zaXRpb24iLCJ1cGRhdGUiLCJzYWZlUHJvcGVydGllcyIsImVsZW1lbnRTaXplIiwiaGlkZGVuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/use-element-manager.ts\n"));

/***/ })

});