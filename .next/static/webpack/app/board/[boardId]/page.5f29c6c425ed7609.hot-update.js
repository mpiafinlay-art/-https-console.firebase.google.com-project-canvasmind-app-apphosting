"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/board/[boardId]/page",{

/***/ "(app-pages-browser)/./src/components/canvas/formatting-toolbar.tsx":
/*!******************************************************!*\
  !*** ./src/components/canvas/formatting-toolbar.tsx ***!
  \******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_rnd__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-rnd */ \"(app-pages-browser)/./node_modules/react-rnd/lib/index.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/map-pin.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/ellipsis-vertical.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/tag.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/type.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/link.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/paintbrush.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/underline.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/bold.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/italic.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/strikethrough.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/align-left.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/align-center.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/align-right.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/align-justify.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/calendar.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/eraser.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/move.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/rectangle-horizontal.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/grip-vertical.js\");\n/* harmony import */ var _barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=format!=!date-fns */ \"(app-pages-browser)/./node_modules/date-fns/format.mjs\");\n/* harmony import */ var _components_ui_popover__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/popover */ \"(app-pages-browser)/./src/components/ui/popover.tsx\");\n/* harmony import */ var _components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/dropdown-menu */ \"(app-pages-browser)/./src/components/ui/dropdown-menu.tsx\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./src/lib/utils.ts\");\n// src/components/canvas/formatting-toolbar.tsx\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nconst FormattingToolbar = (param)=>{\n    let { isOpen, onClose, onAddComment, onEditComment, isMobileSheet, elements, onLocateElement, onPanToggle, addElement, isPanningActive = false } = param;\n    var _elements_;\n    _s();\n    const [popoverOpen, setPopoverOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [fontSize, setFontSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"18px\");\n    const [rndPosition, setRndPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    });\n    const [linkDialogOpen, setLinkDialogOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [linkUrl, setLinkUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Inicializar posición centrada arriba\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen && !isMobileSheet) {\n            const savedPosition = localStorage.getItem(\"formattingToolbarPosition\");\n            if (savedPosition) {\n                try {\n                    setRndPosition(JSON.parse(savedPosition));\n                } catch (e) {\n                    console.error(\"Failed to load formatting toolbar position\", e);\n                }\n            } else {\n                // Centrar arriba\n                const centerX = (window.innerWidth - 600) / 2; // 600px es el ancho aproximado reducido 20%\n                setRndPosition({\n                    x: centerX,\n                    y: 20\n                });\n            }\n        }\n    }, [\n        isOpen,\n        isMobileSheet\n    ]);\n    const onDragStop = (e, d)=>{\n        const newPosition = {\n            x: d.x,\n            y: d.y\n        };\n        setRndPosition(newPosition);\n        try {\n            localStorage.setItem(\"formattingToolbarPosition\", JSON.stringify(newPosition));\n        } catch (error) {\n            console.error(\"Failed to save formatting toolbar position\", error);\n        }\n    };\n    const handleAddLienzo = async ()=>{\n        if (addElement) {\n            try {\n                await addElement(\"container\", {\n                    content: {\n                        title: \"Lienzo\",\n                        elementIds: []\n                    },\n                    properties: {\n                        position: {\n                            x: 100,\n                            y: 100\n                        },\n                        size: {\n                            width: 794,\n                            height: 1021\n                        },\n                        backgroundColor: \"white\"\n                    }\n                });\n            } catch (error) {\n                console.error(\"Error creating lienzo:\", error);\n            }\n        }\n    };\n    const handleFormat = (e, command, value)=>{\n        e.preventDefault();\n        const selection = window.getSelection();\n        if (!selection || selection.rangeCount === 0) {\n            const activeElement = document.activeElement;\n            if (activeElement && (activeElement.isContentEditable || activeElement.tagName === \"DIV\")) {\n                activeElement.focus();\n                if (value) {\n                    document.execCommand(command, false, value);\n                } else {\n                    document.execCommand(command, false);\n                }\n            }\n            return;\n        }\n        if (value) {\n            document.execCommand(command, false, value);\n        } else {\n            document.execCommand(command, false);\n        }\n        setPopoverOpen(null);\n    };\n    const applyColoredUnderline = (e, color)=>{\n        e.preventDefault();\n        const selection = window.getSelection();\n        if (!selection || selection.rangeCount === 0 || selection.isCollapsed) {\n            return;\n        }\n        const range = selection.getRangeAt(0);\n        const span = document.createElement(\"span\");\n        span.style.textDecoration = \"underline\";\n        span.style.textDecorationColor = color;\n        span.style.textDecorationThickness = \"2px\";\n        span.appendChild(range.extractContents());\n        range.insertNode(span);\n        setPopoverOpen(null);\n    };\n    const applyTextColor = (e, color)=>{\n        e.preventDefault();\n        e.stopPropagation();\n        const selection = window.getSelection();\n        if (!selection || selection.rangeCount === 0) {\n            // Si no hay selección, envolver todo el contenido en un span con el color\n            const activeElement = document.activeElement;\n            if (activeElement && activeElement.isContentEditable) {\n                // Si el elemento ya tiene un solo hijo span con color, actualizar ese span\n                const children = Array.from(activeElement.childNodes);\n                if (children.length === 1 && children[0].nodeType === Node.ELEMENT_NODE) {\n                    const child = children[0];\n                    if (child.tagName === \"SPAN\" && child.style.color) {\n                        child.style.color = color;\n                        activeElement.dispatchEvent(new Event(\"input\", {\n                            bubbles: true\n                        }));\n                        setPopoverOpen(null);\n                        return;\n                    }\n                }\n                // Envolver todo el contenido en un span con el color\n                const span = document.createElement(\"span\");\n                span.style.color = color;\n                while(activeElement.firstChild){\n                    span.appendChild(activeElement.firstChild);\n                }\n                activeElement.appendChild(span);\n                // Mover cursor al final\n                const range = document.createRange();\n                range.selectNodeContents(span);\n                range.collapse(false);\n                selection.removeAllRanges();\n                selection.addRange(range);\n                activeElement.dispatchEvent(new Event(\"input\", {\n                    bubbles: true\n                }));\n            }\n            setPopoverOpen(null);\n            return;\n        }\n        if (selection.isCollapsed) {\n            // Si solo hay cursor, envolver el contenido del elemento en un span con el color\n            const range = selection.getRangeAt(0);\n            const container = range.commonAncestorContainer;\n            const element = container.nodeType === Node.TEXT_NODE ? container.parentElement : container;\n            if (element && element.isContentEditable) {\n                // Verificar si ya tiene un span con color\n                const children = Array.from(element.childNodes);\n                if (children.length === 1 && children[0].nodeType === Node.ELEMENT_NODE) {\n                    const child = children[0];\n                    if (child.tagName === \"SPAN\" && child.style.color) {\n                        child.style.color = color;\n                        element.dispatchEvent(new Event(\"input\", {\n                            bubbles: true\n                        }));\n                        setPopoverOpen(null);\n                        return;\n                    }\n                }\n                // Envolver contenido en span con color\n                const span = document.createElement(\"span\");\n                span.style.color = color;\n                while(element.firstChild){\n                    span.appendChild(element.firstChild);\n                }\n                element.appendChild(span);\n                // Mover cursor al final\n                const newRange = document.createRange();\n                newRange.selectNodeContents(span);\n                newRange.collapse(false);\n                selection.removeAllRanges();\n                selection.addRange(newRange);\n                element.dispatchEvent(new Event(\"input\", {\n                    bubbles: true\n                }));\n            }\n            setPopoverOpen(null);\n            return;\n        }\n        const range = selection.getRangeAt(0);\n        const span = document.createElement(\"span\");\n        span.style.color = color;\n        try {\n            span.appendChild(range.extractContents());\n            range.insertNode(span);\n            // Mover cursor después del span\n            range.setStartAfter(span);\n            range.collapse(true);\n            selection.removeAllRanges();\n            selection.addRange(range);\n            // Disparar evento input para guardar\n            const activeElement = document.activeElement;\n            if (activeElement) {\n                activeElement.dispatchEvent(new Event(\"input\", {\n                    bubbles: true\n                }));\n            }\n        } catch (err) {\n            console.error(\"Error aplicando color:\", err);\n        }\n        setPopoverOpen(null);\n    };\n    const handleInsertDate = (e)=>{\n        e.preventDefault();\n        const span = document.createElement(\"span\");\n        span.style.color = \"#a0a1a6\";\n        span.textContent = \"-- \".concat((0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_6__.format)(new Date(), \"dd/MM/yy\"), \" \");\n        document.execCommand(\"insertHTML\", false, span.outerHTML);\n    };\n    const clearFormatting = (e)=>{\n        e.preventDefault();\n        document.execCommand(\"removeFormat\", false);\n        const selection = window.getSelection();\n        if (selection && selection.rangeCount > 0) {\n            const range = selection.getRangeAt(0);\n            const container = range.commonAncestorContainer;\n            if (container.nodeType === Node.ELEMENT_NODE) {\n                const element = container;\n                const spans = element.querySelectorAll('span[style*=\"text-decoration\"]');\n                spans.forEach((span)=>{\n                    const parent = span.parentNode;\n                    if (parent) {\n                        parent.replaceChild(document.createTextNode(span.textContent || \"\"), span);\n                        parent.normalize();\n                    }\n                });\n            }\n        }\n    };\n    const handleList = (e)=>{\n        e.preventDefault();\n        // Toggle entre lista ordenada y desordenada\n        const selection = window.getSelection();\n        if (selection && selection.rangeCount > 0) {\n            const range = selection.getRangeAt(0);\n            const container = range.commonAncestorContainer;\n            if (container.nodeType === Node.ELEMENT_NODE) {\n                const element = container;\n                if (element.tagName === \"UL\" || element.tagName === \"OL\") {\n                    document.execCommand(\"insertUnorderedList\", false);\n                } else {\n                    document.execCommand(\"insertUnorderedList\", false);\n                }\n            } else {\n                document.execCommand(\"insertUnorderedList\", false);\n            }\n        }\n    };\n    if (!isOpen) {\n        return null;\n    }\n    // Clases Tailwind para el toolbar (fondo negro, botones blancos)\n    // Reducido 20%: todos los tamaños reducidos al 80%\n    const toolbarClassName = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)(\"bg-black text-white py-1.5 px-2.5\", \"flex items-center justify-center w-full min-h-[38px] gap-0.5\", \"text-sm\");\n    // Clases Tailwind para botones blancos redondeados (reducidos 20%)\n    const whiteButtonClassName = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)(\"bg-white border-none rounded-md px-2.5 py-1.5\", \"cursor-pointer flex items-center justify-center\", \"min-w-[29px] h-7 transition-colors\", \"hover:bg-gray-100\");\n    // Clases Tailwind para iconos negros (reducidos 20%)\n    const iconClassName = \"w-[14px] h-[14px] text-black\";\n    // Clases Tailwind para cuadrados gris oscuro (reducidos 20%)\n    const darkSquareClassName = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)(\"bg-[#2a2a2a] border-none rounded\", \"cursor-pointer flex items-center justify-center\", \"w-7 h-7 p-1.5 transition-colors\", \"hover:bg-[#3a3a3a]\");\n    // Detectar si el elemento seleccionado es un comment\n    const selectedComment = elements.length > 0 && ((_elements_ = elements[0]) === null || _elements_ === void 0 ? void 0 : _elements_.type) === \"comment\" ? elements[0] : null;\n    const toolbarContent = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: toolbarClassName,\n        children: [\n            selectedComment && onEditComment && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: whiteButtonClassName,\n                onClick: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    onEditComment(selectedComment);\n                },\n                title: \"Fijar posici\\xf3n en el tablero / Editar Etiqueta\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                    className: iconClassName\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 361,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 352,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenu, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenuTrigger, {\n                        asChild: true,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: darkSquareClassName,\n                            title: \"M\\xe1s opciones\",\n                            onClick: (e)=>{\n                                e.preventDefault();\n                                e.stopPropagation();\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                className: \"w-[14px] h-[14px] text-white\"\n                            }, void 0, false, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 376,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                            lineNumber: 368,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                        lineNumber: 367,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenuContent, {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenuItem, {\n                            onClick: (e)=>{\n                                e.preventDefault();\n                                e.stopPropagation();\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: \"Opciones\"\n                            }, void 0, false, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 381,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                            lineNumber: 380,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                        lineNumber: 379,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 366,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: whiteButtonClassName,\n                onClick: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    // Funcionalidad completa: crear localizador/etiqueta en el centro del viewport\n                    if (onAddComment) {\n                        onAddComment();\n                    } else if (addElement) {\n                        // Fallback: crear directamente si addElement está disponible\n                        const viewportCenter = {\n                            x:  true ? window.innerWidth / 2 : 0,\n                            y:  true ? window.innerHeight / 2 : 0\n                        };\n                        addElement(\"comment\", {\n                            content: {\n                                title: \"Nuevo Localizador\",\n                                label: \"Localizador\",\n                                text: \"\"\n                            },\n                            properties: {\n                                position: viewportCenter,\n                                size: {\n                                    width: 48,\n                                    height: 48\n                                }\n                            }\n                        }).catch((error)=>{\n                            console.error(\"Error al crear localizador:\", error);\n                        });\n                    }\n                },\n                title: \"Crear etiqueta de posici\\xf3n / Localizador\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                    className: iconClassName\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 418,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 387,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.Popover, {\n                open: popoverOpen === \"fontSize\",\n                onOpenChange: (open)=>setPopoverOpen(open ? \"fontSize\" : null),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.PopoverTrigger, {\n                        asChild: true,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: whiteButtonClassName,\n                            title: \"Tama\\xf1o de Texto\",\n                            onMouseDown: (e)=>e.preventDefault(),\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                className: iconClassName\n                            }, void 0, false, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 429,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                            lineNumber: 424,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                        lineNumber: 423,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.PopoverContent, {\n                        className: \"w-auto p-2 bg-white\",\n                        onMouseDown: (e)=>e.preventDefault(),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-1\",\n                            children: [\n                                \"12px\",\n                                \"14px\",\n                                \"16px\",\n                                \"18px\",\n                                \"20px\",\n                                \"24px\",\n                                \"32px\"\n                            ].map((size)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"w-full text-left px-2 py-1 text-sm hover:bg-gray-100 rounded\",\n                                    onClick: (e)=>{\n                                        e.preventDefault();\n                                        e.stopPropagation();\n                                        setFontSize(size);\n                                        const selection = window.getSelection();\n                                        if (selection && selection.rangeCount > 0) {\n                                            const range = selection.getRangeAt(0);\n                                            const span = document.createElement(\"span\");\n                                            span.style.fontSize = size;\n                                            try {\n                                                range.surroundContents(span);\n                                            } catch (e) {\n                                                span.appendChild(range.extractContents());\n                                                range.insertNode(span);\n                                            }\n                                        }\n                                        setPopoverOpen(null);\n                                    },\n                                    children: size\n                                }, size, false, {\n                                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                    lineNumber: 435,\n                                    columnNumber: 15\n                                }, undefined))\n                        }, void 0, false, {\n                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                            lineNumber: 433,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                        lineNumber: 432,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 422,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-px h-6 bg-white/30 mx-1\"\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 465,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: whiteButtonClassName,\n                onClick: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    const selection = window.getSelection();\n                    const url = prompt(\"Ingresa la URL del enlace:\");\n                    if (url) {\n                        if (selection && selection.rangeCount > 0 && !selection.isCollapsed) {\n                            // Hay texto seleccionado, convertirlo en enlace\n                            const range = selection.getRangeAt(0);\n                            const link = document.createElement(\"a\");\n                            link.href = url;\n                            link.target = \"_blank\";\n                            link.rel = \"noopener noreferrer\";\n                            link.appendChild(range.extractContents());\n                            range.insertNode(link);\n                        } else {\n                            // No hay selección, insertar URL como texto con enlace\n                            const link = document.createElement(\"a\");\n                            link.href = url;\n                            link.target = \"_blank\";\n                            link.rel = \"noopener noreferrer\";\n                            link.textContent = url;\n                            document.execCommand(\"insertHTML\", false, link.outerHTML);\n                        }\n                    }\n                },\n                title: \"Insertar Enlace\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                    className: iconClassName\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 498,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 468,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-px h-6 bg-white/30 mx-1\"\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 502,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.Popover, {\n                open: popoverOpen === \"textColor\",\n                onOpenChange: (open)=>setPopoverOpen(open ? \"textColor\" : null),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.PopoverTrigger, {\n                        asChild: true,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: whiteButtonClassName,\n                            title: \"Color de Texto\",\n                            onMouseDown: (e)=>e.preventDefault(),\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                className: iconClassName\n                            }, void 0, false, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 512,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                            lineNumber: 507,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                        lineNumber: 506,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.PopoverContent, {\n                        className: \"w-auto p-2 bg-white\",\n                        onMouseDown: (e)=>e.preventDefault(),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs text-gray-600 mb-2 px-1\",\n                                children: \"Color de texto\"\n                            }, void 0, false, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 516,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid grid-cols-4 gap-2\",\n                                children: [\n                                    {\n                                        value: \"#14b8a6\"\n                                    },\n                                    {\n                                        value: \"#f97316\"\n                                    },\n                                    {\n                                        value: \"#84cc16\"\n                                    },\n                                    {\n                                        value: \"#eab308\"\n                                    },\n                                    {\n                                        value: \"#f59e0b\"\n                                    },\n                                    {\n                                        value: \"#3b82f6\"\n                                    },\n                                    {\n                                        value: \"#1f2937\"\n                                    },\n                                    {\n                                        value: \"#475569\"\n                                    }\n                                ].map((color, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"w-8 h-8 rounded border border-gray-300 hover:scale-110 transition-transform\",\n                                        style: {\n                                            backgroundColor: color.value\n                                        },\n                                        onMouseDown: (e)=>applyTextColor(e, color.value),\n                                        title: \"Color \".concat(idx + 1)\n                                    }, idx, false, {\n                                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                        lineNumber: 528,\n                                        columnNumber: 15\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 517,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                        lineNumber: 515,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 505,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-px h-6 bg-white/30 mx-1\"\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 541,\n                columnNumber: 7\n            }, undefined),\n            (()=>{\n                const selection = window.getSelection();\n                const hasSelection = selection && selection.rangeCount > 0 && !selection.isCollapsed;\n                if (!hasSelection) return null;\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.Popover, {\n                    open: popoverOpen === \"highlight\",\n                    onOpenChange: (open)=>setPopoverOpen(open ? \"highlight\" : null),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.PopoverTrigger, {\n                            asChild: true,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: whiteButtonClassName,\n                                title: \"Resaltar Texto\",\n                                onMouseDown: (e)=>e.preventDefault(),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                    className: iconClassName\n                                }, void 0, false, {\n                                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                    lineNumber: 556,\n                                    columnNumber: 17\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 551,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                            lineNumber: 550,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.PopoverContent, {\n                            className: \"w-auto p-2 bg-white\",\n                            onMouseDown: (e)=>e.preventDefault(),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-xs text-gray-600 mb-2 px-1\",\n                                    children: \"Color de fondo\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                    lineNumber: 560,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid grid-cols-4 gap-2\",\n                                    children: [\n                                        {\n                                            value: \"#fef08a\"\n                                        },\n                                        {\n                                            value: \"#fde68a\"\n                                        },\n                                        {\n                                            value: \"#fed7aa\"\n                                        },\n                                        {\n                                            value: \"#fecaca\"\n                                        },\n                                        {\n                                            value: \"#fbcfe8\"\n                                        },\n                                        {\n                                            value: \"#e9d5ff\"\n                                        },\n                                        {\n                                            value: \"#ddd6fe\"\n                                        },\n                                        {\n                                            value: \"#c7d2fe\"\n                                        }\n                                    ].map((color, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: \"w-8 h-8 rounded border border-gray-300 hover:scale-110 transition-transform\",\n                                            style: {\n                                                backgroundColor: color.value\n                                            },\n                                            onMouseDown: (e)=>{\n                                                e.preventDefault();\n                                                const sel = window.getSelection();\n                                                if (sel && sel.rangeCount > 0 && !sel.isCollapsed) {\n                                                    const range = sel.getRangeAt(0);\n                                                    const span = document.createElement(\"span\");\n                                                    span.style.backgroundColor = color.value;\n                                                    try {\n                                                        span.appendChild(range.extractContents());\n                                                        range.insertNode(span);\n                                                        range.setStartAfter(span);\n                                                        range.collapse(true);\n                                                        sel.removeAllRanges();\n                                                        sel.addRange(range);\n                                                        const activeElement = document.activeElement;\n                                                        if (activeElement) {\n                                                            activeElement.dispatchEvent(new Event(\"input\", {\n                                                                bubbles: true\n                                                            }));\n                                                        }\n                                                    } catch (err) {\n                                                        console.error(\"Error aplicando resaltado:\", err);\n                                                    }\n                                                }\n                                                setPopoverOpen(null);\n                                            },\n                                            title: \"Resaltado \".concat(idx + 1)\n                                        }, idx, false, {\n                                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                            lineNumber: 572,\n                                            columnNumber: 19\n                                        }, undefined))\n                                }, void 0, false, {\n                                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                    lineNumber: 561,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                            lineNumber: 559,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 549,\n                    columnNumber: 11\n                }, undefined);\n            })(),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-px h-6 bg-white/30 mx-1\"\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 610,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.Popover, {\n                open: popoverOpen === \"underlineColor\",\n                onOpenChange: (open)=>setPopoverOpen(open ? \"underlineColor\" : null),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.PopoverTrigger, {\n                        asChild: true,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: whiteButtonClassName,\n                            title: \"Subrayado\",\n                            onMouseDown: (e)=>e.preventDefault(),\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                className: iconClassName\n                            }, void 0, false, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 620,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                            lineNumber: 615,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                        lineNumber: 614,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.PopoverContent, {\n                        className: \"w-auto p-2 bg-white\",\n                        onMouseDown: (e)=>e.preventDefault(),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs text-gray-600 mb-2 px-1\",\n                                children: \"Subrayado de\"\n                            }, void 0, false, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 624,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid grid-cols-4 gap-2\",\n                                children: [\n                                    {\n                                        value: \"#14b8a6\"\n                                    },\n                                    {\n                                        value: \"#f97316\"\n                                    },\n                                    {\n                                        value: \"#84cc16\"\n                                    },\n                                    {\n                                        value: \"#eab308\"\n                                    },\n                                    {\n                                        value: \"#f59e0b\"\n                                    },\n                                    {\n                                        value: \"#3b82f6\"\n                                    },\n                                    {\n                                        value: \"#1f2937\"\n                                    },\n                                    {\n                                        value: \"#475569\"\n                                    }\n                                ].map((color, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"w-8 h-8 rounded border border-gray-300 hover:scale-110 transition-transform\",\n                                        style: {\n                                            backgroundColor: color.value\n                                        },\n                                        onMouseDown: (e)=>applyColoredUnderline(e, color.value),\n                                        title: \"Color \".concat(idx + 1)\n                                    }, idx, false, {\n                                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                        lineNumber: 636,\n                                        columnNumber: 15\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 625,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                        lineNumber: 623,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 613,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: whiteButtonClassName,\n                onMouseDown: (e)=>handleFormat(e, \"bold\"),\n                title: \"Negrita\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                    className: iconClassName\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 654,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 649,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: whiteButtonClassName,\n                onMouseDown: (e)=>handleFormat(e, \"italic\"),\n                title: \"Cursiva\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                    className: iconClassName\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 663,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 658,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: whiteButtonClassName,\n                onMouseDown: (e)=>handleFormat(e, \"strikeThrough\"),\n                title: \"Tachado\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                    className: iconClassName\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 672,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 667,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-px h-6 bg-white/30 mx-1\"\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 676,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenu, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenuTrigger, {\n                        asChild: true,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: whiteButtonClassName,\n                            title: \"Alinear Texto\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                    className: iconClassName\n                                }, void 0, false, {\n                                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                    lineNumber: 685,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    className: \"h-3 w-3 ml-0.5\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                    lineNumber: 686,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                            lineNumber: 681,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                        lineNumber: 680,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenuContent, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenuItem, {\n                                onMouseDown: (e)=>handleFormat(e, \"justifyLeft\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                        className: \"h-4 w-4 mr-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                        lineNumber: 691,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    \"Alinear Izquierda\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 690,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenuItem, {\n                                onMouseDown: (e)=>handleFormat(e, \"justifyCenter\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                        className: \"h-4 w-4 mr-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                        lineNumber: 695,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    \"Centrar\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 694,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenuItem, {\n                                onMouseDown: (e)=>handleFormat(e, \"justifyRight\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                        className: \"h-4 w-4 mr-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                        lineNumber: 699,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    \"Alinear Derecha\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 698,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenuItem, {\n                                onMouseDown: (e)=>handleFormat(e, \"justifyFull\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                        className: \"h-4 w-4 mr-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                        lineNumber: 703,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    \"Justificar\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 702,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                        lineNumber: 689,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 679,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-px h-6 bg-white/30 mx-1\"\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 710,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: whiteButtonClassName,\n                onClick: handleInsertDate,\n                title: \"Insertar Fecha\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                    className: iconClassName\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 718,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 713,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-px h-6 bg-white/30 mx-1\"\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 722,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: whiteButtonClassName,\n                onMouseDown: clearFormatting,\n                title: \"Limpiar Formato\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                    className: iconClassName\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 730,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 725,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)(whiteButtonClassName, isPanningActive && \"bg-gray-200\"),\n                onClick: onPanToggle,\n                title: \"Mover\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                    className: iconClassName\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 739,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 734,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: whiteButtonClassName,\n                onClick: handleAddLienzo,\n                title: \"Lienzo\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                    className: iconClassName\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 748,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 743,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: darkSquareClassName,\n                onClick: onClose,\n                title: \"Cerrar\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                    className: \"w-[14px] h-[14px] text-white\"\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 757,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 752,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n        lineNumber: 349,\n        columnNumber: 5\n    }, undefined);\n    if (isMobileSheet) {\n        return toolbarContent;\n    }\n    // Menú format siempre abierto arriba, arrastrable con Rnd\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_rnd__WEBPACK_IMPORTED_MODULE_2__.Rnd, {\n        size: {\n            width: \"auto\",\n            height: \"auto\"\n        },\n        position: rndPosition,\n        onDragStop: onDragStop,\n        dragHandleClassName: \"drag-handle\",\n        bounds: \"window\",\n        enableResizing: false,\n        className: \"z-[60000] pointer-events-auto\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"drag-handle cursor-grab active:cursor-grabbing py-1 text-slate-800 flex justify-center mb-1\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                    className: \"size-4\"\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 778,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 777,\n                columnNumber: 7\n            }, undefined),\n            toolbarContent\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n        lineNumber: 768,\n        columnNumber: 5\n    }, undefined);\n};\n_s(FormattingToolbar, \"zW6FfiZq0pdJi/cAQy28z+lhFM4=\");\n_c = FormattingToolbar;\n/* harmony default export */ __webpack_exports__[\"default\"] = (FormattingToolbar);\nvar _c;\n$RefreshReg$(_c, \"FormattingToolbar\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2NhbnZhcy9mb3JtYXR0aW5nLXRvb2xiYXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtDQUErQzs7O0FBR0k7QUFDbkI7QUEwQlY7QUFDWTtBQUtEO0FBTU07QUFJTjtBQWdCakMsTUFBTW1DLG9CQUFzRDtRQUFDLEVBQzNEQyxNQUFNLEVBQ05DLE9BQU8sRUFDUEMsWUFBWSxFQUNaQyxhQUFhLEVBQ2JDLGFBQWEsRUFDYkMsUUFBUSxFQUNSQyxlQUFlLEVBQ2ZDLFdBQVcsRUFDWEMsVUFBVSxFQUNWQyxrQkFBa0IsS0FBSyxFQUN4QjtRQWdSZ0RKOztJQS9RL0MsTUFBTSxDQUFDSyxhQUFhQyxlQUFlLEdBQUc5QywrQ0FBUUEsQ0FBbUU7SUFDakgsTUFBTSxDQUFDK0MsVUFBVUMsWUFBWSxHQUFHaEQsK0NBQVFBLENBQUM7SUFDekMsTUFBTSxDQUFDaUQsYUFBYUMsZUFBZSxHQUFHbEQsK0NBQVFBLENBQUM7UUFBRW1ELEdBQUc7UUFBR0MsR0FBRztJQUFFO0lBQzVELE1BQU0sQ0FBQ0MsZ0JBQWdCQyxrQkFBa0IsR0FBR3RELCtDQUFRQSxDQUFDO0lBQ3JELE1BQU0sQ0FBQ3VELFNBQVNDLFdBQVcsR0FBR3hELCtDQUFRQSxDQUFDO0lBRXZDLHVDQUF1QztJQUN2Q0MsZ0RBQVNBLENBQUM7UUFDUixJQUFJa0MsVUFBVSxDQUFDSSxlQUFlO1lBQzVCLE1BQU1rQixnQkFBZ0JDLGFBQWFDLE9BQU8sQ0FBQztZQUMzQyxJQUFJRixlQUFlO2dCQUNqQixJQUFJO29CQUNGUCxlQUFlVSxLQUFLQyxLQUFLLENBQUNKO2dCQUM1QixFQUFFLE9BQU9LLEdBQUc7b0JBQ1ZDLFFBQVFDLEtBQUssQ0FBQyw4Q0FBOENGO2dCQUM5RDtZQUNGLE9BQU87Z0JBQ0wsaUJBQWlCO2dCQUNqQixNQUFNRyxVQUFVLENBQUNDLE9BQU9DLFVBQVUsR0FBRyxHQUFFLElB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LE9BQU91SDtJQUNUO0lBRUEsMERBQTBEO0lBQzFELHFCQUNFLDhEQUFDNUosMENBQUdBO1FBQ0Y2RSxNQUFNO1lBQUVDLE9BQU87WUFBUUMsUUFBUTtRQUFPO1FBQ3RDSCxVQUFVN0I7UUFDVm1CLFlBQVlBO1FBQ1ptSCxxQkFBb0I7UUFDcEJDLFFBQU87UUFDUEMsZ0JBQWdCO1FBQ2hCekIsV0FBVTs7MEJBRVYsOERBQUNEO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDakosK1FBQVlBO29CQUFDaUosV0FBVTs7Ozs7Ozs7Ozs7WUFFekJGOzs7Ozs7O0FBR1A7R0FodEJNNUg7S0FBQUE7QUFrdEJOLCtEQUFlQSxpQkFBaUJBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvY2FudmFzL2Zvcm1hdHRpbmctdG9vbGJhci50c3g/NDExMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvY29tcG9uZW50cy9jYW52YXMvZm9ybWF0dGluZy10b29sYmFyLnRzeFxuJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFJuZCB9IGZyb20gJ3JlYWN0LXJuZCc7XG5pbXBvcnQgdHlwZSB7IFdpdGhJZCwgQ2FudmFzRWxlbWVudCB9IGZyb20gJ0AvbGliL3R5cGVzJztcbmltcG9ydCB7XG4gIE1vcmVWZXJ0aWNhbCxcbiAgVGFnLFxuICBUeXBlLFxuICBCb2xkLFxuICBJdGFsaWMsXG4gIFVuZGVybGluZSxcbiAgU3RyaWtldGhyb3VnaCxcbiAgTGlzdCxcbiAgQ2FsZW5kYXIsXG4gIEVyYXNlcixcbiAgWCxcbiAgTW92ZSxcbiAgUmVjdGFuZ2xlSG9yaXpvbnRhbCxcbiAgR3JpcFZlcnRpY2FsLFxuICBNYXBQaW4sXG4gIExpbmsgYXMgTGlua0ljb24sXG4gIEFsaWduTGVmdCxcbiAgQWxpZ25DZW50ZXIsXG4gIEFsaWduUmlnaHQsXG4gIEFsaWduSnVzdGlmeSxcbiAgU2VhcmNoLFxuICBDaGV2cm9uRG93bixcbiAgUGFpbnRicnVzaCxcbn0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJ2RhdGUtZm5zJztcbmltcG9ydCB7XG4gIFBvcG92ZXIsXG4gIFBvcG92ZXJDb250ZW50LFxuICBQb3BvdmVyVHJpZ2dlcixcbn0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3BvcG92ZXInO1xuaW1wb3J0IHtcbiAgRHJvcGRvd25NZW51LFxuICBEcm9wZG93bk1lbnVDb250ZW50LFxuICBEcm9wZG93bk1lbnVJdGVtLFxuICBEcm9wZG93bk1lbnVUcmlnZ2VyLFxufSBmcm9tICdAL2NvbXBvbmVudHMvdWkvZHJvcGRvd24tbWVudSc7XG5pbXBvcnQgeyBEaWFsb2csIERpYWxvZ0NvbnRlbnQsIERpYWxvZ0hlYWRlciwgRGlhbG9nVGl0bGUsIERpYWxvZ1RyaWdnZXIgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvZGlhbG9nJztcbmltcG9ydCB7IElucHV0IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2lucHV0JztcbmltcG9ydCB7IEJ1dHRvbiBhcyBVSUJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nO1xuaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7XG5pbXBvcnQgdHlwZSB7IEVsZW1lbnRUeXBlIH0gZnJvbSAnQC9saWIvdHlwZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEZvcm1hdHRpbmdUb29sYmFyUHJvcHMge1xuICBpc09wZW46IGJvb2xlYW47XG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG4gIG9uQWRkQ29tbWVudDogKCkgPT4gdm9pZDtcbiAgb25FZGl0Q29tbWVudD86IChjb21tZW50OiBXaXRoSWQ8Q2FudmFzRWxlbWVudD4pID0+IHZvaWQ7XG4gIGlzTW9iaWxlU2hlZXQ/OiBib29sZWFuO1xuICBlbGVtZW50czogV2l0aElkPENhbnZhc0VsZW1lbnQ+W107XG4gIG9uTG9jYXRlRWxlbWVudDogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIG9uUGFuVG9nZ2xlOiAoKSA9PiB2b2lkO1xuICBhZGRFbGVtZW50PzogKHR5cGU6IEVsZW1lbnRUeXBlLCBwcm9wcz86IGFueSkgPT4gUHJvbWlzZTxzdHJpbmc+O1xuICBpc1Bhbm5pbmdBY3RpdmU/OiBib29sZWFuO1xufVxuXG5jb25zdCBGb3JtYXR0aW5nVG9vbGJhcjogUmVhY3QuRkM8Rm9ybWF0dGluZ1Rvb2xiYXJQcm9wcz4gPSAoe1xuICBpc09wZW4sXG4gIG9uQ2xvc2UsXG4gIG9uQWRkQ29tbWVudCxcbiAgb25FZGl0Q29tbWVudCxcbiAgaXNNb2JpbGVTaGVldCxcbiAgZWxlbWVudHMsXG4gIG9uTG9jYXRlRWxlbWVudCxcbiAgb25QYW5Ub2dnbGUsXG4gIGFkZEVsZW1lbnQsXG4gIGlzUGFubmluZ0FjdGl2ZSA9IGZhbHNlLFxufSkgPT4ge1xuICBjb25zdCBbcG9wb3Zlck9wZW4sIHNldFBvcG92ZXJPcGVuXSA9IHVzZVN0YXRlPCdmb250U2l6ZScgfCAndW5kZXJsaW5lQ29sb3InIHwgJ3RleHRDb2xvcicgfCAnaGlnaGxpZ2h0JyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZm9udFNpemUsIHNldEZvbnRTaXplXSA9IHVzZVN0YXRlKCcxOHB4Jyk7XG4gIGNvbnN0IFtybmRQb3NpdGlvbiwgc2V0Um5kUG9zaXRpb25dID0gdXNlU3RhdGUoeyB4OiAwLCB5OiAwIH0pO1xuICBjb25zdCBbbGlua0RpYWxvZ09wZW4sIHNldExpbmtEaWFsb2dPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xpbmtVcmwsIHNldExpbmtVcmxdID0gdXNlU3RhdGUoJycpO1xuXG4gIC8vIEluaWNpYWxpemFyIHBvc2ljacOzbiBjZW50cmFkYSBhcnJpYmFcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNPcGVuICYmICFpc01vYmlsZVNoZWV0KSB7XG4gICAgICBjb25zdCBzYXZlZFBvc2l0aW9uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Zvcm1hdHRpbmdUb29sYmFyUG9zaXRpb24nKTtcbiAgICAgIGlmIChzYXZlZFBvc2l0aW9uKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgc2V0Um5kUG9zaXRpb24oSlNPTi5wYXJzZShzYXZlZFBvc2l0aW9uKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBmb3JtYXR0aW5nIHRvb2xiYXIgcG9zaXRpb24nLCBlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ2VudHJhciBhcnJpYmFcbiAgICAgICAgY29uc3QgY2VudGVyWCA9ICh3aW5kb3cuaW5uZXJXaWR0aCAtIDYwMCkgLyAyOyAvLyA2MDBweCBlcyBlbCBhbmNobyBhcHJveGltYWRvIHJlZHVjaWRvIDIwJVxuICAgICAgICBzZXRSbmRQb3NpdGlvbih7IHg6IGNlbnRlclgsIHk6IDIwIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2lzT3BlbiwgaXNNb2JpbGVTaGVldF0pO1xuXG4gIGNvbnN0IG9uRHJhZ1N0b3AgPSAoZTogYW55LCBkOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0pID0+IHtcbiAgICBjb25zdCBuZXdQb3NpdGlvbiA9IHsgeDogZC54LCB5OiBkLnkgfTtcbiAgICBzZXRSbmRQb3NpdGlvbihuZXdQb3NpdGlvbik7XG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmb3JtYXR0aW5nVG9vbGJhclBvc2l0aW9uJywgSlNPTi5zdHJpbmdpZnkobmV3UG9zaXRpb24pKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgZm9ybWF0dGluZyB0b29sYmFyIHBvc2l0aW9uJywgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVBZGRMaWVuem8gPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKGFkZEVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGFkZEVsZW1lbnQoJ2NvbnRhaW5lcicsIHtcbiAgICAgICAgICBjb250ZW50OiB7IHRpdGxlOiAnTGllbnpvJywgZWxlbWVudElkczogW10gfSxcbiAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogeyB4OiAxMDAsIHk6IDEwMCB9LFxuICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogNzk0LCBoZWlnaHQ6IDEwMjEgfSxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGxpZW56bzonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUZvcm1hdCA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50LCBjb21tYW5kOiBzdHJpbmcsIHZhbHVlPzogc3RyaW5nKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICBpZiAoIXNlbGVjdGlvbiB8fCBzZWxlY3Rpb24ucmFuZ2VDb3VudCA9PT0gMCkge1xuICAgICAgY29uc3QgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBpZiAoYWN0aXZlRWxlbWVudCAmJiAoYWN0aXZlRWxlbWVudC5pc0NvbnRlbnRFZGl0YWJsZSB8fCBhY3RpdmVFbGVtZW50LnRhZ05hbWUgPT09ICdESVYnKSkge1xuICAgICAgICBhY3RpdmVFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKGNvbW1hbmQsIGZhbHNlLCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoY29tbWFuZCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBkb2N1bWVudC5leGVjQ29tbWFuZChjb21tYW5kLCBmYWxzZSwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5leGVjQ29tbWFuZChjb21tYW5kLCBmYWxzZSk7XG4gICAgfVxuICAgIHNldFBvcG92ZXJPcGVuKG51bGwpO1xuICB9O1xuXG4gIGNvbnN0IGFwcGx5Q29sb3JlZFVuZGVybGluZSA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50LCBjb2xvcjogc3RyaW5nKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICBpZiAoIXNlbGVjdGlvbiB8fCBzZWxlY3Rpb24ucmFuZ2VDb3VudCA9PT0gMCB8fCBzZWxlY3Rpb24uaXNDb2xsYXBzZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcbiAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHNwYW4uc3R5bGUudGV4dERlY29yYXRpb24gPSAndW5kZXJsaW5lJztcbiAgICBzcGFuLnN0eWxlLnRleHREZWNvcmF0aW9uQ29sb3IgPSBjb2xvcjtcbiAgICBzcGFuLnN0eWxlLnRleHREZWNvcmF0aW9uVGhpY2tuZXNzID0gJzJweCc7XG4gICAgc3Bhbi5hcHBlbmRDaGlsZChyYW5nZS5leHRyYWN0Q29udGVudHMoKSk7XG4gICAgcmFuZ2UuaW5zZXJ0Tm9kZShzcGFuKTtcbiAgICBzZXRQb3BvdmVyT3BlbihudWxsKTtcbiAgfTtcblxuICBjb25zdCBhcHBseVRleHRDb2xvciA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50LCBjb2xvcjogc3RyaW5nKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIGlmICghc2VsZWN0aW9uIHx8IHNlbGVjdGlvbi5yYW5nZUNvdW50ID09PSAwKSB7XG4gICAgICAvLyBTaSBubyBoYXkgc2VsZWNjacOzbiwgZW52b2x2ZXIgdG9kbyBlbCBjb250ZW5pZG8gZW4gdW4gc3BhbiBjb24gZWwgY29sb3JcbiAgICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQgJiYgYWN0aXZlRWxlbWVudC5pc0NvbnRlbnRFZGl0YWJsZSkge1xuICAgICAgICAvLyBTaSBlbCBlbGVtZW50byB5YSB0aWVuZSB1biBzb2xvIGhpam8gc3BhbiBjb24gY29sb3IsIGFjdHVhbGl6YXIgZXNlIHNwYW5cbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKGFjdGl2ZUVsZW1lbnQuY2hpbGROb2Rlcyk7XG4gICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDEgJiYgY2hpbGRyZW5bMF0ubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlblswXSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICBpZiAoY2hpbGQudGFnTmFtZSA9PT0gJ1NQQU4nICYmIGNoaWxkLnN0eWxlLmNvbG9yKSB7XG4gICAgICAgICAgICBjaGlsZC5zdHlsZS5jb2xvciA9IGNvbG9yO1xuICAgICAgICAgICAgYWN0aXZlRWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xuICAgICAgICAgICAgc2V0UG9wb3Zlck9wZW4obnVsbCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEVudm9sdmVyIHRvZG8gZWwgY29udGVuaWRvIGVuIHVuIHNwYW4gY29uIGVsIGNvbG9yXG4gICAgICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHNwYW4uc3R5bGUuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgd2hpbGUgKGFjdGl2ZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgICAgIHNwYW4uYXBwZW5kQ2hpbGQoYWN0aXZlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBhY3RpdmVFbGVtZW50LmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICAvLyBNb3ZlciBjdXJzb3IgYWwgZmluYWxcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoc3Bhbik7XG4gICAgICAgIHJhbmdlLmNvbGxhcHNlKGZhbHNlKTtcbiAgICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgICBhY3RpdmVFbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG4gICAgICB9XG4gICAgICBzZXRQb3BvdmVyT3BlbihudWxsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgaWYgKHNlbGVjdGlvbi5pc0NvbGxhcHNlZCkge1xuICAgICAgLy8gU2kgc29sbyBoYXkgY3Vyc29yLCBlbnZvbHZlciBlbCBjb250ZW5pZG8gZGVsIGVsZW1lbnRvIGVuIHVuIHNwYW4gY29uIGVsIGNvbG9yXG4gICAgICBjb25zdCByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xuICAgICAgY29uc3QgY29udGFpbmVyID0gcmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXI7XG4gICAgICBjb25zdCBlbGVtZW50ID0gY29udGFpbmVyLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSBcbiAgICAgICAgPyAoY29udGFpbmVyLnBhcmVudEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpXG4gICAgICAgIDogKGNvbnRhaW5lciBhcyBIVE1MRWxlbWVudCk7XG4gICAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50LmlzQ29udGVudEVkaXRhYmxlKSB7XG4gICAgICAgIC8vIFZlcmlmaWNhciBzaSB5YSB0aWVuZSB1biBzcGFuIGNvbiBjb2xvclxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IEFycmF5LmZyb20oZWxlbWVudC5jaGlsZE5vZGVzKTtcbiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJiBjaGlsZHJlblswXS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuWzBdIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgIGlmIChjaGlsZC50YWdOYW1lID09PSAnU1BBTicgJiYgY2hpbGQuc3R5bGUuY29sb3IpIHtcbiAgICAgICAgICAgIGNoaWxkLnN0eWxlLmNvbG9yID0gY29sb3I7XG4gICAgICAgICAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG4gICAgICAgICAgICBzZXRQb3BvdmVyT3BlbihudWxsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW52b2x2ZXIgY29udGVuaWRvIGVuIHNwYW4gY29uIGNvbG9yXG4gICAgICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHNwYW4uc3R5bGUuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgd2hpbGUgKGVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgICAgIHNwYW4uYXBwZW5kQ2hpbGQoZWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICAvLyBNb3ZlciBjdXJzb3IgYWwgZmluYWxcbiAgICAgICAgY29uc3QgbmV3UmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgICBuZXdSYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoc3Bhbik7XG4gICAgICAgIG5ld1JhbmdlLmNvbGxhcHNlKGZhbHNlKTtcbiAgICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UobmV3UmFuZ2UpO1xuICAgICAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG4gICAgICB9XG4gICAgICBzZXRQb3BvdmVyT3BlbihudWxsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcbiAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHNwYW4uc3R5bGUuY29sb3IgPSBjb2xvcjtcbiAgICB0cnkge1xuICAgICAgc3Bhbi5hcHBlbmRDaGlsZChyYW5nZS5leHRyYWN0Q29udGVudHMoKSk7XG4gICAgICByYW5nZS5pbnNlcnROb2RlKHNwYW4pO1xuICAgICAgLy8gTW92ZXIgY3Vyc29yIGRlc3B1w6lzIGRlbCBzcGFuXG4gICAgICByYW5nZS5zZXRTdGFydEFmdGVyKHNwYW4pO1xuICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7XG4gICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgLy8gRGlzcGFyYXIgZXZlbnRvIGlucHV0IHBhcmEgZ3VhcmRhclxuICAgICAgY29uc3QgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBpZiAoYWN0aXZlRWxlbWVudCkge1xuICAgICAgICBhY3RpdmVFbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhcGxpY2FuZG8gY29sb3I6JywgZXJyKTtcbiAgICB9XG4gICAgc2V0UG9wb3Zlck9wZW4obnVsbCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlSW5zZXJ0RGF0ZSA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgc3Bhbi5zdHlsZS5jb2xvciA9ICcjYTBhMWE2JztcbiAgICBzcGFuLnRleHRDb250ZW50ID0gYC0tICR7Zm9ybWF0KG5ldyBEYXRlKCksICdkZC9NTS95eScpfSBgO1xuICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdpbnNlcnRIVE1MJywgZmFsc2UsIHNwYW4ub3V0ZXJIVE1MKTtcbiAgfTtcblxuICBjb25zdCBjbGVhckZvcm1hdHRpbmcgPSAoZTogUmVhY3QuTW91c2VFdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgncmVtb3ZlRm9ybWF0JywgZmFsc2UpO1xuICAgIFxuICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICBpZiAoc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCkge1xuICAgICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHJhbmdlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO1xuICAgICAgaWYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGNvbnRhaW5lciBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgY29uc3Qgc3BhbnMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW5bc3R5bGUqPVwidGV4dC1kZWNvcmF0aW9uXCJdJyk7XG4gICAgICAgIHNwYW5zLmZvckVhY2goc3BhbiA9PiB7XG4gICAgICAgICAgY29uc3QgcGFyZW50ID0gc3Bhbi5wYXJlbnROb2RlO1xuICAgICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc3Bhbi50ZXh0Q29udGVudCB8fCAnJyksIHNwYW4pO1xuICAgICAgICAgICAgcGFyZW50Lm5vcm1hbGl6ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUxpc3QgPSAoZTogUmVhY3QuTW91c2VFdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAvLyBUb2dnbGUgZW50cmUgbGlzdGEgb3JkZW5hZGEgeSBkZXNvcmRlbmFkYVxuICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICBpZiAoc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCkge1xuICAgICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHJhbmdlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO1xuICAgICAgaWYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGNvbnRhaW5lciBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PT0gJ1VMJyB8fCBlbGVtZW50LnRhZ05hbWUgPT09ICdPTCcpIHtcbiAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnaW5zZXJ0VW5vcmRlcmVkTGlzdCcsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnaW5zZXJ0VW5vcmRlcmVkTGlzdCcsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2luc2VydFVub3JkZXJlZExpc3QnLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGlmICghaXNPcGVuKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBDbGFzZXMgVGFpbHdpbmQgcGFyYSBlbCB0b29sYmFyIChmb25kbyBuZWdybywgYm90b25lcyBibGFuY29zKVxuICAvLyBSZWR1Y2lkbyAyMCU6IHRvZG9zIGxvcyB0YW1hw7FvcyByZWR1Y2lkb3MgYWwgODAlXG4gIGNvbnN0IHRvb2xiYXJDbGFzc05hbWUgPSBjbihcbiAgICBcImJnLWJsYWNrIHRleHQtd2hpdGUgcHktMS41IHB4LTIuNVwiLFxuICAgIFwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdy1mdWxsIG1pbi1oLVszOHB4XSBnYXAtMC41XCIsXG4gICAgXCJ0ZXh0LXNtXCJcbiAgKTtcblxuICAvLyBDbGFzZXMgVGFpbHdpbmQgcGFyYSBib3RvbmVzIGJsYW5jb3MgcmVkb25kZWFkb3MgKHJlZHVjaWRvcyAyMCUpXG4gIGNvbnN0IHdoaXRlQnV0dG9uQ2xhc3NOYW1lID0gY24oXG4gICAgXCJiZy13aGl0ZSBib3JkZXItbm9uZSByb3VuZGVkLW1kIHB4LTIuNSBweS0xLjVcIixcbiAgICBcImN1cnNvci1wb2ludGVyIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCIsXG4gICAgXCJtaW4tdy1bMjlweF0gaC03IHRyYW5zaXRpb24tY29sb3JzXCIsXG4gICAgXCJob3ZlcjpiZy1ncmF5LTEwMFwiXG4gICk7XG5cbiAgLy8gQ2xhc2VzIFRhaWx3aW5kIHBhcmEgaWNvbm9zIG5lZ3JvcyAocmVkdWNpZG9zIDIwJSlcbiAgY29uc3QgaWNvbkNsYXNzTmFtZSA9IFwidy1bMTRweF0gaC1bMTRweF0gdGV4dC1ibGFja1wiO1xuXG4gIC8vIENsYXNlcyBUYWlsd2luZCBwYXJhIGN1YWRyYWRvcyBncmlzIG9zY3VybyAocmVkdWNpZG9zIDIwJSlcbiAgY29uc3QgZGFya1NxdWFyZUNsYXNzTmFtZSA9IGNuKFxuICAgIFwiYmctWyMyYTJhMmFdIGJvcmRlci1ub25lIHJvdW5kZWRcIixcbiAgICBcImN1cnNvci1wb2ludGVyIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCIsXG4gICAgXCJ3LTcgaC03IHAtMS41IHRyYW5zaXRpb24tY29sb3JzXCIsXG4gICAgXCJob3ZlcjpiZy1bIzNhM2EzYV1cIlxuICApO1xuXG4gIC8vIERldGVjdGFyIHNpIGVsIGVsZW1lbnRvIHNlbGVjY2lvbmFkbyBlcyB1biBjb21tZW50XG4gIGNvbnN0IHNlbGVjdGVkQ29tbWVudCA9IGVsZW1lbnRzLmxlbmd0aCA+IDAgJiYgZWxlbWVudHNbMF0/LnR5cGUgPT09ICdjb21tZW50JyA/IGVsZW1lbnRzWzBdIDogbnVsbDtcblxuICBjb25zdCB0b29sYmFyQ29udGVudCA9IChcbiAgICA8ZGl2IGNsYXNzTmFtZT17dG9vbGJhckNsYXNzTmFtZX0+XG4gICAgICB7LyogMC4gTWFwUGluIChGaWphciBwb3NpY2nDs24pIC0gQm90w7NuIGJsYW5jbyAtIFNPTE8gcGFyYSBlbGVtZW50b3MgY29tbWVudCAqL31cbiAgICAgIHtzZWxlY3RlZENvbW1lbnQgJiYgb25FZGl0Q29tbWVudCAmJiAoXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9e3doaXRlQnV0dG9uQ2xhc3NOYW1lfVxuICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgb25FZGl0Q29tbWVudChzZWxlY3RlZENvbW1lbnQpO1xuICAgICAgICAgIH19XG4gICAgICAgICAgdGl0bGU9XCJGaWphciBwb3NpY2nDs24gZW4gZWwgdGFibGVybyAvIEVkaXRhciBFdGlxdWV0YVwiXG4gICAgICAgID5cbiAgICAgICAgICA8TWFwUGluIGNsYXNzTmFtZT17aWNvbkNsYXNzTmFtZX0gLz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApfVxuXG4gICAgICB7LyogMS4gVHJlcyBwdW50b3MgdmVydGljYWxlcyAoTW9yZVZlcnRpY2FsKSAtIEN1YWRyYWRvIGdyaXMgb3NjdXJvICovfVxuICAgICAgPERyb3Bkb3duTWVudT5cbiAgICAgICAgPERyb3Bkb3duTWVudVRyaWdnZXIgYXNDaGlsZD5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3NOYW1lPXtkYXJrU3F1YXJlQ2xhc3NOYW1lfSBcbiAgICAgICAgICAgIHRpdGxlPVwiTcOhcyBvcGNpb25lc1wiXG4gICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxNb3JlVmVydGljYWwgY2xhc3NOYW1lPVwidy1bMTRweF0gaC1bMTRweF0gdGV4dC13aGl0ZVwiIC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvRHJvcGRvd25NZW51VHJpZ2dlcj5cbiAgICAgICAgPERyb3Bkb3duTWVudUNvbnRlbnQ+XG4gICAgICAgICAgPERyb3Bkb3duTWVudUl0ZW0gb25DbGljaz17KGUpID0+IHsgZS5wcmV2ZW50RGVmYXVsdCgpOyBlLnN0b3BQcm9wYWdhdGlvbigpOyB9fT5cbiAgICAgICAgICAgIDxzcGFuPk9wY2lvbmVzPC9zcGFuPlxuICAgICAgICAgIDwvRHJvcGRvd25NZW51SXRlbT5cbiAgICAgICAgPC9Ecm9wZG93bk1lbnVDb250ZW50PlxuICAgICAgPC9Ecm9wZG93bk1lbnU+XG5cbiAgICAgIHsvKiAyLiBUYWcgKEV0aXF1ZXRhL01hcmNhZG9yKSAtIEJvdMOzbiBibGFuY28gLSBDbG9uYWRvIGRlIHByb2R1Y2Npw7NuICovfVxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e3doaXRlQnV0dG9uQ2xhc3NOYW1lfVxuICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIC8vIEZ1bmNpb25hbGlkYWQgY29tcGxldGE6IGNyZWFyIGxvY2FsaXphZG9yL2V0aXF1ZXRhIGVuIGVsIGNlbnRybyBkZWwgdmlld3BvcnRcbiAgICAgICAgICBpZiAob25BZGRDb21tZW50KSB7XG4gICAgICAgICAgICBvbkFkZENvbW1lbnQoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGFkZEVsZW1lbnQpIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrOiBjcmVhciBkaXJlY3RhbWVudGUgc2kgYWRkRWxlbWVudCBlc3TDoSBkaXNwb25pYmxlXG4gICAgICAgICAgICBjb25zdCB2aWV3cG9ydENlbnRlciA9IHsgXG4gICAgICAgICAgICAgIHg6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmlubmVyV2lkdGggLyAyIDogNDAwMDAsIFxuICAgICAgICAgICAgICB5OiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5pbm5lckhlaWdodCAvIDIgOiA0MDAwMCBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhZGRFbGVtZW50KCdjb21tZW50Jywge1xuICAgICAgICAgICAgICBjb250ZW50OiB7IFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnTnVldm8gTG9jYWxpemFkb3InLCBcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0xvY2FsaXphZG9yJyxcbiAgICAgICAgICAgICAgICB0ZXh0OiAnJyBcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB2aWV3cG9ydENlbnRlcixcbiAgICAgICAgICAgICAgICBzaXplOiB7IHdpZHRoOiA0OCwgaGVpZ2h0OiA0OCB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIGNyZWFyIGxvY2FsaXphZG9yOicsIGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfX1cbiAgICAgICAgdGl0bGU9XCJDcmVhciBldGlxdWV0YSBkZSBwb3NpY2nDs24gLyBMb2NhbGl6YWRvclwiXG4gICAgICA+XG4gICAgICAgIDxUYWcgY2xhc3NOYW1lPXtpY29uQ2xhc3NOYW1lfSAvPlxuICAgICAgPC9idXR0b24+XG5cbiAgICAgIHsvKiAzLiBUIChUYW1hw7FvIGRlIEZ1ZW50ZSkgLSBCb3TDs24gYmxhbmNvIGNvbiBQb3BvdmVyICovfVxuICAgICAgPFBvcG92ZXIgb3Blbj17cG9wb3Zlck9wZW4gPT09ICdmb250U2l6ZSd9IG9uT3BlbkNoYW5nZT17KG9wZW4pID0+IHNldFBvcG92ZXJPcGVuKG9wZW4gPyAnZm9udFNpemUnIDogbnVsbCl9PlxuICAgICAgICA8UG9wb3ZlclRyaWdnZXIgYXNDaGlsZD5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9e3doaXRlQnV0dG9uQ2xhc3NOYW1lfVxuICAgICAgICAgICAgdGl0bGU9XCJUYW1hw7FvIGRlIFRleHRvXCJcbiAgICAgICAgICAgIG9uTW91c2VEb3duPXsoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxUeXBlIGNsYXNzTmFtZT17aWNvbkNsYXNzTmFtZX0gLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9Qb3BvdmVyVHJpZ2dlcj5cbiAgICAgICAgPFBvcG92ZXJDb250ZW50IGNsYXNzTmFtZT1cInctYXV0byBwLTIgYmctd2hpdGVcIiBvbk1vdXNlRG93bj17KGUpID0+IGUucHJldmVudERlZmF1bHQoKX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgIHtbJzEycHgnLCAnMTRweCcsICcxNnB4JywgJzE4cHgnLCAnMjBweCcsICcyNHB4JywgJzMycHgnXS5tYXAoKHNpemUpID0+IChcbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGtleT17c2l6ZX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHB4LTIgcHktMSB0ZXh0LXNtIGhvdmVyOmJnLWdyYXktMTAwIHJvdW5kZWRcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgc2V0Rm9udFNpemUoc2l6ZSk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnN0eWxlLmZvbnRTaXplID0gc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zdXJyb3VuZENvbnRlbnRzKHNwYW4pO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc3Bhbi5hcHBlbmRDaGlsZChyYW5nZS5leHRyYWN0Q29udGVudHMoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZShzcGFuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgc2V0UG9wb3Zlck9wZW4obnVsbCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtzaXplfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1BvcG92ZXJDb250ZW50PlxuICAgICAgPC9Qb3BvdmVyPlxuXG4gICAgICB7LyogU2VwYXJhZG9yIHZpc3VhbCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1weCBoLTYgYmctd2hpdGUvMzAgbXgtMVwiIC8+XG5cbiAgICAgIHsvKiA0LiBMaW5rIChFbmxhY2VzKSAtIEJvdMOzbiBibGFuY28gKi99XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17d2hpdGVCdXR0b25DbGFzc05hbWV9XG4gICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgIGNvbnN0IHVybCA9IHByb21wdCgnSW5ncmVzYSBsYSBVUkwgZGVsIGVubGFjZTonKTtcbiAgICAgICAgICBpZiAodXJsKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCAmJiAhc2VsZWN0aW9uLmlzQ29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgIC8vIEhheSB0ZXh0byBzZWxlY2Npb25hZG8sIGNvbnZlcnRpcmxvIGVuIGVubGFjZVxuICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xuICAgICAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgICBsaW5rLmhyZWYgPSB1cmw7XG4gICAgICAgICAgICAgIGxpbmsudGFyZ2V0ID0gJ19ibGFuayc7XG4gICAgICAgICAgICAgIGxpbmsucmVsID0gJ25vb3BlbmVyIG5vcmVmZXJyZXInO1xuICAgICAgICAgICAgICBsaW5rLmFwcGVuZENoaWxkKHJhbmdlLmV4dHJhY3RDb250ZW50cygpKTtcbiAgICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZShsaW5rKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIE5vIGhheSBzZWxlY2Npw7NuLCBpbnNlcnRhciBVUkwgY29tbyB0ZXh0byBjb24gZW5sYWNlXG4gICAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICAgIGxpbmsuaHJlZiA9IHVybDtcbiAgICAgICAgICAgICAgbGluay50YXJnZXQgPSAnX2JsYW5rJztcbiAgICAgICAgICAgICAgbGluay5yZWwgPSAnbm9vcGVuZXIgbm9yZWZlcnJlcic7XG4gICAgICAgICAgICAgIGxpbmsudGV4dENvbnRlbnQgPSB1cmw7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdpbnNlcnRIVE1MJywgZmFsc2UsIGxpbmsub3V0ZXJIVE1MKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH19XG4gICAgICAgIHRpdGxlPVwiSW5zZXJ0YXIgRW5sYWNlXCJcbiAgICAgID5cbiAgICAgICAgPExpbmtJY29uIGNsYXNzTmFtZT17aWNvbkNsYXNzTmFtZX0gLz5cbiAgICAgIDwvYnV0dG9uPlxuXG4gICAgICB7LyogU2VwYXJhZG9yIHZpc3VhbCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1weCBoLTYgYmctd2hpdGUvMzAgbXgtMVwiIC8+XG5cbiAgICAgIHsvKiA1LiBQaW5jZWwgKENvbG9yIGRlIFRleHRvKSAtIEJvdMOzbiBibGFuY28gY29uIFBvcG92ZXIgZGUgY29sb3JlcyAqL31cbiAgICAgIDxQb3BvdmVyIG9wZW49e3BvcG92ZXJPcGVuID09PSAndGV4dENvbG9yJ30gb25PcGVuQ2hhbmdlPXsob3BlbikgPT4gc2V0UG9wb3Zlck9wZW4ob3BlbiA/ICd0ZXh0Q29sb3InIDogbnVsbCl9PlxuICAgICAgICA8UG9wb3ZlclRyaWdnZXIgYXNDaGlsZD5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9e3doaXRlQnV0dG9uQ2xhc3NOYW1lfVxuICAgICAgICAgICAgdGl0bGU9XCJDb2xvciBkZSBUZXh0b1wiXG4gICAgICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IGUucHJldmVudERlZmF1bHQoKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8UGFpbnRicnVzaCBjbGFzc05hbWU9e2ljb25DbGFzc05hbWV9IC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvUG9wb3ZlclRyaWdnZXI+XG4gICAgICAgIDxQb3BvdmVyQ29udGVudCBjbGFzc05hbWU9XCJ3LWF1dG8gcC0yIGJnLXdoaXRlXCIgb25Nb3VzZURvd249eyhlKSA9PiBlLnByZXZlbnREZWZhdWx0KCl9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwIG1iLTIgcHgtMVwiPkNvbG9yIGRlIHRleHRvPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy00IGdhcC0yXCI+XG4gICAgICAgICAgICB7W1xuICAgICAgICAgICAgICB7IHZhbHVlOiAnIzE0YjhhNicgfSwgLy8gVGVhbFxuICAgICAgICAgICAgICB7IHZhbHVlOiAnI2Y5NzMxNicgfSwgLy8gT3JhbmdlLXJlZFxuICAgICAgICAgICAgICB7IHZhbHVlOiAnIzg0Y2MxNicgfSwgLy8gTGltZSBncmVlblxuICAgICAgICAgICAgICB7IHZhbHVlOiAnI2VhYjMwOCcgfSwgLy8gWWVsbG93XG4gICAgICAgICAgICAgIHsgdmFsdWU6ICcjZjU5ZTBiJyB9LCAvLyBHb2xkZW5yb2RcbiAgICAgICAgICAgICAgeyB2YWx1ZTogJyMzYjgyZjYnIH0sIC8vIEJyaWdodCBibHVlXG4gICAgICAgICAgICAgIHsgdmFsdWU6ICcjMWYyOTM3JyB9LCAvLyBEYXJrIGdyYXlcbiAgICAgICAgICAgICAgeyB2YWx1ZTogJyM0NzU1NjknIH0sIC8vIFNsYXRlIGJsdWVcbiAgICAgICAgICAgIF0ubWFwKChjb2xvciwgaWR4KSA9PiAoXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTggaC04IHJvdW5kZWQgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBob3ZlcjpzY2FsZS0xMTAgdHJhbnNpdGlvbi10cmFuc2Zvcm1cIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogY29sb3IudmFsdWUgfX1cbiAgICAgICAgICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IGFwcGx5VGV4dENvbG9yKGUsIGNvbG9yLnZhbHVlKX1cbiAgICAgICAgICAgICAgICB0aXRsZT17YENvbG9yICR7aWR4ICsgMX1gfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvUG9wb3ZlckNvbnRlbnQ+XG4gICAgICA8L1BvcG92ZXI+XG5cbiAgICAgIHsvKiBTZXBhcmFkb3IgdmlzdWFsICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LXB4IGgtNiBiZy13aGl0ZS8zMCBteC0xXCIgLz5cblxuICAgICAgey8qIDUuNS4gRGVzdGFjYWRvciAoSGlnaGxpZ2h0KSAtIEJvdMOzbiBibGFuY28gY29uIFBvcG92ZXIgZGUgY29sb3JlcyAtIFNvbG8gc2kgaGF5IHRleHRvIHNlbGVjY2lvbmFkbyAqL31cbiAgICAgIHsoKCkgPT4ge1xuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIGNvbnN0IGhhc1NlbGVjdGlvbiA9IHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24ucmFuZ2VDb3VudCA+IDAgJiYgIXNlbGVjdGlvbi5pc0NvbGxhcHNlZDtcbiAgICAgICAgaWYgKCFoYXNTZWxlY3Rpb24pIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxQb3BvdmVyIG9wZW49e3BvcG92ZXJPcGVuID09PSAnaGlnaGxpZ2h0J30gb25PcGVuQ2hhbmdlPXsob3BlbikgPT4gc2V0UG9wb3Zlck9wZW4ob3BlbiA/ICdoaWdobGlnaHQnIDogbnVsbCl9PlxuICAgICAgICAgICAgPFBvcG92ZXJUcmlnZ2VyIGFzQ2hpbGQ+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3doaXRlQnV0dG9uQ2xhc3NOYW1lfVxuICAgICAgICAgICAgICAgIHRpdGxlPVwiUmVzYWx0YXIgVGV4dG9cIlxuICAgICAgICAgICAgICAgIG9uTW91c2VEb3duPXsoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFBhaW50YnJ1c2ggY2xhc3NOYW1lPXtpY29uQ2xhc3NOYW1lfSAvPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvUG9wb3ZlclRyaWdnZXI+XG4gICAgICAgICAgICA8UG9wb3ZlckNvbnRlbnQgY2xhc3NOYW1lPVwidy1hdXRvIHAtMiBiZy13aGl0ZVwiIG9uTW91c2VEb3duPXsoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDAgbWItMiBweC0xXCI+Q29sb3IgZGUgZm9uZG88L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy00IGdhcC0yXCI+XG4gICAgICAgICAgICAgICAge1tcbiAgICAgICAgICAgICAgICAgIHsgdmFsdWU6ICcjZmVmMDhhJyB9LCAvLyBBbWFyaWxsbyBwYXN0ZWxcbiAgICAgICAgICAgICAgICAgIHsgdmFsdWU6ICcjZmRlNjhhJyB9LCAvLyBBbWFyaWxsbyBjbGFyb1xuICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogJyNmZWQ3YWEnIH0sIC8vIE5hcmFuamEgcGFzdGVsXG4gICAgICAgICAgICAgICAgICB7IHZhbHVlOiAnI2ZlY2FjYScgfSwgLy8gUm9zYSBwYXN0ZWxcbiAgICAgICAgICAgICAgICAgIHsgdmFsdWU6ICcjZmJjZmU4JyB9LCAvLyBSb3NhIGNsYXJvXG4gICAgICAgICAgICAgICAgICB7IHZhbHVlOiAnI2U5ZDVmZicgfSwgLy8gTW9yYWRvIHBhc3RlbFxuICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogJyNkZGQ2ZmUnIH0sIC8vIE1vcmFkbyBjbGFyb1xuICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogJyNjN2QyZmUnIH0sIC8vIEF6dWwgcGFzdGVsXG4gICAgICAgICAgICAgICAgXS5tYXAoKGNvbG9yLCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctOCBoLTggcm91bmRlZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGhvdmVyOnNjYWxlLTExMCB0cmFuc2l0aW9uLXRyYW5zZm9ybVwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogY29sb3IudmFsdWUgfX1cbiAgICAgICAgICAgICAgICAgICAgb25Nb3VzZURvd249eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsICYmIHNlbC5yYW5nZUNvdW50ID4gMCAmJiAhc2VsLmlzQ29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IHNlbC5nZXRSYW5nZUF0KDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3IudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuLmFwcGVuZENoaWxkKHJhbmdlLmV4dHJhY3RDb250ZW50cygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZShzcGFuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnRBZnRlcihzcGFuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlRWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYXBsaWNhbmRvIHJlc2FsdGFkbzonLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRQb3BvdmVyT3BlbihudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BSZXNhbHRhZG8gJHtpZHggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvUG9wb3ZlckNvbnRlbnQ+XG4gICAgICAgICAgPC9Qb3BvdmVyPlxuICAgICAgICApO1xuICAgICAgfSkoKX1cblxuICAgICAgey8qIFNlcGFyYWRvciB2aXN1YWwgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInctcHggaC02IGJnLXdoaXRlLzMwIG14LTFcIiAvPlxuXG4gICAgICB7LyogNi4gVSBzdWJyYXlhZG8gKFVuZGVybGluZSkgLSBCb3TDs24gYmxhbmNvIGNvbiBQb3BvdmVyIGRlIGNvbG9yZXMgKi99XG4gICAgICA8UG9wb3ZlciBvcGVuPXtwb3BvdmVyT3BlbiA9PT0gJ3VuZGVybGluZUNvbG9yJ30gb25PcGVuQ2hhbmdlPXsob3BlbikgPT4gc2V0UG9wb3Zlck9wZW4ob3BlbiA/ICd1bmRlcmxpbmVDb2xvcicgOiBudWxsKX0+XG4gICAgICAgIDxQb3BvdmVyVHJpZ2dlciBhc0NoaWxkPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT17d2hpdGVCdXR0b25DbGFzc05hbWV9XG4gICAgICAgICAgICB0aXRsZT1cIlN1YnJheWFkb1wiXG4gICAgICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IGUucHJldmVudERlZmF1bHQoKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8VW5kZXJsaW5lIGNsYXNzTmFtZT17aWNvbkNsYXNzTmFtZX0gLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9Qb3BvdmVyVHJpZ2dlcj5cbiAgICAgICAgPFBvcG92ZXJDb250ZW50IGNsYXNzTmFtZT1cInctYXV0byBwLTIgYmctd2hpdGVcIiBvbk1vdXNlRG93bj17KGUpID0+IGUucHJldmVudERlZmF1bHQoKX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDAgbWItMiBweC0xXCI+U3VicmF5YWRvIGRlPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy00IGdhcC0yXCI+XG4gICAgICAgICAgICB7W1xuICAgICAgICAgICAgICB7IHZhbHVlOiAnIzE0YjhhNicgfSwgLy8gVGVhbFxuICAgICAgICAgICAgICB7IHZhbHVlOiAnI2Y5NzMxNicgfSwgLy8gT3JhbmdlLXJlZFxuICAgICAgICAgICAgICB7IHZhbHVlOiAnIzg0Y2MxNicgfSwgLy8gTGltZSBncmVlblxuICAgICAgICAgICAgICB7IHZhbHVlOiAnI2VhYjMwOCcgfSwgLy8gWWVsbG93XG4gICAgICAgICAgICAgIHsgdmFsdWU6ICcjZjU5ZTBiJyB9LCAvLyBHb2xkZW5yb2RcbiAgICAgICAgICAgICAgeyB2YWx1ZTogJyMzYjgyZjYnIH0sIC8vIEJyaWdodCBibHVlXG4gICAgICAgICAgICAgIHsgdmFsdWU6ICcjMWYyOTM3JyB9LCAvLyBEYXJrIGdyYXlcbiAgICAgICAgICAgICAgeyB2YWx1ZTogJyM0NzU1NjknIH0sIC8vIFNsYXRlIGJsdWVcbiAgICAgICAgICAgIF0ubWFwKChjb2xvciwgaWR4KSA9PiAoXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTggaC04IHJvdW5kZWQgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBob3ZlcjpzY2FsZS0xMTAgdHJhbnNpdGlvbi10cmFuc2Zvcm1cIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogY29sb3IudmFsdWUgfX1cbiAgICAgICAgICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IGFwcGx5Q29sb3JlZFVuZGVybGluZShlLCBjb2xvci52YWx1ZSl9XG4gICAgICAgICAgICAgICAgdGl0bGU9e2BDb2xvciAke2lkeCArIDF9YH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1BvcG92ZXJDb250ZW50PlxuICAgICAgPC9Qb3BvdmVyPlxuXG4gICAgICB7LyogNy4gQiAoQm9sZCkgLSBCb3TDs24gYmxhbmNvICovfVxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e3doaXRlQnV0dG9uQ2xhc3NOYW1lfVxuICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IGhhbmRsZUZvcm1hdChlLCAnYm9sZCcpfVxuICAgICAgICB0aXRsZT1cIk5lZ3JpdGFcIlxuICAgICAgPlxuICAgICAgICA8Qm9sZCBjbGFzc05hbWU9e2ljb25DbGFzc05hbWV9IC8+XG4gICAgICA8L2J1dHRvbj5cblxuICAgICAgey8qIDguIEkgKEl0YWxpYykgLSBCb3TDs24gYmxhbmNvICovfVxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e3doaXRlQnV0dG9uQ2xhc3NOYW1lfVxuICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IGhhbmRsZUZvcm1hdChlLCAnaXRhbGljJyl9XG4gICAgICAgIHRpdGxlPVwiQ3Vyc2l2YVwiXG4gICAgICA+XG4gICAgICAgIDxJdGFsaWMgY2xhc3NOYW1lPXtpY29uQ2xhc3NOYW1lfSAvPlxuICAgICAgPC9idXR0b24+XG5cbiAgICAgIHsvKiA5LiBTIHRhY2hhZG8gKFN0cmlrZXRocm91Z2gpIC0gQm90w7NuIGJsYW5jbyAqL31cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXt3aGl0ZUJ1dHRvbkNsYXNzTmFtZX1cbiAgICAgICAgb25Nb3VzZURvd249eyhlKSA9PiBoYW5kbGVGb3JtYXQoZSwgJ3N0cmlrZVRocm91Z2gnKX1cbiAgICAgICAgdGl0bGU9XCJUYWNoYWRvXCJcbiAgICAgID5cbiAgICAgICAgPFN0cmlrZXRocm91Z2ggY2xhc3NOYW1lPXtpY29uQ2xhc3NOYW1lfSAvPlxuICAgICAgPC9idXR0b24+XG5cbiAgICAgIHsvKiBTZXBhcmFkb3IgdmlzdWFsICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LXB4IGgtNiBiZy13aGl0ZS8zMCBteC0xXCIgLz5cblxuICAgICAgey8qIDEwLTEzLiBBbGluZWFyIC0gQm90w7NuIMO6bmljbyBjb24gZGVzcGxlZ2FibGUgKi99XG4gICAgICA8RHJvcGRvd25NZW51PlxuICAgICAgICA8RHJvcGRvd25NZW51VHJpZ2dlciBhc0NoaWxkPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT17d2hpdGVCdXR0b25DbGFzc05hbWV9XG4gICAgICAgICAgICB0aXRsZT1cIkFsaW5lYXIgVGV4dG9cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxBbGlnbkxlZnQgY2xhc3NOYW1lPXtpY29uQ2xhc3NOYW1lfSAvPlxuICAgICAgICAgICAgPENoZXZyb25Eb3duIGNsYXNzTmFtZT1cImgtMyB3LTMgbWwtMC41XCIgLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9Ecm9wZG93bk1lbnVUcmlnZ2VyPlxuICAgICAgICA8RHJvcGRvd25NZW51Q29udGVudD5cbiAgICAgICAgICA8RHJvcGRvd25NZW51SXRlbSBvbk1vdXNlRG93bj17KGUpID0+IGhhbmRsZUZvcm1hdChlLCAnanVzdGlmeUxlZnQnKX0+XG4gICAgICAgICAgICA8QWxpZ25MZWZ0IGNsYXNzTmFtZT1cImgtNCB3LTQgbXItMlwiIC8+XG4gICAgICAgICAgICBBbGluZWFyIEl6cXVpZXJkYVxuICAgICAgICAgIDwvRHJvcGRvd25NZW51SXRlbT5cbiAgICAgICAgICA8RHJvcGRvd25NZW51SXRlbSBvbk1vdXNlRG93bj17KGUpID0+IGhhbmRsZUZvcm1hdChlLCAnanVzdGlmeUNlbnRlcicpfT5cbiAgICAgICAgICAgIDxBbGlnbkNlbnRlciBjbGFzc05hbWU9XCJoLTQgdy00IG1yLTJcIiAvPlxuICAgICAgICAgICAgQ2VudHJhclxuICAgICAgICAgIDwvRHJvcGRvd25NZW51SXRlbT5cbiAgICAgICAgICA8RHJvcGRvd25NZW51SXRlbSBvbk1vdXNlRG93bj17KGUpID0+IGhhbmRsZUZvcm1hdChlLCAnanVzdGlmeVJpZ2h0Jyl9PlxuICAgICAgICAgICAgPEFsaWduUmlnaHQgY2xhc3NOYW1lPVwiaC00IHctNCBtci0yXCIgLz5cbiAgICAgICAgICAgIEFsaW5lYXIgRGVyZWNoYVxuICAgICAgICAgIDwvRHJvcGRvd25NZW51SXRlbT5cbiAgICAgICAgICA8RHJvcGRvd25NZW51SXRlbSBvbk1vdXNlRG93bj17KGUpID0+IGhhbmRsZUZvcm1hdChlLCAnanVzdGlmeUZ1bGwnKX0+XG4gICAgICAgICAgICA8QWxpZ25KdXN0aWZ5IGNsYXNzTmFtZT1cImgtNCB3LTQgbXItMlwiIC8+XG4gICAgICAgICAgICBKdXN0aWZpY2FyXG4gICAgICAgICAgPC9Ecm9wZG93bk1lbnVJdGVtPlxuICAgICAgICA8L0Ryb3Bkb3duTWVudUNvbnRlbnQ+XG4gICAgICA8L0Ryb3Bkb3duTWVudT5cblxuICAgICAgey8qIFNlcGFyYWRvciB2aXN1YWwgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInctcHggaC02IGJnLXdoaXRlLzMwIG14LTFcIiAvPlxuXG4gICAgICB7LyogMTQuIENhbGVuZGFyaW8gLSBCb3TDs24gYmxhbmNvICovfVxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e3doaXRlQnV0dG9uQ2xhc3NOYW1lfVxuICAgICAgICBvbkNsaWNrPXtoYW5kbGVJbnNlcnREYXRlfVxuICAgICAgICB0aXRsZT1cIkluc2VydGFyIEZlY2hhXCJcbiAgICAgID5cbiAgICAgICAgPENhbGVuZGFyIGNsYXNzTmFtZT17aWNvbkNsYXNzTmFtZX0gLz5cbiAgICAgIDwvYnV0dG9uPlxuXG4gICAgICB7LyogU2VwYXJhZG9yIHZpc3VhbCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1weCBoLTYgYmctd2hpdGUvMzAgbXgtMVwiIC8+XG5cbiAgICAgIHsvKiAxNi4gQm9ycmFkb3IgKEVyYXNlcikgLSBCb3TDs24gYmxhbmNvICovfVxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e3doaXRlQnV0dG9uQ2xhc3NOYW1lfVxuICAgICAgICBvbk1vdXNlRG93bj17Y2xlYXJGb3JtYXR0aW5nfVxuICAgICAgICB0aXRsZT1cIkxpbXBpYXIgRm9ybWF0b1wiXG4gICAgICA+XG4gICAgICAgIDxFcmFzZXIgY2xhc3NOYW1lPXtpY29uQ2xhc3NOYW1lfSAvPlxuICAgICAgPC9idXR0b24+XG5cbiAgICAgIHsvKiAxMi4gTW92ZXIgLSBCb3TDs24gYmxhbmNvICh0cmFzbGFkYWRvIGRlbCBtZW7DuiBwcmluY2lwYWwpICovfVxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e2NuKHdoaXRlQnV0dG9uQ2xhc3NOYW1lLCBpc1Bhbm5pbmdBY3RpdmUgJiYgJ2JnLWdyYXktMjAwJyl9XG4gICAgICAgIG9uQ2xpY2s9e29uUGFuVG9nZ2xlfVxuICAgICAgICB0aXRsZT1cIk1vdmVyXCJcbiAgICAgID5cbiAgICAgICAgPE1vdmUgY2xhc3NOYW1lPXtpY29uQ2xhc3NOYW1lfSAvPlxuICAgICAgPC9idXR0b24+XG5cbiAgICAgIHsvKiAxMy4gTGllbnpvIC0gQm90w7NuIGJsYW5jbyAodHJhc2xhZGFkbyBkZWwgbWVuw7ogcHJpbmNpcGFsKSAqL31cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXt3aGl0ZUJ1dHRvbkNsYXNzTmFtZX1cbiAgICAgICAgb25DbGljaz17aGFuZGxlQWRkTGllbnpvfVxuICAgICAgICB0aXRsZT1cIkxpZW56b1wiXG4gICAgICA+XG4gICAgICAgIDxSZWN0YW5nbGVIb3Jpem9udGFsIGNsYXNzTmFtZT17aWNvbkNsYXNzTmFtZX0gLz5cbiAgICAgIDwvYnV0dG9uPlxuXG4gICAgICB7LyogMTQuIFggLSBDdWFkcmFkbyBncmlzIG9zY3VybyAqL31cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXtkYXJrU3F1YXJlQ2xhc3NOYW1lfVxuICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxuICAgICAgICB0aXRsZT1cIkNlcnJhclwiXG4gICAgICA+XG4gICAgICAgIDxYIGNsYXNzTmFtZT1cInctWzE0cHhdIGgtWzE0cHhdIHRleHQtd2hpdGVcIiAvPlxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gICk7XG5cbiAgaWYgKGlzTW9iaWxlU2hlZXQpIHtcbiAgICByZXR1cm4gdG9vbGJhckNvbnRlbnQ7XG4gIH1cblxuICAvLyBNZW7DuiBmb3JtYXQgc2llbXByZSBhYmllcnRvIGFycmliYSwgYXJyYXN0cmFibGUgY29uIFJuZFxuICByZXR1cm4gKFxuICAgIDxSbmRcbiAgICAgIHNpemU9e3sgd2lkdGg6ICdhdXRvJywgaGVpZ2h0OiAnYXV0bycgfX1cbiAgICAgIHBvc2l0aW9uPXtybmRQb3NpdGlvbn1cbiAgICAgIG9uRHJhZ1N0b3A9e29uRHJhZ1N0b3B9XG4gICAgICBkcmFnSGFuZGxlQ2xhc3NOYW1lPVwiZHJhZy1oYW5kbGVcIlxuICAgICAgYm91bmRzPVwid2luZG93XCJcbiAgICAgIGVuYWJsZVJlc2l6aW5nPXtmYWxzZX1cbiAgICAgIGNsYXNzTmFtZT1cInotWzYwMDAwXSBwb2ludGVyLWV2ZW50cy1hdXRvXCJcbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRyYWctaGFuZGxlIGN1cnNvci1ncmFiIGFjdGl2ZTpjdXJzb3ItZ3JhYmJpbmcgcHktMSB0ZXh0LXNsYXRlLTgwMCBmbGV4IGp1c3RpZnktY2VudGVyIG1iLTFcIj5cbiAgICAgICAgPEdyaXBWZXJ0aWNhbCBjbGFzc05hbWU9XCJzaXplLTRcIiAvPlxuICAgICAgPC9kaXY+XG4gICAgICB7dG9vbGJhckNvbnRlbnR9XG4gICAgPC9SbmQ+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBGb3JtYXR0aW5nVG9vbGJhcjtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiUm5kIiwiTW9yZVZlcnRpY2FsIiwiVGFnIiwiVHlwZSIsIkJvbGQiLCJJdGFsaWMiLCJVbmRlcmxpbmUiLCJTdHJpa2V0aHJvdWdoIiwiQ2FsZW5kYXIiLCJFcmFzZXIiLCJYIiwiTW92ZSIsIlJlY3RhbmdsZUhvcml6b250YWwiLCJHcmlwVmVydGljYWwiLCJNYXBQaW4iLCJMaW5rIiwiTGlua0ljb24iLCJBbGlnbkxlZnQiLCJBbGlnbkNlbnRlciIsIkFsaWduUmlnaHQiLCJBbGlnbkp1c3RpZnkiLCJDaGV2cm9uRG93biIsIlBhaW50YnJ1c2giLCJmb3JtYXQiLCJQb3BvdmVyIiwiUG9wb3ZlckNvbnRlbnQiLCJQb3BvdmVyVHJpZ2dlciIsIkRyb3Bkb3duTWVudSIsIkRyb3Bkb3duTWVudUNvbnRlbnQiLCJEcm9wZG93bk1lbnVJdGVtIiwiRHJvcGRvd25NZW51VHJpZ2dlciIsImNuIiwiRm9ybWF0dGluZ1Rvb2xiYXIiLCJpc09wZW4iLCJvbkNsb3NlIiwib25BZGRDb21tZW50Iiwib25FZGl0Q29tbWVudCIsImlzTW9iaWxlU2hlZXQiLCJlbGVtZW50cyIsIm9uTG9jYXRlRWxlbWVudCIsIm9uUGFuVG9nZ2xlIiwiYWRkRWxlbWVudCIsImlzUGFubmluZ0FjdGl2ZSIsInBvcG92ZXJPcGVuIiwic2V0UG9wb3Zlck9wZW4iLCJmb250U2l6ZSIsInNldEZvbnRTaXplIiwicm5kUG9zaXRpb24iLCJzZXRSbmRQb3NpdGlvbiIsIngiLCJ5IiwibGlua0RpYWxvZ09wZW4iLCJzZXRMaW5rRGlhbG9nT3BlbiIsImxpbmtVcmwiLCJzZXRMaW5rVXJsIiwic2F2ZWRQb3NpdGlvbiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJlIiwiY29uc29sZSIsImVycm9yIiwiY2VudGVyWCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJvbkRyYWdTdG9wIiwiZCIsIm5ld1Bvc2l0aW9uIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImhhbmRsZUFkZExpZW56byIsImNvbnRlbnQiLCJ0aXRsZSIsImVsZW1lbnRJZHMiLCJwcm9wZXJ0aWVzIiwicG9zaXRpb24iLCJzaXplIiwid2lkdGgiLCJoZWlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJoYW5kbGVGb3JtYXQiLCJjb21tYW5kIiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsInNlbGVjdGlvbiIsImdldFNlbGVjdGlvbiIsInJhbmdlQ291bnQiLCJhY3RpdmVFbGVtZW50IiwiZG9jdW1lbnQiLCJpc0NvbnRlbnRFZGl0YWJsZSIsInRhZ05hbWUiLCJmb2N1cyIsImV4ZWNDb21tYW5kIiwiYXBwbHlDb2xvcmVkVW5kZXJsaW5lIiwiY29sb3IiLCJpc0NvbGxhcHNlZCIsInJhbmdlIiwiZ2V0UmFuZ2VBdCIsInNwYW4iLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJ0ZXh0RGVjb3JhdGlvbiIsInRleHREZWNvcmF0aW9uQ29sb3IiLCJ0ZXh0RGVjb3JhdGlvblRoaWNrbmVzcyIsImFwcGVuZENoaWxkIiwiZXh0cmFjdENvbnRlbnRzIiwiaW5zZXJ0Tm9kZSIsImFwcGx5VGV4dENvbG9yIiwic3RvcFByb3BhZ2F0aW9uIiwiY2hpbGRyZW4iLCJBcnJheSIsImZyb20iLCJjaGlsZE5vZGVzIiwibGVuZ3RoIiwibm9kZVR5cGUiLCJOb2RlIiwiRUxFTUVOVF9OT0RFIiwiY2hpbGQiLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJidWJibGVzIiwiZmlyc3RDaGlsZCIsImNyZWF0ZVJhbmdlIiwic2VsZWN0Tm9kZUNvbnRlbnRzIiwiY29sbGFwc2UiLCJyZW1vdmVBbGxSYW5nZXMiLCJhZGRSYW5nZSIsImNvbnRhaW5lciIsImNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIiwiZWxlbWVudCIsIlRFWFRfTk9ERSIsInBhcmVudEVsZW1lbnQiLCJuZXdSYW5nZSIsInNldFN0YXJ0QWZ0ZXIiLCJlcnIiLCJoYW5kbGVJbnNlcnREYXRlIiwidGV4dENvbnRlbnQiLCJEYXRlIiwib3V0ZXJIVE1MIiwiY2xlYXJGb3JtYXR0aW5nIiwic3BhbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsInBhcmVudCIsInBhcmVudE5vZGUiLCJyZXBsYWNlQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIm5vcm1hbGl6ZSIsImhhbmRsZUxpc3QiLCJ0b29sYmFyQ2xhc3NOYW1lIiwid2hpdGVCdXR0b25DbGFzc05hbWUiLCJpY29uQ2xhc3NOYW1lIiwiZGFya1NxdWFyZUNsYXNzTmFtZSIsInNlbGVjdGVkQ29tbWVudCIsInR5cGUiLCJ0b29sYmFyQ29udGVudCIsImRpdiIsImNsYXNzTmFtZSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJhc0NoaWxkIiwidmlld3BvcnRDZW50ZXIiLCJpbm5lckhlaWdodCIsImxhYmVsIiwidGV4dCIsImNhdGNoIiwib3BlbiIsIm9uT3BlbkNoYW5nZSIsIm9uTW91c2VEb3duIiwibWFwIiwic3Vycm91bmRDb250ZW50cyIsInVybCIsInByb21wdCIsImxpbmsiLCJocmVmIiwidGFyZ2V0IiwicmVsIiwiaWR4IiwiaGFzU2VsZWN0aW9uIiwic2VsIiwiZHJhZ0hhbmRsZUNsYXNzTmFtZSIsImJvdW5kcyIsImVuYWJsZVJlc2l6aW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/canvas/formatting-toolbar.tsx\n"));

/***/ })

});