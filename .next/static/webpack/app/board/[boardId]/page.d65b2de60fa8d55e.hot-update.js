"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/board/[boardId]/page",{

/***/ "(app-pages-browser)/./src/hooks/use-element-manager.ts":
/*!******************************************!*\
  !*** ./src/hooks/use-element-manager.ts ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useElementManager: function() { return /* binding */ useElementManager; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _firebase_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/firebase/provider */ \"(app-pages-browser)/./src/firebase/provider.tsx\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _hooks_use_toast__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/hooks/use-toast */ \"(app-pages-browser)/./src/hooks/use-toast.ts\");\n/* __next_internal_client_entry_do_not_use__ useElementManager auto */ \n\n\n\nfunction useElementManager(boardId, getViewportCenter, getNextZIndex) {\n    const firestore = (0,_firebase_provider__WEBPACK_IMPORTED_MODULE_1__.useFirestore)();\n    const { user } = (0,_firebase_provider__WEBPACK_IMPORTED_MODULE_1__.useUser)();\n    const { toast } = (0,_hooks_use_toast__WEBPACK_IMPORTED_MODULE_3__.useToast)();\n    // CRÍTICO: Usar refs para funciones que pueden cambiar frecuentemente\n    // Esto previene re-creaciones constantes de addElement\n    const getViewportCenterRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(getViewportCenter);\n    const getNextZIndexRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(getNextZIndex);\n    // Actualizar refs cuando cambian\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        getViewportCenterRef.current = getViewportCenter;\n        getNextZIndexRef.current = getNextZIndex;\n    }, [\n        getViewportCenter,\n        getNextZIndex\n    ]);\n    const addElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (type, props)=>{\n        if (!firestore || !user || !boardId) {\n            const errorMsg = !firestore ? \"Firestore no est\\xe1 disponible\" : !user ? \"Usuario no autenticado\" : \"Board ID no v\\xe1lido\";\n            return Promise.reject(new Error(errorMsg));\n        }\n        const elementsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(firestore, \"users\", user.uid, \"canvasBoards\", boardId, \"canvasElements\");\n        if (type === \"connector\") {\n            const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.addDoc)(elementsRef, {\n                type: \"connector\",\n                userId: user.uid,\n                properties: {},\n                content: props === null || props === void 0 ? void 0 : props.content,\n                createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n            });\n            return docRef.id;\n        }\n        const defaultPosition = getViewportCenterRef.current(); // ✅ Usar ref\n        // REGLA: Los nuevos elementos deben aparecer en PRIMERA CAPA (zIndex máximo)\n        // para que el usuario pueda arrastrarlos y reubicarlos fácilmente\n        // EXCEPCIÓN CRÍTICA: Los contenedores SIEMPRE están en la primera capa (zIndex 0)\n        // incluso antes que cuadernos, para que puedan recibir elementos arrastrados\n        let zIndex;\n        if (type === \"container\") {\n            zIndex = 0; // Contenedores siempre en primera capa (zIndex 0)\n        } else {\n            // Todos los demás elementos nuevos van a la PRIMERA CAPA (zIndex máximo + 1)\n            zIndex = getNextZIndexRef.current(); // ✅ Usar ref\n        }\n        // REGLA #1: Los elementos se abren centrados en el viewport del usuario\n        // Si no se proporciona una posición específica, usar el centro del viewport\n        // IMPORTANTE: Verificar que props existe antes de acceder a properties\n        const viewportCenter = props && props.properties && props.properties.position ? props.properties.position : defaultPosition;\n        const baseSize = props && props.properties && props.properties.size ? props.properties.size : {\n            width: 200,\n            height: 150\n        };\n        const sizeWidth = typeof baseSize.width === \"number\" ? baseSize.width : 200;\n        const sizeHeight = typeof baseSize.height === \"number\" ? baseSize.height : 150;\n        // Helper: Calcula la posición para centrar el elemento en el viewport VISIBLE\n        // REGLA CRÍTICA: Los elementos deben aparecer en el ESPACIO VISIBLE del usuario\n        // El elemento debe estar centrado en el área visible del tablero\n        const getCenteredPosition = (width, height)=>{\n            // Obtener el centro del viewport visible (ya calculado con scroll y scale)\n            const centerX = viewportCenter.x;\n            const centerY = viewportCenter.y;\n            // Calcular posición centrada ideal (centro del elemento = centro del viewport visible)\n            let x = centerX - width / 2;\n            let y = centerY - height / 2;\n            // CRÍTICO: Asegurar que el elemento aparezca SIEMPRE en el área visible\n            // Si el cálculo da negativo, ajustar para que al menos parte del elemento sea visible\n            // Mínimo: asegurar que la esquina superior izquierda esté dentro del viewport visible\n            const minOffset = 20; // Margen mínimo desde el borde visible\n            // Obtener dimensiones del viewport en coordenadas del canvas\n            const viewportWidth =  true ? window.innerWidth : 0;\n            const viewportHeight =  true ? window.innerHeight : 0;\n            // Asegurar que el elemento quede dentro del área visible del viewport\n            // Si el elemento es más pequeño que el viewport, centrarlo\n            // Si es más grande, asegurar que al menos parte sea visible\n            if (width <= viewportWidth) {\n                // Elemento cabe en el viewport: centrarlo\n                x = Math.max(minOffset, Math.min(x, centerX + viewportWidth / 2 - width));\n            } else {\n                // Elemento más grande que el viewport: alinear para que sea visible desde el inicio\n                x = Math.max(minOffset, centerX - viewportWidth / 4);\n            }\n            if (height <= viewportHeight) {\n                // Elemento cabe en el viewport: centrarlo\n                y = Math.max(minOffset, Math.min(y, centerY + viewportHeight / 2 - height));\n            } else {\n                // Elemento más grande que el viewport: alinear para que sea visible desde el inicio\n                y = Math.max(minOffset, centerY - viewportHeight / 4);\n            }\n            // Verificación final: NUNCA permitir coordenadas negativas\n            return {\n                x: Math.max(0, x),\n                y: Math.max(0, y)\n            };\n        };\n        // Construir baseProperties de forma segura\n        const baseProperties = {\n            size: baseSize,\n            zIndex: zIndex,\n            rotation: 0\n        };\n        // Agregar propiedades adicionales de props si existen\n        if (props && props.properties && typeof props.properties === \"object\") {\n            Object.assign(baseProperties, props.properties);\n        }\n        let newElementData;\n        switch(type){\n            case \"notepad\":\n                const notepadSize = {\n                    width: 794,\n                    height: 978\n                };\n                const notepadPos = getCenteredPosition(notepadSize.width, notepadSize.height);\n                newElementData = {\n                    type,\n                    x: notepadPos.x,\n                    y: notepadPos.y,\n                    width: notepadSize.width,\n                    height: notepadSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: notepadPos,\n                        size: notepadSize,\n                        format: \"letter\"\n                    },\n                    content: {\n                        title: \"Nuevo Cuaderno\",\n                        pages: Array(5).fill(\"<div><br></div>\"),\n                        currentPage: 0\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"notepad-simple\":\n                const notepadSimpleSize = {\n                    width: 302,\n                    height: 491\n                };\n                const notepadSimplePos = getCenteredPosition(notepadSimpleSize.width, notepadSimpleSize.height);\n                newElementData = {\n                    type,\n                    x: notepadSimplePos.x,\n                    y: notepadSimplePos.y,\n                    width: notepadSimpleSize.width,\n                    height: notepadSimpleSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: notepadSimplePos,\n                        size: notepadSimpleSize\n                    },\n                    content: {\n                        title: \"Nuevo Notepad\",\n                        text: \"<div><br></div>\"\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"super-notebook\":\n                // Tamaño exacto: 21cm x 27cm (794px x 1021px a 96 DPI)\n                const superNotebookSize = {\n                    width: 794,\n                    height: 1021\n                };\n                const superNotebookPos = getCenteredPosition(superNotebookSize.width, superNotebookSize.height);\n                newElementData = {\n                    type,\n                    x: superNotebookPos.x,\n                    y: superNotebookPos.y,\n                    width: superNotebookSize.width,\n                    height: superNotebookSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: superNotebookPos,\n                        size: superNotebookSize\n                    },\n                    content: {\n                        title: \"Super Cuaderno\",\n                        pages: Array(5).fill(\"<div><br></div>\"),\n                        currentPage: 0\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"sticky\":\n                const stickyColor = (props === null || props === void 0 ? void 0 : props.color) || \"yellow\";\n                const stickySize = {\n                    width: 224,\n                    height: 224\n                };\n                const stickyPos = getCenteredPosition(stickySize.width, stickySize.height);\n                const stickyElement = {\n                    type: \"sticky\",\n                    x: stickyPos.x,\n                    y: stickyPos.y,\n                    width: stickySize.width,\n                    height: stickySize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: stickyPos,\n                        size: stickySize,\n                        color: stickyColor\n                    },\n                    content: typeof (props === null || props === void 0 ? void 0 : props.content) === \"string\" ? props.content : \"Escribe algo...\",\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    ...(props === null || props === void 0 ? void 0 : props.tags) && {\n                        tags: props.tags\n                    }\n                };\n                newElementData = stickyElement;\n                break;\n            case \"todo\":\n                const todoSize = {\n                    width: 300,\n                    height: 150\n                };\n                const todoPos = getCenteredPosition(todoSize.width, todoSize.height);\n                newElementData = {\n                    type,\n                    x: todoPos.x,\n                    y: todoPos.y,\n                    width: todoSize.width,\n                    height: todoSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: todoPos,\n                        size: todoSize\n                    },\n                    content: (props === null || props === void 0 ? void 0 : props.content) || {\n                        title: \"Lista de Tareas\",\n                        items: []\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"image\":\n                const imagePos = getCenteredPosition(sizeWidth, sizeHeight);\n                newElementData = {\n                    type,\n                    x: imagePos.x,\n                    y: imagePos.y,\n                    width: sizeWidth,\n                    height: sizeHeight,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: imagePos,\n                        size: {\n                            width: sizeWidth,\n                            height: sizeHeight\n                        }\n                    },\n                    content: props === null || props === void 0 ? void 0 : props.content,\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"text\":\n                var _props_properties;\n                const textPos = getCenteredPosition(sizeWidth, sizeHeight);\n                const textBgColor = (props === null || props === void 0 ? void 0 : (_props_properties = props.properties) === null || _props_properties === void 0 ? void 0 : _props_properties.backgroundColor) || \"#ffffff\";\n                newElementData = {\n                    type,\n                    x: textPos.x,\n                    y: textPos.y,\n                    width: sizeWidth,\n                    height: sizeHeight,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: textPos,\n                        size: {\n                            width: sizeWidth,\n                            height: sizeHeight\n                        },\n                        backgroundColor: textBgColor\n                    },\n                    content: (props === null || props === void 0 ? void 0 : props.content) || '<div style=\"font-size: 18px;\">Escribe algo...</div>',\n                    color: (props === null || props === void 0 ? void 0 : props.color) || \"white\",\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"container\":\n                var _props_properties1, _props_properties2;\n                // REGLA ESPECIAL: Elemento K85hC8M5spfsgRITnEQR (lienzo) debe ser 60% más pequeño y color #daf4c5\n                const defaultContainerSize = {\n                    width: 378,\n                    height: 567\n                }; // 10x15 cm en píxeles\n                const containerSize = (props === null || props === void 0 ? void 0 : (_props_properties1 = props.properties) === null || _props_properties1 === void 0 ? void 0 : _props_properties1.size) ? props.properties.size : defaultContainerSize;\n                // Si es el lienzo especial (título \"Lienzo\" o ID específico), reducir ancho 50%\n                const containerContent = (props === null || props === void 0 ? void 0 : props.content) && typeof props.content === \"object\" && \"title\" in props.content ? props.content : null;\n                const isSpecialLienzo = (containerContent === null || containerContent === void 0 ? void 0 : containerContent.title) === \"Lienzo\" || (containerContent === null || containerContent === void 0 ? void 0 : containerContent.title) === \"lienzo\";\n                const finalContainerSize = isSpecialLienzo ? {\n                    width: Math.round((typeof containerSize.width === \"number\" ? containerSize.width : 378) * 0.5),\n                    height: typeof containerSize.height === \"number\" ? containerSize.height : 567\n                } : containerSize;\n                const containerPos = getCenteredPosition(typeof finalContainerSize.width === \"number\" ? finalContainerSize.width : 378, typeof finalContainerSize.height === \"number\" ? finalContainerSize.height : 567);\n                const containerBackgroundColor = isSpecialLienzo ? \"#daf4c5\" // Color especial para lienzo\n                 : (props === null || props === void 0 ? void 0 : (_props_properties2 = props.properties) === null || _props_properties2 === void 0 ? void 0 : _props_properties2.backgroundColor) ? props.properties.backgroundColor : \"white\";\n                // REGLA: Lienzo debe tener zIndex = -1 (debajo de todos excepto cuadernos que tienen zIndex = 1)\n                const containerZIndex = isSpecialLienzo ? -1 : zIndex;\n                const finalContainerContent = containerContent || {\n                    title: \"Nuevo Contenedor\",\n                    elementIds: [],\n                    layout: \"single\"\n                };\n                newElementData = {\n                    type: \"container\",\n                    x: containerPos.x,\n                    y: containerPos.y,\n                    width: typeof finalContainerSize.width === \"number\" ? finalContainerSize.width : 378,\n                    height: typeof finalContainerSize.height === \"number\" ? finalContainerSize.height : 567,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: containerPos,\n                        size: finalContainerSize,\n                        backgroundColor: containerBackgroundColor,\n                        zIndex: containerZIndex\n                    },\n                    content: finalContainerContent,\n                    zIndex: containerZIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"comment\":\n                const commentSize = {\n                    width: 32,\n                    height: 32\n                };\n                const commentPos = getCenteredPosition(commentSize.width, commentSize.height);\n                newElementData = {\n                    type,\n                    x: commentPos.x,\n                    y: commentPos.y,\n                    width: commentSize.width,\n                    height: commentSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: commentPos,\n                        size: commentSize\n                    },\n                    content: (props === null || props === void 0 ? void 0 : props.content) || {\n                        title: \"\",\n                        label: \"\",\n                        comment: \"\"\n                    },\n                    parentId: (props === null || props === void 0 ? void 0 : props.parentId) || undefined,\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"moodboard\":\n                const moodboardSize = {\n                    width: 600,\n                    height: 500\n                };\n                const moodboardPos = getCenteredPosition(moodboardSize.width, moodboardSize.height);\n                newElementData = {\n                    type,\n                    x: moodboardPos.x,\n                    y: moodboardPos.y,\n                    width: moodboardSize.width,\n                    height: moodboardSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: moodboardPos,\n                        size: moodboardSize,\n                        backgroundColor: \"#ffffff\"\n                    },\n                    content: (props === null || props === void 0 ? void 0 : props.content) || {\n                        title: \"Nuevo Moodboard\",\n                        images: [],\n                        annotations: [],\n                        layout: \"grid\"\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"tabbed-notepad\":\n                const tabbedSize = {\n                    width: 500,\n                    height: 400\n                };\n                const tabbedPos = getCenteredPosition(tabbedSize.width, tabbedSize.height);\n                newElementData = {\n                    type,\n                    x: tabbedPos.x,\n                    y: tabbedPos.y,\n                    width: tabbedSize.width,\n                    height: tabbedSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: tabbedPos,\n                        size: tabbedSize,\n                        backgroundColor: \"#ffffff\"\n                    },\n                    content: (props === null || props === void 0 ? void 0 : props.content) || {\n                        title: \"Bloc de Notas\",\n                        tabs: [\n                            {\n                                id: \"tab-1\",\n                                title: \"Pesta\\xf1a 1\",\n                                content: \"\"\n                            }\n                        ],\n                        activeTabId: \"tab-1\"\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"accordion\":\n                const accordionSize = {\n                    width: 320,\n                    height: 240\n                }; // 20% más pequeño que 400x300\n                const accordionPos = getCenteredPosition(accordionSize.width, accordionSize.height);\n                newElementData = {\n                    type,\n                    x: accordionPos.x,\n                    y: accordionPos.y,\n                    width: accordionSize.width,\n                    height: accordionSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: accordionPos,\n                        size: accordionSize,\n                        backgroundColor: \"#ffffff\"\n                    },\n                    content: (props === null || props === void 0 ? void 0 : props.content) || {\n                        items: [\n                            {\n                                id: \"1\",\n                                title: \"Nuevo Item\",\n                                content: \"\"\n                            }\n                        ]\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"stopwatch\":\n                const stopwatchSize = {\n                    width: 200,\n                    height: 120\n                };\n                const stopwatchPos = getCenteredPosition(stopwatchSize.width, stopwatchSize.height);\n                newElementData = {\n                    type: \"stopwatch\",\n                    x: stopwatchPos.x,\n                    y: stopwatchPos.y,\n                    width: stopwatchSize.width,\n                    height: stopwatchSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: stopwatchPos,\n                        size: stopwatchSize,\n                        backgroundColor: \"#000000\"\n                    },\n                    content: {\n                        time: 0,\n                        isRunning: false\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"countdown\":\n                const countdownSize = {\n                    width: 200,\n                    height: 180\n                };\n                const countdownPos = getCenteredPosition(countdownSize.width, countdownSize.height);\n                newElementData = {\n                    type: \"countdown\",\n                    x: countdownPos.x,\n                    y: countdownPos.y,\n                    width: countdownSize.width,\n                    height: countdownSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: countdownPos,\n                        size: countdownSize,\n                        backgroundColor: \"#000000\"\n                    },\n                    content: {\n                        timeLeft: 0,\n                        selectedMinutes: 5,\n                        isRunning: false\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"highlight-text\":\n                var _props_properties3;\n                const highlightSize = {\n                    width: 300,\n                    height: 150\n                };\n                const highlightPos = getCenteredPosition(highlightSize.width, highlightSize.height);\n                const highlightColor = (props === null || props === void 0 ? void 0 : (_props_properties3 = props.properties) === null || _props_properties3 === void 0 ? void 0 : _props_properties3.backgroundColor) ? props.properties.backgroundColor : \"#fffb8b\";\n                newElementData = {\n                    type: \"highlight-text\",\n                    x: highlightPos.x,\n                    y: highlightPos.y,\n                    width: highlightSize.width,\n                    height: highlightSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: highlightPos,\n                        size: highlightSize,\n                        backgroundColor: highlightColor\n                    },\n                    content: {\n                        text: \"\"\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            case \"yellow-notepad\":\n                // Tamaño basado en las imágenes: aproximadamente 400x600px (portrait)\n                const yellowNotepadSize = {\n                    width: 400,\n                    height: 600\n                };\n                const yellowNotepadPos = getCenteredPosition(yellowNotepadSize.width, yellowNotepadSize.height);\n                newElementData = {\n                    type,\n                    x: yellowNotepadPos.x,\n                    y: yellowNotepadPos.y,\n                    width: yellowNotepadSize.width,\n                    height: yellowNotepadSize.height,\n                    userId: user.uid,\n                    properties: {\n                        ...baseProperties,\n                        position: yellowNotepadPos,\n                        size: yellowNotepadSize,\n                        backgroundColor: \"#FFFFE0\"\n                    },\n                    content: (props === null || props === void 0 ? void 0 : props.content) || {\n                        text: \"\",\n                        searchQuery: \"\"\n                    },\n                    zIndex,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n                };\n                break;\n            default:\n                return Promise.reject(new Error(\"Tipo de elemento inv\\xe1lido: \".concat(type)));\n        }\n        const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.addDoc)(elementsRef, newElementData);\n        return docRef.id;\n    }, [\n        firestore,\n        user,\n        boardId\n    ]); // ✅ Removido getNextZIndex y getViewportCenter - usar directamente sin dependencias\n    const updateElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id, updates)=>{\n        if (!firestore || !user || !boardId) return;\n        const elementDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(firestore, \"users\", user.uid, \"canvasBoards\", boardId, \"canvasElements\", id);\n        // Limpiar valores undefined (Firestore no los acepta)\n        const cleanUpdates = {\n            updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n        };\n        Object.keys(updates).forEach((key)=>{\n            const value = updates[key];\n            if (value !== undefined) {\n                cleanUpdates[key] = value;\n            } else if (key === \"parentId\") {\n                // Si parentId es undefined, usar null para eliminarlo\n                cleanUpdates[key] = null;\n            }\n        });\n        // Actualizar el elemento\n        (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)(elementDocRef, cleanUpdates);\n        // AUTOGUARDADO DEL TABLERO: Actualizar también el tablero con updatedAt\n        // Esto asegura que el tablero refleje siempre la última modificación\n        const boardDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(firestore, \"users\", user.uid, \"canvasBoards\", boardId);\n        (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)(boardDocRef, {\n            updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n        }).catch((err)=>{\n            console.error(\"Error actualizando tablero:\", err);\n        });\n    }, [\n        firestore,\n        user,\n        boardId\n    ]);\n    const deleteElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (id, allElements)=>{\n        if (!firestore || !user || !boardId) return;\n        const elementToDeleteRef = allElements.find((el)=>el.id === id);\n        if (!elementToDeleteRef) return;\n        const elementsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(firestore, \"users\", user.uid, \"canvasBoards\", boardId, \"canvasElements\");\n        const batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.writeBatch)(firestore);\n        const elementDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(elementsRef, id);\n        if (elementToDeleteRef.type === \"container\") {\n            const containerContent = elementToDeleteRef.content;\n            if (containerContent && Array.isArray(containerContent.elementIds)) {\n                containerContent.elementIds.forEach((childId)=>{\n                    const childDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(elementsRef, childId);\n                    batch.delete(childDocRef);\n                });\n            }\n        }\n        batch.delete(elementDocRef);\n        await batch.commit();\n    }, [\n        firestore,\n        user,\n        boardId\n    ]);\n    const unanchorElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (elementId)=>{\n        var _parentProps_position, _parentProps_size, _parentProps_size1, _parentProps_position1;\n        if (!firestore || !user || !boardId) return;\n        const elementsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(firestore, \"users\", user.uid, \"canvasBoards\", boardId, \"canvasElements\");\n        const elementDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(elementsRef, elementId);\n        const elementSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)(elementDocRef);\n        if (!elementSnap.exists()) {\n            toast({\n                variant: \"destructive\",\n                title: \"Error\",\n                description: \"El elemento no existe.\"\n            });\n            return;\n        }\n        const elementData = elementSnap.data();\n        if (!(elementData === null || elementData === void 0 ? void 0 : elementData.parentId)) {\n            toast({\n                variant: \"destructive\",\n                title: \"Error\",\n                description: \"El elemento no est\\xe1 anclado a ning\\xfan contenedor.\"\n            });\n            return;\n        }\n        const element = elementData;\n        const parentId = element.parentId;\n        const parentDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(elementsRef, parentId);\n        const parentSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)(parentDocRef);\n        if (!parentSnap.exists()) {\n            toast({\n                variant: \"destructive\",\n                title: \"Error\",\n                description: \"No se encontr\\xf3 el contenedor padre.\"\n            });\n            return;\n        }\n        const parentElementData = parentSnap.data();\n        if (!parentElementData) {\n            toast({\n                variant: \"destructive\",\n                title: \"Error\",\n                description: \"No se pudo obtener datos del contenedor padre.\"\n            });\n            return;\n        }\n        const parentElement = parentElementData;\n        const parentContent = parentElement === null || parentElement === void 0 ? void 0 : parentElement.content;\n        const parentProps = parentElement === null || parentElement === void 0 ? void 0 : parentElement.properties;\n        // Remove elementId from parent's content\n        const newElementIds = ((parentContent === null || parentContent === void 0 ? void 0 : parentContent.elementIds) || []).filter((id)=>id !== elementId);\n        var _parentProps_position_x;\n        // Calcular nueva posición mejorada: a la derecha del panel con un offset\n        const parentX = (_parentProps_position_x = parentProps === null || parentProps === void 0 ? void 0 : (_parentProps_position = parentProps.position) === null || _parentProps_position === void 0 ? void 0 : _parentProps_position.x) !== null && _parentProps_position_x !== void 0 ? _parentProps_position_x : 0;\n        const parentWidth = typeof (parentProps === null || parentProps === void 0 ? void 0 : (_parentProps_size = parentProps.size) === null || _parentProps_size === void 0 ? void 0 : _parentProps_size.width) === \"number\" ? parentProps.size.width : ((parentProps === null || parentProps === void 0 ? void 0 : (_parentProps_size1 = parentProps.size) === null || _parentProps_size1 === void 0 ? void 0 : _parentProps_size1.width) ? parseFloat(String(parentProps.size.width)) : 300) || 300;\n        var _parentProps_position_y;\n        const parentY = (_parentProps_position_y = parentProps === null || parentProps === void 0 ? void 0 : (_parentProps_position1 = parentProps.position) === null || _parentProps_position1 === void 0 ? void 0 : _parentProps_position1.y) !== null && _parentProps_position_y !== void 0 ? _parentProps_position_y : 0;\n        // Obtener posición original del elemento si existe, o calcular nueva\n        const elementProps = element.properties;\n        const originalPosition = (elementProps === null || elementProps === void 0 ? void 0 : elementProps.position) || {\n            x: element.x || 0,\n            y: element.y || 0\n        };\n        // Si el elemento tenía una posición original válida, intentar restaurarla\n        // Si no, colocar a la derecha del panel\n        const newPosition = originalPosition.x > 0 && originalPosition.y > 0 ? originalPosition // Restaurar posición original\n         : {\n            x: parentX + parentWidth + 20,\n            y: parentY + 50\n        };\n        const batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.writeBatch)(firestore);\n        // Update parent\n        batch.update(parentDocRef, {\n            content: {\n                ...parentContent,\n                elementIds: newElementIds\n            },\n            updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n        });\n        // Update child - restaurar propiedades completas y asegurar visibilidad\n        const safeProperties = elementProps || {};\n        const elementSize = typeof element.width === \"number\" && typeof element.height === \"number\" ? {\n            width: element.width,\n            height: element.height\n        } : safeProperties.size || {\n            width: 200,\n            height: 150\n        };\n        batch.update(elementDocRef, {\n            parentId: null,\n            hidden: false,\n            x: newPosition.x,\n            y: newPosition.y,\n            properties: {\n                ...safeProperties,\n                position: newPosition,\n                size: elementSize\n            },\n            updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n        });\n        try {\n            await batch.commit();\n            toast({\n                title: \"Elemento desanclado\",\n                description: \"El elemento ha sido devuelto al lienzo.\"\n            });\n        } catch (error) {\n            console.error(\"Error al desanclar elemento:\", error);\n            toast({\n                variant: \"destructive\",\n                title: \"Error\",\n                description: \"No se pudo desanclar el elemento.\"\n            });\n        }\n    }, [\n        firestore,\n        user,\n        boardId,\n        toast\n    ]);\n    return {\n        addElement,\n        updateElement,\n        deleteElement,\n        unanchorElement\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2UtZWxlbWVudC1tYW5hZ2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozt1RUFHdUQ7QUFDSztBQVVoQztBQUdpQjtBQUV0QyxTQUFTYSxrQkFBa0JDLE9BQWUsRUFBRUMsaUJBQWlELEVBQUVDLGFBQWlEO0lBQ3JKLE1BQU1DLFlBQVlkLGdFQUFZQTtJQUM5QixNQUFNLEVBQUVlLElBQUksRUFBRSxHQUFHZCwyREFBT0E7SUFDeEIsTUFBTSxFQUFFZSxLQUFLLEVBQUUsR0FBR1AsMERBQVFBO0lBRTFCLHNFQUFzRTtJQUN0RSx1REFBdUQ7SUFDdkQsTUFBTVEsdUJBQXVCbkIsNkNBQU1BLENBQUNjO0lBQ3BDLE1BQU1NLG1CQUFtQnBCLDZDQUFNQSxDQUFDZTtJQUVoQyxpQ0FBaUM7SUFDakNkLGdEQUFTQSxDQUFDO1FBQ1JrQixxQkFBcUJFLE9BQU8sR0FBR1A7UUFDL0JNLGlCQUFpQkMsT0FBTyxHQUFHTjtJQUM3QixHQUFHO1FBQUNEO1FBQW1CQztLQUFjO0lBRXJDLE1BQU1PLGFBQWF2QixrREFBV0EsQ0FBQyxPQUFPd0IsTUFBbUJDO1FBQ3ZELElBQUksQ0FBQ1IsYUFBYSxDQUFDQyxRQUFRLENBQUNKLFNBQVM7WUFDbkMsTUFBTVksV0FBVyxDQUFDVCxZQUFZLG9DQUFpQyxDQUFDQyxPQUFPLDJCQUEyQjtZQUNsRyxPQUFPUyxRQUFRQyxNQUFNLENBQUMsSUFBSUMsTUFBTUg7UUFDbEM7UUFDQSxNQUFNSSxjQUFjekIsOERBQVVBLENBQUNZLFdBQVcsU0FBU0MsS0FBS2EsR0FBRyxFQUFFLGdCQUFnQmpCLFNBQVM7UUFDdEYsSUFBSVUsU0FBUyxhQUFhO1lBQ3hCLE1BQU1RLFNBQVMsTUFBTXRCLDBEQUFNQSxDQUFDb0IsYUFBYTtnQkFDdkNOLE1BQU07Z0JBQ05TLFFBQVFmLEtBQUthLEdBQUc7Z0JBQ2hCRyxZQUFZLENBQUM7Z0JBQ2JDLE9BQU8sRUFBRVYsa0JBQUFBLDRCQUFBQSxNQUFP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QUNWNUksTUFBTStJO1lBQ1I7WUFDQXRKLFdBQVc3QixtRUFBZUE7UUFDOUI7UUFFQSxJQUFJO1lBQ0YsTUFBTWtKLE1BQU1LLE1BQU07WUFDbEI1SSxNQUFNO2dCQUNKb0QsT0FBTztnQkFDUCtGLGFBQWE7WUFDZjtRQUNGLEVBQUUsT0FBT2xCLE9BQU87WUFDZEQsUUFBUUMsS0FBSyxDQUFDLGdDQUFnQ0E7WUFDOUNqSSxNQUFNO2dCQUNKa0osU0FBUztnQkFDVDlGLE9BQU87Z0JBQ1ArRixhQUFhO1lBQ2Y7UUFDRjtJQUNGLEdBQUc7UUFBQ3JKO1FBQVdDO1FBQU1KO1FBQVNLO0tBQU07SUFFcEMsT0FBTztRQUFFSTtRQUFZaUg7UUFBZWE7UUFBZVc7SUFBZ0I7QUFDckUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2hvb2tzL3VzZS1lbGVtZW50LW1hbmFnZXIudHM/YTk4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRmlyZXN0b3JlLCB1c2VVc2VyIH0gZnJvbSAnQC9maXJlYmFzZS9wcm92aWRlcic7XG5pbXBvcnQge1xuICBjb2xsZWN0aW9uLFxuICBkb2MsXG4gIHVwZGF0ZURvYyxcbiAgc2VydmVyVGltZXN0YW1wLFxuICB3cml0ZUJhdGNoLFxuICBhZGREb2MsXG4gIGRlbGV0ZURvYyxcbiAgZ2V0RG9jLFxufSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xuaW1wb3J0IHR5cGUgeyBFbGVtZW50VHlwZSwgQ2FudmFzRWxlbWVudCwgV2l0aElkLCBDYW52YXNFbGVtZW50UHJvcGVydGllcywgQ29udGFpbmVyQ29udGVudCwgU3RpY2t5Q2FudmFzRWxlbWVudCwgRWxlbWVudENvbnRlbnQgfSBmcm9tICdAL2xpYi90eXBlcyc7XG5pbXBvcnQgeyBzdGFydE9mV2VlayB9IGZyb20gJ2RhdGUtZm5zJztcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlRWxlbWVudE1hbmFnZXIoYm9hcmRJZDogc3RyaW5nLCBnZXRWaWV3cG9ydENlbnRlcjogKCkgPT4geyB4OiBudW1iZXIsIHk6IG51bWJlciB9LCBnZXROZXh0WkluZGV4OiAoYmFzZUVsZW1lbnRJZD86IHN0cmluZykgPT4gbnVtYmVyKSB7XG4gIGNvbnN0IGZpcmVzdG9yZSA9IHVzZUZpcmVzdG9yZSgpO1xuICBjb25zdCB7IHVzZXIgfSA9IHVzZVVzZXIoKTtcbiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTtcblxuICAvLyBDUsONVElDTzogVXNhciByZWZzIHBhcmEgZnVuY2lvbmVzIHF1ZSBwdWVkZW4gY2FtYmlhciBmcmVjdWVudGVtZW50ZVxuICAvLyBFc3RvIHByZXZpZW5lIHJlLWNyZWFjaW9uZXMgY29uc3RhbnRlcyBkZSBhZGRFbGVtZW50XG4gIGNvbnN0IGdldFZpZXdwb3J0Q2VudGVyUmVmID0gdXNlUmVmKGdldFZpZXdwb3J0Q2VudGVyKTtcbiAgY29uc3QgZ2V0TmV4dFpJbmRleFJlZiA9IHVzZVJlZihnZXROZXh0WkluZGV4KTtcblxuICAvLyBBY3R1YWxpemFyIHJlZnMgY3VhbmRvIGNhbWJpYW5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBnZXRWaWV3cG9ydENlbnRlclJlZi5jdXJyZW50ID0gZ2V0Vmlld3BvcnRDZW50ZXI7XG4gICAgZ2V0TmV4dFpJbmRleFJlZi5jdXJyZW50ID0gZ2V0TmV4dFpJbmRleDtcbiAgfSwgW2dldFZpZXdwb3J0Q2VudGVyLCBnZXROZXh0WkluZGV4XSk7XG5cbiAgY29uc3QgYWRkRWxlbWVudCA9IHVzZUNhbGxiYWNrKGFzeW5jICh0eXBlOiBFbGVtZW50VHlwZSwgcHJvcHM/OiB7IGNvbG9yPzogc3RyaW5nOyBjb250ZW50PzogRWxlbWVudENvbnRlbnQ7IHByb3BlcnRpZXM/OiBDYW52YXNFbGVtZW50UHJvcGVydGllczsgcGFyZW50SWQ/OiBzdHJpbmc7IHRhZ3M/OiBzdHJpbmdbXSB9KTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcbiAgICBpZiAoIWZpcmVzdG9yZSB8fCAhdXNlciB8fCAhYm9hcmRJZCkge1xuICAgICAgY29uc3QgZXJyb3JNc2cgPSAhZmlyZXN0b3JlID8gJ0ZpcmVzdG9yZSBubyBlc3TDoSBkaXNwb25pYmxlJyA6ICF1c2VyID8gJ1VzdWFyaW8gbm8gYXV0ZW50aWNhZG8nIDogJ0JvYXJkIElEIG5vIHbDoWxpZG8nO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihlcnJvck1zZykpO1xuICAgIH1cbiAgICBjb25zdCBlbGVtZW50c1JlZiA9IGNvbGxlY3Rpb24oZmlyZXN0b3JlLCAndXNlcnMnLCB1c2VyLnVpZCwgJ2NhbnZhc0JvYXJkcycsIGJvYXJkSWQsICdjYW52YXNFbGVtZW50cycpO1xuICAgIGlmICh0eXBlID09PSAnY29ubmVjdG9yJykge1xuICAgICAgY29uc3QgZG9jUmVmID0gYXdhaXQgYWRkRG9jKGVsZW1lbnRzUmVmLCB7XG4gICAgICAgIHR5cGU6ICdjb25uZWN0b3InLFxuICAgICAgICB1c2VySWQ6IHVzZXIudWlkLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgY29udGVudDogcHJvcHM/LmNvbnRlbnQsXG4gICAgICAgIGNyZWF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXG4gICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkb2NSZWYuaWQ7XG4gICAgfVxuXG4gICAgY29uc3QgZGVmYXVsdFBvc2l0aW9uID0gZ2V0Vmlld3BvcnRDZW50ZXJSZWYuY3VycmVudCgpOyAvLyDinIUgVXNhciByZWZcbiAgICBcbiAgICAvLyBSRUdMQTogTG9zIG51ZXZvcyBlbGVtZW50b3MgZGViZW4gYXBhcmVjZXIgZW4gUFJJTUVSQSBDQVBBICh6SW5kZXggbcOheGltbylcbiAgICAvLyBwYXJhIHF1ZSBlbCB1c3VhcmlvIHB1ZWRhIGFycmFzdHJhcmxvcyB5IHJldWJpY2FybG9zIGbDoWNpbG1lbnRlXG4gICAgLy8gRVhDRVBDScOTTiBDUsONVElDQTogTG9zIGNvbnRlbmVkb3JlcyBTSUVNUFJFIGVzdMOhbiBlbiBsYSBwcmltZXJhIGNhcGEgKHpJbmRleCAwKVxuICAgIC8vIGluY2x1c28gYW50ZXMgcXVlIGN1YWRlcm5vcywgcGFyYSBxdWUgcHVlZGFuIHJlY2liaXIgZWxlbWVudG9zIGFycmFzdHJhZG9zXG4gICAgbGV0IHpJbmRleDtcbiAgICBpZiAodHlwZSA9PT0gJ2NvbnRhaW5lcicpIHtcbiAgICAgICAgekluZGV4ID0gMDsgLy8gQ29udGVuZWRvcmVzIHNpZW1wcmUgZW4gcHJpbWVyYSBjYXBhICh6SW5kZXggMClcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUb2RvcyBsb3MgZGVtw6FzIGVsZW1lbnRvcyBudWV2b3MgdmFuIGEgbGEgUFJJTUVSQSBDQVBBICh6SW5kZXggbcOheGltbyArIDEpXG4gICAgICAgIHpJbmRleCA9IGdldE5leHRaSW5kZXhSZWYuY3VycmVudCgpOyAvLyDinIUgVXNhciByZWZcbiAgICB9XG5cbiAgICAvLyBSRUdMQSAjMTogTG9zIGVsZW1lbnRvcyBzZSBhYnJlbiBjZW50cmFkb3MgZW4gZWwgdmlld3BvcnQgZGVsIHVzdWFyaW9cbiAgICAvLyBTaSBubyBzZSBwcm9wb3JjaW9uYSB1bmEgcG9zaWNpw7NuIGVzcGVjw61maWNhLCB1c2FyIGVsIGNlbnRybyBkZWwgdmlld3BvcnRcbiAgICAvLyBJTVBPUlRBTlRFOiBWZXJpZmljYXIgcXVlIHByb3BzIGV4aXN0ZSBhbnRlcyBkZSBhY2NlZGVyIGEgcHJvcGVydGllc1xuICAgIGNvbnN0IHZpZXdwb3J0Q2VudGVyID0gKHByb3BzICYmIHByb3BzLnByb3BlcnRpZXMgJiYgcHJvcHMucHJvcGVydGllcy5wb3NpdGlvbikgXG4gICAgICA/IHByb3BzLnByb3BlcnRpZXMucG9zaXRpb24gXG4gICAgICA6IGRlZmF1bHRQb3NpdGlvbjtcbiAgICBjb25zdCBiYXNlU2l6ZSA9IChwcm9wcyAmJiBwcm9wcy5wcm9wZXJ0aWVzICYmIHByb3BzLnByb3BlcnRpZXMuc2l6ZSlcbiAgICAgID8gcHJvcHMucHJvcGVydGllcy5zaXplXG4gICAgICA6IHsgd2lkdGg6IDIwMCwgaGVpZ2h0OiAxNTAgfTtcbiAgICBjb25zdCBzaXplV2lkdGggPSB0eXBlb2YgYmFzZVNpemUud2lkdGggPT09ICdudW1iZXInID8gYmFzZVNpemUud2lkdGggOiAyMDA7XG4gICAgY29uc3Qgc2l6ZUhlaWdodCA9IHR5cGVvZiBiYXNlU2l6ZS5oZWlnaHQgPT09ICdudW1iZXInID8gYmFzZVNpemUuaGVpZ2h0IDogMTUwO1xuXG4gICAgLy8gSGVscGVyOiBDYWxjdWxhIGxhIHBvc2ljacOzbiBwYXJhIGNlbnRyYXIgZWwgZWxlbWVudG8gZW4gZWwgdmlld3BvcnQgVklTSUJMRVxuICAgIC8vIFJFR0xBIENSw41USUNBOiBMb3MgZWxlbWVudG9zIGRlYmVuIGFwYXJlY2VyIGVuIGVsIEVTUEFDSU8gVklTSUJMRSBkZWwgdXN1YXJpb1xuICAgIC8vIEVsIGVsZW1lbnRvIGRlYmUgZXN0YXIgY2VudHJhZG8gZW4gZWwgw6FyZWEgdmlzaWJsZSBkZWwgdGFibGVyb1xuICAgIGNvbnN0IGdldENlbnRlcmVkUG9zaXRpb24gPSAod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcbiAgICAgIC8vIE9idGVuZXIgZWwgY2VudHJvIGRlbCB2aWV3cG9ydCB2aXNpYmxlICh5YSBjYWxjdWxhZG8gY29uIHNjcm9sbCB5IHNjYWxlKVxuICAgICAgY29uc3QgY2VudGVyWCA9IHZpZXdwb3J0Q2VudGVyLng7XG4gICAgICBjb25zdCBjZW50ZXJZID0gdmlld3BvcnRDZW50ZXIueTtcbiAgICAgIFxuICAgICAgLy8gQ2FsY3VsYXIgcG9zaWNpw7NuIGNlbnRyYWRhIGlkZWFsIChjZW50cm8gZGVsIGVsZW1lbnRvID0gY2VudHJvIGRlbCB2aWV3cG9ydCB2aXNpYmxlKVxuICAgICAgbGV0IHggPSBjZW50ZXJYIC0gKHdpZHRoIC8gMik7XG4gICAgICBsZXQgeSA9IGNlbnRlclkgLSAoaGVpZ2h0IC8gMik7XG4gICAgICBcbiAgICAgIC8vIENSw41USUNPOiBBc2VndXJhciBxdWUgZWwgZWxlbWVudG8gYXBhcmV6Y2EgU0lFTVBSRSBlbiBlbCDDoXJlYSB2aXNpYmxlXG4gICAgICAvLyBTaSBlbCBjw6FsY3VsbyBkYSBuZWdhdGl2bywgYWp1c3RhciBwYXJhIHF1ZSBhbCBtZW5vcyBwYXJ0ZSBkZWwgZWxlbWVudG8gc2VhIHZpc2libGVcbiAgICAgIC8vIE3DrW5pbW86IGFzZWd1cmFyIHF1ZSBsYSBlc3F1aW5hIHN1cGVyaW9yIGl6cXVpZXJkYSBlc3TDqSBkZW50cm8gZGVsIHZpZXdwb3J0IHZpc2libGVcbiAgICAgIGNvbnN0IG1pbk9mZnNldCA9IDIwOyAvLyBNYXJnZW4gbcOtbmltbyBkZXNkZSBlbCBib3JkZSB2aXNpYmxlXG4gICAgICBcbiAgICAgIC8vIE9idGVuZXIgZGltZW5zaW9uZXMgZGVsIHZpZXdwb3J0IGVuIGNvb3JkZW5hZGFzIGRlbCBjYW52YXNcbiAgICAgIGNvbnN0IHZpZXdwb3J0V2lkdGggPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5pbm5lcldpZHRoIDogMTkyMDtcbiAgICAgIGNvbnN0IHZpZXdwb3J0SGVpZ2h0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiAxMDgwO1xuICAgICAgXG4gICAgICAvLyBBc2VndXJhciBxdWUgZWwgZWxlbWVudG8gcXVlZGUgZGVudHJvIGRlbCDDoXJlYSB2aXNpYmxlIGRlbCB2aWV3cG9ydFxuICAgICAgLy8gU2kgZWwgZWxlbWVudG8gZXMgbcOhcyBwZXF1ZcOxbyBxdWUgZWwgdmlld3BvcnQsIGNlbnRyYXJsb1xuICAgICAgLy8gU2kgZXMgbcOhcyBncmFuZGUsIGFzZWd1cmFyIHF1ZSBhbCBtZW5vcyBwYXJ0ZSBzZWEgdmlzaWJsZVxuICAgICAgaWYgKHdpZHRoIDw9IHZpZXdwb3J0V2lkdGgpIHtcbiAgICAgICAgLy8gRWxlbWVudG8gY2FiZSBlbiBlbCB2aWV3cG9ydDogY2VudHJhcmxvXG4gICAgICAgIHggPSBNYXRoLm1heChtaW5PZmZzZXQsIE1hdGgubWluKHgsIGNlbnRlclggKyB2aWV3cG9ydFdpZHRoIC8gMiAtIHdpZHRoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBFbGVtZW50byBtw6FzIGdyYW5kZSBxdWUgZWwgdmlld3BvcnQ6IGFsaW5lYXIgcGFyYSBxdWUgc2VhIHZpc2libGUgZGVzZGUgZWwgaW5pY2lvXG4gICAgICAgIHggPSBNYXRoLm1heChtaW5PZmZzZXQsIGNlbnRlclggLSB2aWV3cG9ydFdpZHRoIC8gNCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChoZWlnaHQgPD0gdmlld3BvcnRIZWlnaHQpIHtcbiAgICAgICAgLy8gRWxlbWVudG8gY2FiZSBlbiBlbCB2aWV3cG9ydDogY2VudHJhcmxvXG4gICAgICAgIHkgPSBNYXRoLm1heChtaW5PZmZzZXQsIE1hdGgubWluKHksIGNlbnRlclkgKyB2aWV3cG9ydEhlaWdodCAvIDIgLSBoZWlnaHQpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEVsZW1lbnRvIG3DoXMgZ3JhbmRlIHF1ZSBlbCB2aWV3cG9ydDogYWxpbmVhciBwYXJhIHF1ZSBzZWEgdmlzaWJsZSBkZXNkZSBlbCBpbmljaW9cbiAgICAgICAgeSA9IE1hdGgubWF4KG1pbk9mZnNldCwgY2VudGVyWSAtIHZpZXdwb3J0SGVpZ2h0IC8gNCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFZlcmlmaWNhY2nDs24gZmluYWw6IE5VTkNBIHBlcm1pdGlyIGNvb3JkZW5hZGFzIG5lZ2F0aXZhc1xuICAgICAgcmV0dXJuIHsgXG4gICAgICAgIHg6IE1hdGgubWF4KDAsIHgpLCBcbiAgICAgICAgeTogTWF0aC5tYXgoMCwgeSlcbiAgICAgIH07XG4gICAgfTtcblxuICAgIC8vIENvbnN0cnVpciBiYXNlUHJvcGVydGllcyBkZSBmb3JtYSBzZWd1cmFcbiAgICBjb25zdCBiYXNlUHJvcGVydGllczogUGFydGlhbDxDYW52YXNFbGVtZW50UHJvcGVydGllcz4gPSB7XG4gICAgICBzaXplOiBiYXNlU2l6ZSxcbiAgICAgIHpJbmRleDogekluZGV4LFxuICAgICAgcm90YXRpb246IDAsXG4gICAgfTtcbiAgICBcbiAgICAvLyBBZ3JlZ2FyIHByb3BpZWRhZGVzIGFkaWNpb25hbGVzIGRlIHByb3BzIHNpIGV4aXN0ZW5cbiAgICBpZiAocHJvcHMgJiYgcHJvcHMucHJvcGVydGllcyAmJiB0eXBlb2YgcHJvcHMucHJvcGVydGllcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24oYmFzZVByb3BlcnRpZXMsIHByb3BzLnByb3BlcnRpZXMpO1xuICAgIH1cblxuICAgIGxldCBuZXdFbGVtZW50RGF0YTogT21pdDxXaXRoSWQ8Q2FudmFzRWxlbWVudD4sICdpZCc+ICYgeyB0eXBlOiBFbGVtZW50VHlwZSB9O1xuXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdub3RlcGFkJzpcbiAgICAgICAgY29uc3Qgbm90ZXBhZFNpemUgPSB7IHdpZHRoOiA3OTQsIGhlaWdodDogOTc4IH07XG4gICAgICAgIGNvbnN0IG5vdGVwYWRQb3MgPSBnZXRDZW50ZXJlZFBvc2l0aW9uKG5vdGVwYWRTaXplLndpZHRoLCBub3RlcGFkU2l6ZS5oZWlnaHQpO1xuICAgICAgICBuZXdFbGVtZW50RGF0YSA9IHsgdHlwZSwgeDogbm90ZXBhZFBvcy54LCB5OiBub3RlcGFkUG9zLnksIHdpZHRoOiBub3RlcGFkU2l6ZS53aWR0aCwgaGVpZ2h0OiBub3RlcGFkU2l6ZS5oZWlnaHQsIHVzZXJJZDogdXNlci51aWQsIHByb3BlcnRpZXM6IHsgLi4uYmFzZVByb3BlcnRpZXMsIHBvc2l0aW9uOiBub3RlcGFkUG9zLCBzaXplOiBub3RlcGFkU2l6ZSwgZm9ybWF0OiAnbGV0dGVyJyB9LCBjb250ZW50OiB7IHRpdGxlOiAnTnVldm8gQ3VhZGVybm8nLCBwYWdlczogQXJyYXkoNSkuZmlsbCgnPGRpdj48YnI+PC9kaXY+JyksIGN1cnJlbnRQYWdlOiAwIH0sIHpJbmRleCwgY3JlYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSwgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSB9OyBicmVhaztcbiAgICAgIGNhc2UgJ25vdGVwYWQtc2ltcGxlJzpcbiAgICAgICAgY29uc3Qgbm90ZXBhZFNpbXBsZVNpemUgPSB7IHdpZHRoOiAzMDIsIGhlaWdodDogNDkxIH07XG4gICAgICAgIGNvbnN0IG5vdGVwYWRTaW1wbGVQb3MgPSBnZXRDZW50ZXJlZFBvc2l0aW9uKG5vdGVwYWRTaW1wbGVTaXplLndpZHRoLCBub3RlcGFkU2ltcGxlU2l6ZS5oZWlnaHQpO1xuICAgICAgICBuZXdFbGVtZW50RGF0YSA9IHsgdHlwZSwgeDogbm90ZXBhZFNpbXBsZVBvcy54LCB5OiBub3RlcGFkU2ltcGxlUG9zLnksIHdpZHRoOiBub3RlcGFkU2ltcGxlU2l6ZS53aWR0aCwgaGVpZ2h0OiBub3RlcGFkU2ltcGxlU2l6ZS5oZWlnaHQsIHVzZXJJZDogdXNlci51aWQsIHByb3BlcnRpZXM6IHsgLi4uYmFzZVByb3BlcnRpZXMsIHBvc2l0aW9uOiBub3RlcGFkU2ltcGxlUG9zLCBzaXplOiBub3RlcGFkU2ltcGxlU2l6ZSB9LCBjb250ZW50OiB7IHRpdGxlOiAnTnVldm8gTm90ZXBhZCcsIHRleHQ6ICc8ZGl2Pjxicj48L2Rpdj4nIH0sIHpJbmRleCwgY3JlYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSwgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSB9OyBicmVhaztcbiAgICAgIGNhc2UgJ3N1cGVyLW5vdGVib29rJzpcbiAgICAgICAgLy8gVGFtYcOxbyBleGFjdG86IDIxY20geCAyN2NtICg3OTRweCB4IDEwMjFweCBhIDk2IERQSSlcbiAgICAgICAgY29uc3Qgc3VwZXJOb3RlYm9va1NpemUgPSB7IHdpZHRoOiA3OTQsIGhlaWdodDogMTAyMSB9O1xuICAgICAgICBjb25zdCBzdXBlck5vdGVib29rUG9zID0gZ2V0Q2VudGVyZWRQb3NpdGlvbihzdXBlck5vdGVib29rU2l6ZS53aWR0aCwgc3VwZXJOb3RlYm9va1NpemUuaGVpZ2h0KTtcbiAgICAgICAgbmV3RWxlbWVudERhdGEgPSB7IHR5cGUsIHg6IHN1cGVyTm90ZWJvb2tQb3MueCwgeTogc3VwZXJOb3RlYm9va1Bvcy55LCB3aWR0aDogc3VwZXJOb3RlYm9va1NpemUud2lkdGgsIGhlaWdodDogc3VwZXJOb3RlYm9va1NpemUuaGVpZ2h0LCB1c2VySWQ6IHVzZXIudWlkLCBwcm9wZXJ0aWVzOiB7IC4uLmJhc2VQcm9wZXJ0aWVzLCBwb3NpdGlvbjogc3VwZXJOb3RlYm9va1Bvcywgc2l6ZTogc3VwZXJOb3RlYm9va1NpemUgfSwgY29udGVudDogeyB0aXRsZTogJ1N1cGVyIEN1YWRlcm5vJywgcGFnZXM6IEFycmF5KDUpLmZpbGwoJzxkaXY+PGJyPjwvZGl2PicpLCBjdXJyZW50UGFnZTogMCB9LCB6SW5kZXgsIGNyZWF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCkgfTsgYnJlYWs7XG4gICAgICBjYXNlICdzdGlja3knOlxuICAgICAgICBjb25zdCBzdGlja3lDb2xvciA9IHByb3BzPy5jb2xvciB8fCAneWVsbG93JztcbiAgICAgICAgY29uc3Qgc3RpY2t5U2l6ZSA9IHsgd2lkdGg6IDIyNCwgaGVpZ2h0OiAyMjQgfTtcbiAgICAgICAgY29uc3Qgc3RpY2t5UG9zID0gZ2V0Q2VudGVyZWRQb3NpdGlvbihzdGlja3lTaXplLndpZHRoLCBzdGlja3lTaXplLmhlaWdodCk7XG4gICAgICAgIGNvbnN0IHN0aWNreUVsZW1lbnQ6IE9taXQ8U3RpY2t5Q2FudmFzRWxlbWVudCwgJ2lkJz4gPSB7IFxuICAgICAgICAgIHR5cGU6ICdzdGlja3knLCBcbiAgICAgICAgICB4OiBzdGlja3lQb3MueCwgXG4gICAgICAgICAgeTogc3RpY2t5UG9zLnksIFxuICAgICAgICAgIHdpZHRoOiBzdGlja3lTaXplLndpZHRoLCBcbiAgICAgICAgICBoZWlnaHQ6IHN0aWNreVNpemUuaGVpZ2h0LCBcbiAgICAgICAgICB1c2VySWQ6IHVzZXIudWlkLCBcbiAgICAgICAgICBwcm9wZXJ0aWVzOiB7IC4uLmJhc2VQcm9wZXJ0aWVzLCBwb3NpdGlvbjogc3RpY2t5UG9zLCBzaXplOiBzdGlja3lTaXplLCBjb2xvcjogc3RpY2t5Q29sb3IgfSBhcyBDYW52YXNFbGVtZW50UHJvcGVydGllcywgXG4gICAgICAgICAgY29udGVudDogKHR5cGVvZiBwcm9wcz8uY29udGVudCA9PT0gJ3N0cmluZycgPyBwcm9wcy5jb250ZW50IDogJ0VzY3JpYmUgYWxnby4uLicpLCBcbiAgICAgICAgICB6SW5kZXgsIFxuICAgICAgICAgIGNyZWF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksIFxuICAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXG4gICAgICAgICAgLi4uKHByb3BzPy50YWdzICYmIHsgdGFnczogcHJvcHMudGFncyB9KSxcbiAgICAgICAgfTtcbiAgICAgICAgbmV3RWxlbWVudERhdGEgPSBzdGlja3lFbGVtZW50OyBicmVhaztcbiAgICAgIGNhc2UgJ3RvZG8nOlxuICAgICAgICBjb25zdCB0b2RvU2l6ZSA9IHsgd2lkdGg6IDMwMCwgaGVpZ2h0OiAxNTAgfTtcbiAgICAgICAgY29uc3QgdG9kb1BvcyA9IGdldENlbnRlcmVkUG9zaXRpb24odG9kb1NpemUud2lkdGgsIHRvZG9TaXplLmhlaWdodCk7XG4gICAgICAgIG5ld0VsZW1lbnREYXRhID0geyB0eXBlLCB4OiB0b2RvUG9zLngsIHk6IHRvZG9Qb3MueSwgd2lkdGg6IHRvZG9TaXplLndpZHRoLCBoZWlnaHQ6IHRvZG9TaXplLmhlaWdodCwgdXNlcklkOiB1c2VyLnVpZCwgcHJvcGVydGllczogeyAuLi5iYXNlUHJvcGVydGllcywgcG9zaXRpb246IHRvZG9Qb3MsIHNpemU6IHRvZG9TaXplIH0sIGNvbnRlbnQ6IHByb3BzPy5jb250ZW50IHx8IHsgdGl0bGU6ICdMaXN0YSBkZSBUYXJlYXMnLCBpdGVtczogW10gfSwgekluZGV4LCBjcmVhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLCB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpIH07IGJyZWFrO1xuICAgICAgY2FzZSAnaW1hZ2UnOlxuICAgICAgICBjb25zdCBpbWFnZVBvcyA9IGdldENlbnRlcmVkUG9zaXRpb24oc2l6ZVdpZHRoLCBzaXplSGVpZ2h0KTtcbiAgICAgICAgbmV3RWxlbWVudERhdGEgPSB7IHR5cGUsIHg6IGltYWdlUG9zLngsIHk6IGltYWdlUG9zLnksIHdpZHRoOiBzaXplV2lkdGgsIGhlaWdodDogc2l6ZUhlaWdodCwgdXNlcklkOiB1c2VyLnVpZCwgcHJvcGVydGllczogeyAuLi5iYXNlUHJvcGVydGllcywgcG9zaXRpb246IGltYWdlUG9zLCBzaXplOiB7IHdpZHRoOiBzaXplV2lkdGgsIGhlaWdodDogc2l6ZUhlaWdodCB9IH0sIGNvbnRlbnQ6IHByb3BzPy5jb250ZW50LCB6SW5kZXgsIGNyZWF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCkgfTsgYnJlYWs7XG4gICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgY29uc3QgdGV4dFBvcyA9IGdldENlbnRlcmVkUG9zaXRpb24oc2l6ZVdpZHRoLCBzaXplSGVpZ2h0KTtcbiAgICAgICAgY29uc3QgdGV4dEJnQ29sb3IgPSAocHJvcHM/LnByb3BlcnRpZXMgYXMgQ2FudmFzRWxlbWVudFByb3BlcnRpZXMpPy5iYWNrZ3JvdW5kQ29sb3IgfHwgJyNmZmZmZmYnO1xuICAgICAgICBuZXdFbGVtZW50RGF0YSA9IHsgdHlwZSwgeDogdGV4dFBvcy54LCB5OiB0ZXh0UG9zLnksIHdpZHRoOiBzaXplV2lkdGgsIGhlaWdodDogc2l6ZUhlaWdodCwgdXNlcklkOiB1c2VyLnVpZCwgcHJvcGVydGllczogeyAuLi5iYXNlUHJvcGVydGllcywgcG9zaXRpb246IHRleHRQb3MsIHNpemU6IHsgd2lkdGg6IHNpemVXaWR0aCwgaGVpZ2h0OiBzaXplSGVpZ2h0IH0sIGJhY2tncm91bmRDb2xvcjogdGV4dEJnQ29sb3IgfSwgY29udGVudDogcHJvcHM/LmNvbnRlbnQgfHwgJzxkaXYgc3R5bGU9XCJmb250LXNpemU6IDE4cHg7XCI+RXNjcmliZSBhbGdvLi4uPC9kaXY+JywgY29sb3I6IHByb3BzPy5jb2xvciB8fCAnd2hpdGUnLCB6SW5kZXgsIGNyZWF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCkgfTsgYnJlYWs7XG4gICAgICBjYXNlICdjb250YWluZXInOlxuICAgICAgICAvLyBSRUdMQSBFU1BFQ0lBTDogRWxlbWVudG8gSzg1aEM4TTVzcGZzZ1JJVG5FUVIgKGxpZW56bykgZGViZSBzZXIgNjAlIG3DoXMgcGVxdWXDsW8geSBjb2xvciAjZGFmNGM1XG4gICAgICAgIGNvbnN0IGRlZmF1bHRDb250YWluZXJTaXplID0geyB3aWR0aDogMzc4LCBoZWlnaHQ6IDU2NyB9OyAvLyAxMHgxNSBjbSBlbiBww614ZWxlc1xuICAgICAgICBjb25zdCBjb250YWluZXJTaXplID0gKHByb3BzPy5wcm9wZXJ0aWVzPy5zaXplKSBcbiAgICAgICAgICA/IHByb3BzLnByb3BlcnRpZXMuc2l6ZSBcbiAgICAgICAgICA6IGRlZmF1bHRDb250YWluZXJTaXplO1xuICAgICAgICAvLyBTaSBlcyBlbCBsaWVuem8gZXNwZWNpYWwgKHTDrXR1bG8gXCJMaWVuem9cIiBvIElEIGVzcGVjw61maWNvKSwgcmVkdWNpciBhbmNobyA1MCVcbiAgICAgICAgY29uc3QgY29udGFpbmVyQ29udGVudCA9IHByb3BzPy5jb250ZW50ICYmIHR5cGVvZiBwcm9wcy5jb250ZW50ID09PSAnb2JqZWN0JyAmJiAndGl0bGUnIGluIHByb3BzLmNvbnRlbnQgXG4gICAgICAgICAgPyAocHJvcHMuY29udGVudCBhcyBhbnkpIFxuICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgY29uc3QgaXNTcGVjaWFsTGllbnpvID0gY29udGFpbmVyQ29udGVudD8udGl0bGUgPT09ICdMaWVuem8nIHx8IGNvbnRhaW5lckNvbnRlbnQ/LnRpdGxlID09PSAnbGllbnpvJztcbiAgICAgICAgY29uc3QgZmluYWxDb250YWluZXJTaXplID0gaXNTcGVjaWFsTGllbnpvIFxuICAgICAgICAgID8geyB3aWR0aDogTWF0aC5yb3VuZCgodHlwZW9mIGNvbnRhaW5lclNpemUud2lkdGggPT09ICdudW1iZXInID8gY29udGFpbmVyU2l6ZS53aWR0aCA6IDM3OCkgKiAwLjUpLCBoZWlnaHQ6IHR5cGVvZiBjb250YWluZXJTaXplLmhlaWdodCA9PT0gJ251bWJlcicgPyBjb250YWluZXJTaXplLmhlaWdodCA6IDU2NyB9XG4gICAgICAgICAgOiBjb250YWluZXJTaXplO1xuICAgICAgICBjb25zdCBjb250YWluZXJQb3MgPSBnZXRDZW50ZXJlZFBvc2l0aW9uKHR5cGVvZiBmaW5hbENvbnRhaW5lclNpemUud2lkdGggPT09ICdudW1iZXInID8gZmluYWxDb250YWluZXJTaXplLndpZHRoIDogMzc4LCB0eXBlb2YgZmluYWxDb250YWluZXJTaXplLmhlaWdodCA9PT0gJ251bWJlcicgPyBmaW5hbENvbnRhaW5lclNpemUuaGVpZ2h0IDogNTY3KTtcbiAgICAgICAgY29uc3QgY29udGFpbmVyQmFja2dyb3VuZENvbG9yID0gaXNTcGVjaWFsTGllbnpvXG4gICAgICAgICAgPyAnI2RhZjRjNScgLy8gQ29sb3IgZXNwZWNpYWwgcGFyYSBsaWVuem9cbiAgICAgICAgICA6ICgocHJvcHM/LnByb3BlcnRpZXM/LmJhY2tncm91bmRDb2xvcikgXG4gICAgICAgICAgICA/IHByb3BzLnByb3BlcnRpZXMuYmFja2dyb3VuZENvbG9yIFxuICAgICAgICAgICAgOiAnd2hpdGUnKTtcbiAgICAgICAgLy8gUkVHTEE6IExpZW56byBkZWJlIHRlbmVyIHpJbmRleCA9IC0xIChkZWJham8gZGUgdG9kb3MgZXhjZXB0byBjdWFkZXJub3MgcXVlIHRpZW5lbiB6SW5kZXggPSAxKVxuICAgICAgICBjb25zdCBjb250YWluZXJaSW5kZXggPSBpc1NwZWNpYWxMaWVuem8gPyAtMSA6IHpJbmRleDtcbiAgICAgICAgY29uc3QgZmluYWxDb250YWluZXJDb250ZW50ID0gY29udGFpbmVyQ29udGVudCB8fCB7IHRpdGxlOiAnTnVldm8gQ29udGVuZWRvcicsIGVsZW1lbnRJZHM6IFtdLCBsYXlvdXQ6ICdzaW5nbGUnIH07XG4gICAgICAgIG5ld0VsZW1lbnREYXRhID0geyB0eXBlOiAnY29udGFpbmVyJywgeDogY29udGFpbmVyUG9zLngsIHk6IGNvbnRhaW5lclBvcy55LCB3aWR0aDogdHlwZW9mIGZpbmFsQ29udGFpbmVyU2l6ZS53aWR0aCA9PT0gJ251bWJlcicgPyBmaW5hbENvbnRhaW5lclNpemUud2lkdGggOiAzNzgsIGhlaWdodDogdHlwZW9mIGZpbmFsQ29udGFpbmVyU2l6ZS5oZWlnaHQgPT09ICdudW1iZXInID8gZmluYWxDb250YWluZXJTaXplLmhlaWdodCA6IDU2NywgdXNlcklkOiB1c2VyLnVpZCwgcHJvcGVydGllczogeyAuLi5iYXNlUHJvcGVydGllcywgcG9zaXRpb246IGNvbnRhaW5lclBvcywgc2l6ZTogZmluYWxDb250YWluZXJTaXplLCBiYWNrZ3JvdW5kQ29sb3I6IGNvbnRhaW5lckJhY2tncm91bmRDb2xvciwgekluZGV4OiBjb250YWluZXJaSW5kZXggfSwgY29udGVudDogZmluYWxDb250YWluZXJDb250ZW50LCB6SW5kZXg6IGNvbnRhaW5lclpJbmRleCwgY3JlYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSwgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSB9OyBicmVhaztcbiAgICAgIGNhc2UgJ2NvbW1lbnQnOlxuICAgICAgICBjb25zdCBjb21tZW50U2l6ZSA9IHsgd2lkdGg6IDMyLCBoZWlnaHQ6IDMyIH07XG4gICAgICAgIGNvbnN0IGNvbW1lbnRQb3MgPSBnZXRDZW50ZXJlZFBvc2l0aW9uKGNvbW1lbnRTaXplLndpZHRoLCBjb21tZW50U2l6ZS5oZWlnaHQpO1xuICAgICAgICBuZXdFbGVtZW50RGF0YSA9IHsgdHlwZSwgeDogY29tbWVudFBvcy54LCB5OiBjb21tZW50UG9zLnksIHdpZHRoOiBjb21tZW50U2l6ZS53aWR0aCwgaGVpZ2h0OiBjb21tZW50U2l6ZS5oZWlnaHQsIHVzZXJJZDogdXNlci51aWQsIHByb3BlcnRpZXM6IHsgLi4uYmFzZVByb3BlcnRpZXMsIHBvc2l0aW9uOiBjb21tZW50UG9zLCBzaXplOiBjb21tZW50U2l6ZSB9LCBjb250ZW50OiBwcm9wcz8uY29udGVudCB8fCB7IHRpdGxlOiAnJywgbGFiZWw6ICcnLCBjb21tZW50OiAnJyB9LCBwYXJlbnRJZDogcHJvcHM/LnBhcmVudElkIHx8IHVuZGVmaW5lZCwgekluZGV4LCBjcmVhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLCB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpIH07IGJyZWFrO1xuICAgICAgY2FzZSAnbW9vZGJvYXJkJzpcbiAgICAgICAgY29uc3QgbW9vZGJvYXJkU2l6ZSA9IHsgd2lkdGg6IDYwMCwgaGVpZ2h0OiA1MDAgfTtcbiAgICAgICAgY29uc3QgbW9vZGJvYXJkUG9zID0gZ2V0Q2VudGVyZWRQb3NpdGlvbihtb29kYm9hcmRTaXplLndpZHRoLCBtb29kYm9hcmRTaXplLmhlaWdodCk7XG4gICAgICAgIG5ld0VsZW1lbnREYXRhID0geyB0eXBlLCB4OiBtb29kYm9hcmRQb3MueCwgeTogbW9vZGJvYXJkUG9zLnksIHdpZHRoOiBtb29kYm9hcmRTaXplLndpZHRoLCBoZWlnaHQ6IG1vb2Rib2FyZFNpemUuaGVpZ2h0LCB1c2VySWQ6IHVzZXIudWlkLCBwcm9wZXJ0aWVzOiB7IC4uLmJhc2VQcm9wZXJ0aWVzLCBwb3NpdGlvbjogbW9vZGJvYXJkUG9zLCBzaXplOiBtb29kYm9hcmRTaXplLCBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyB9LCBjb250ZW50OiBwcm9wcz8uY29udGVudCB8fCB7IHRpdGxlOiAnTnVldm8gTW9vZGJvYXJkJywgaW1hZ2VzOiBbXSwgYW5ub3RhdGlvbnM6IFtdLCBsYXlvdXQ6ICdncmlkJyB9LCB6SW5kZXgsIGNyZWF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCkgfTsgYnJlYWs7XG4gICAgICBjYXNlICd0YWJiZWQtbm90ZXBhZCc6XG4gICAgICAgIGNvbnN0IHRhYmJlZFNpemUgPSB7IHdpZHRoOiA1MDAsIGhlaWdodDogNDAwIH07XG4gICAgICAgIGNvbnN0IHRhYmJlZFBvcyA9IGdldENlbnRlcmVkUG9zaXRpb24odGFiYmVkU2l6ZS53aWR0aCwgdGFiYmVkU2l6ZS5oZWlnaHQpO1xuICAgICAgICBuZXdFbGVtZW50RGF0YSA9IHsgdHlwZSwgeDogdGFiYmVkUG9zLngsIHk6IHRhYmJlZFBvcy55LCB3aWR0aDogdGFiYmVkU2l6ZS53aWR0aCwgaGVpZ2h0OiB0YWJiZWRTaXplLmhlaWdodCwgdXNlcklkOiB1c2VyLnVpZCwgcHJvcGVydGllczogeyAuLi5iYXNlUHJvcGVydGllcywgcG9zaXRpb246IHRhYmJlZFBvcywgc2l6ZTogdGFiYmVkU2l6ZSwgYmFja2dyb3VuZENvbG9yOiAnI2ZmZmZmZicgfSwgY29udGVudDogcHJvcHM/LmNvbnRlbnQgfHwgeyB0aXRsZTogJ0Jsb2MgZGUgTm90YXMnLCB0YWJzOiBbeyBpZDogJ3RhYi0xJywgdGl0bGU6ICdQZXN0YcOxYSAxJywgY29udGVudDogJycgfV0sIGFjdGl2ZVRhYklkOiAndGFiLTEnIH0sIHpJbmRleCwgY3JlYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSwgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSB9OyBicmVhaztcbiAgICAgIGNhc2UgJ2FjY29yZGlvbic6XG4gICAgICAgIGNvbnN0IGFjY29yZGlvblNpemUgPSB7IHdpZHRoOiAzMjAsIGhlaWdodDogMjQwIH07IC8vIDIwJSBtw6FzIHBlcXVlw7FvIHF1ZSA0MDB4MzAwXG4gICAgICAgIGNvbnN0IGFjY29yZGlvblBvcyA9IGdldENlbnRlcmVkUG9zaXRpb24oYWNjb3JkaW9uU2l6ZS53aWR0aCwgYWNjb3JkaW9uU2l6ZS5oZWlnaHQpO1xuICAgICAgICBuZXdFbGVtZW50RGF0YSA9IHsgdHlwZSwgeDogYWNjb3JkaW9uUG9zLngsIHk6IGFjY29yZGlvblBvcy55LCB3aWR0aDogYWNjb3JkaW9uU2l6ZS53aWR0aCwgaGVpZ2h0OiBhY2NvcmRpb25TaXplLmhlaWdodCwgdXNlcklkOiB1c2VyLnVpZCwgcHJvcGVydGllczogeyAuLi5iYXNlUHJvcGVydGllcywgcG9zaXRpb246IGFjY29yZGlvblBvcywgc2l6ZTogYWNjb3JkaW9uU2l6ZSwgYmFja2dyb3VuZENvbG9yOiAnI2ZmZmZmZicgfSwgY29udGVudDogcHJvcHM/LmNvbnRlbnQgfHwgeyBpdGVtczogW3sgaWQ6ICcxJywgdGl0bGU6ICdOdWV2byBJdGVtJywgY29udGVudDogJycgfV0gfSwgekluZGV4LCBjcmVhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLCB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpIH07IGJyZWFrO1xuICAgICAgY2FzZSAnc3RvcHdhdGNoJzpcbiAgICAgICAgY29uc3Qgc3RvcHdhdGNoU2l6ZSA9IHsgd2lkdGg6IDIwMCwgaGVpZ2h0OiAxMjAgfTtcbiAgICAgICAgY29uc3Qgc3RvcHdhdGNoUG9zID0gZ2V0Q2VudGVyZWRQb3NpdGlvbihzdG9wd2F0Y2hTaXplLndpZHRoLCBzdG9wd2F0Y2hTaXplLmhlaWdodCk7XG4gICAgICAgIG5ld0VsZW1lbnREYXRhID0geyB0eXBlOiAnc3RvcHdhdGNoJyBhcyBFbGVtZW50VHlwZSwgeDogc3RvcHdhdGNoUG9zLngsIHk6IHN0b3B3YXRjaFBvcy55LCB3aWR0aDogc3RvcHdhdGNoU2l6ZS53aWR0aCwgaGVpZ2h0OiBzdG9wd2F0Y2hTaXplLmhlaWdodCwgdXNlcklkOiB1c2VyLnVpZCwgcHJvcGVydGllczogeyAuLi5iYXNlUHJvcGVydGllcywgcG9zaXRpb246IHN0b3B3YXRjaFBvcywgc2l6ZTogc3RvcHdhdGNoU2l6ZSwgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMCcgfSwgY29udGVudDogeyB0aW1lOiAwLCBpc1J1bm5pbmc6IGZhbHNlIH0sIHpJbmRleCwgY3JlYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSwgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSB9IGFzIE9taXQ8V2l0aElkPENhbnZhc0VsZW1lbnQ+LCAnaWQnPiAmIHsgdHlwZTogRWxlbWVudFR5cGUgfTsgYnJlYWs7XG4gICAgICBjYXNlICdjb3VudGRvd24nOlxuICAgICAgICBjb25zdCBjb3VudGRvd25TaXplID0geyB3aWR0aDogMjAwLCBoZWlnaHQ6IDE4MCB9O1xuICAgICAgICBjb25zdCBjb3VudGRvd25Qb3MgPSBnZXRDZW50ZXJlZFBvc2l0aW9uKGNvdW50ZG93blNpemUud2lkdGgsIGNvdW50ZG93blNpemUuaGVpZ2h0KTtcbiAgICAgICAgbmV3RWxlbWVudERhdGEgPSB7IHR5cGU6ICdjb3VudGRvd24nIGFzIEVsZW1lbnRUeXBlLCB4OiBjb3VudGRvd25Qb3MueCwgeTogY291bnRkb3duUG9zLnksIHdpZHRoOiBjb3VudGRvd25TaXplLndpZHRoLCBoZWlnaHQ6IGNvdW50ZG93blNpemUuaGVpZ2h0LCB1c2VySWQ6IHVzZXIudWlkLCBwcm9wZXJ0aWVzOiB7IC4uLmJhc2VQcm9wZXJ0aWVzLCBwb3NpdGlvbjogY291bnRkb3duUG9zLCBzaXplOiBjb3VudGRvd25TaXplLCBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwJyB9LCBjb250ZW50OiB7IHRpbWVMZWZ0OiAwLCBzZWxlY3RlZE1pbnV0ZXM6IDUsIGlzUnVubmluZzogZmFsc2UgfSwgekluZGV4LCBjcmVhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLCB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpIH0gYXMgT21pdDxXaXRoSWQ8Q2FudmFzRWxlbWVudD4sICdpZCc+ICYgeyB0eXBlOiBFbGVtZW50VHlwZSB9OyBicmVhaztcbiAgICAgIGNhc2UgJ2hpZ2hsaWdodC10ZXh0JzpcbiAgICAgICAgY29uc3QgaGlnaGxpZ2h0U2l6ZSA9IHsgd2lkdGg6IDMwMCwgaGVpZ2h0OiAxNTAgfTtcbiAgICAgICAgY29uc3QgaGlnaGxpZ2h0UG9zID0gZ2V0Q2VudGVyZWRQb3NpdGlvbihoaWdobGlnaHRTaXplLndpZHRoLCBoaWdobGlnaHRTaXplLmhlaWdodCk7XG4gICAgICAgIGNvbnN0IGhpZ2hsaWdodENvbG9yID0gKHByb3BzPy5wcm9wZXJ0aWVzPy5iYWNrZ3JvdW5kQ29sb3IpID8gcHJvcHMucHJvcGVydGllcy5iYWNrZ3JvdW5kQ29sb3IgOiAnI2ZmZmI4Yic7XG4gICAgICAgIG5ld0VsZW1lbnREYXRhID0geyB0eXBlOiAnaGlnaGxpZ2h0LXRleHQnIGFzIEVsZW1lbnRUeXBlLCB4OiBoaWdobGlnaHRQb3MueCwgeTogaGlnaGxpZ2h0UG9zLnksIHdpZHRoOiBoaWdobGlnaHRTaXplLndpZHRoLCBoZWlnaHQ6IGhpZ2hsaWdodFNpemUuaGVpZ2h0LCB1c2VySWQ6IHVzZXIudWlkLCBwcm9wZXJ0aWVzOiB7IC4uLmJhc2VQcm9wZXJ0aWVzLCBwb3NpdGlvbjogaGlnaGxpZ2h0UG9zLCBzaXplOiBoaWdobGlnaHRTaXplLCBiYWNrZ3JvdW5kQ29sb3I6IGhpZ2hsaWdodENvbG9yIH0sIGNvbnRlbnQ6IHsgdGV4dDogJycgfSwgekluZGV4LCBjcmVhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLCB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpIH07IGJyZWFrO1xuICAgICAgY2FzZSAneWVsbG93LW5vdGVwYWQnOlxuICAgICAgICAvLyBUYW1hw7FvIGJhc2FkbyBlbiBsYXMgaW3DoWdlbmVzOiBhcHJveGltYWRhbWVudGUgNDAweDYwMHB4IChwb3J0cmFpdClcbiAgICAgICAgY29uc3QgeWVsbG93Tm90ZXBhZFNpemUgPSB7IHdpZHRoOiA0MDAsIGhlaWdodDogNjAwIH07XG4gICAgICAgIGNvbnN0IHllbGxvd05vdGVwYWRQb3MgPSBnZXRDZW50ZXJlZFBvc2l0aW9uKHllbGxvd05vdGVwYWRTaXplLndpZHRoLCB5ZWxsb3dOb3RlcGFkU2l6ZS5oZWlnaHQpO1xuICAgICAgICBuZXdFbGVtZW50RGF0YSA9IHsgdHlwZSwgeDogeWVsbG93Tm90ZXBhZFBvcy54LCB5OiB5ZWxsb3dOb3RlcGFkUG9zLnksIHdpZHRoOiB5ZWxsb3dOb3RlcGFkU2l6ZS53aWR0aCwgaGVpZ2h0OiB5ZWxsb3dOb3RlcGFkU2l6ZS5oZWlnaHQsIHVzZXJJZDogdXNlci51aWQsIHByb3BlcnRpZXM6IHsgLi4uYmFzZVByb3BlcnRpZXMsIHBvc2l0aW9uOiB5ZWxsb3dOb3RlcGFkUG9zLCBzaXplOiB5ZWxsb3dOb3RlcGFkU2l6ZSwgYmFja2dyb3VuZENvbG9yOiAnI0ZGRkZFMCcgfSwgY29udGVudDogcHJvcHM/LmNvbnRlbnQgfHwgeyB0ZXh0OiAnJywgc2VhcmNoUXVlcnk6ICcnIH0sIHpJbmRleCwgY3JlYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSwgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSB9OyBicmVhaztcbiAgICAgIGRlZmF1bHQ6IHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYFRpcG8gZGUgZWxlbWVudG8gaW52w6FsaWRvOiAke3R5cGV9YCkpO1xuICAgIH1cbiAgXG4gICAgY29uc3QgZG9jUmVmID0gYXdhaXQgYWRkRG9jKGVsZW1lbnRzUmVmLCBuZXdFbGVtZW50RGF0YSk7XG4gICAgcmV0dXJuIGRvY1JlZi5pZDtcbiAgfSwgW2ZpcmVzdG9yZSwgdXNlciwgYm9hcmRJZF0pOyAvLyDinIUgUmVtb3ZpZG8gZ2V0TmV4dFpJbmRleCB5IGdldFZpZXdwb3J0Q2VudGVyIC0gdXNhciBkaXJlY3RhbWVudGUgc2luIGRlcGVuZGVuY2lhc1xuXG4gIGNvbnN0IHVwZGF0ZUVsZW1lbnQgPSB1c2VDYWxsYmFjaygoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxDYW52YXNFbGVtZW50PikgPT4ge1xuICAgIGlmICghZmlyZXN0b3JlIHx8ICF1c2VyIHx8ICFib2FyZElkKSByZXR1cm47XG4gICAgY29uc3QgZWxlbWVudERvY1JlZiA9IGRvYyhmaXJlc3RvcmUsICd1c2VycycsIHVzZXIudWlkLCAnY2FudmFzQm9hcmRzJywgYm9hcmRJZCwgJ2NhbnZhc0VsZW1lbnRzJywgaWQpO1xuICAgIFxuICAgIC8vIExpbXBpYXIgdmFsb3JlcyB1bmRlZmluZWQgKEZpcmVzdG9yZSBubyBsb3MgYWNlcHRhKVxuICAgIGNvbnN0IGNsZWFuVXBkYXRlczogYW55ID0geyB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpIH07XG4gICAgT2JqZWN0LmtleXModXBkYXRlcykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSAodXBkYXRlcyBhcyBhbnkpW2tleV07XG4gICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjbGVhblVwZGF0ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdwYXJlbnRJZCcpIHtcbiAgICAgICAgLy8gU2kgcGFyZW50SWQgZXMgdW5kZWZpbmVkLCB1c2FyIG51bGwgcGFyYSBlbGltaW5hcmxvXG4gICAgICAgIGNsZWFuVXBkYXRlc1trZXldID0gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBBY3R1YWxpemFyIGVsIGVsZW1lbnRvXG4gICAgdXBkYXRlRG9jKGVsZW1lbnREb2NSZWYsIGNsZWFuVXBkYXRlcyk7XG4gICAgXG4gICAgLy8gQVVUT0dVQVJEQURPIERFTCBUQUJMRVJPOiBBY3R1YWxpemFyIHRhbWJpw6luIGVsIHRhYmxlcm8gY29uIHVwZGF0ZWRBdFxuICAgIC8vIEVzdG8gYXNlZ3VyYSBxdWUgZWwgdGFibGVybyByZWZsZWplIHNpZW1wcmUgbGEgw7psdGltYSBtb2RpZmljYWNpw7NuXG4gICAgY29uc3QgYm9hcmREb2NSZWYgPSBkb2MoZmlyZXN0b3JlLCAndXNlcnMnLCB1c2VyLnVpZCwgJ2NhbnZhc0JvYXJkcycsIGJvYXJkSWQpO1xuICAgIHVwZGF0ZURvYyhib2FyZERvY1JlZiwgeyB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhY3R1YWxpemFuZG8gdGFibGVybzonLCBlcnIpO1xuICAgIH0pO1xuICB9LCBbZmlyZXN0b3JlLCB1c2VyLCBib2FyZElkXSk7XG5cbiAgY29uc3QgZGVsZXRlRWxlbWVudCA9IHVzZUNhbGxiYWNrKGFzeW5jIChpZDogc3RyaW5nLCBhbGxFbGVtZW50czogV2l0aElkPENhbnZhc0VsZW1lbnQ+W10pID0+IHtcbiAgICBpZiAoIWZpcmVzdG9yZSB8fCAhdXNlciB8fCAhYm9hcmRJZCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGVsZW1lbnRUb0RlbGV0ZVJlZiA9IGFsbEVsZW1lbnRzLmZpbmQoZWwgPT4gZWwuaWQgPT09IGlkKTtcbiAgICBpZiAoIWVsZW1lbnRUb0RlbGV0ZVJlZikgcmV0dXJuO1xuXG4gICAgY29uc3QgZWxlbWVudHNSZWYgPSBjb2xsZWN0aW9uKGZpcmVzdG9yZSwgJ3VzZXJzJywgdXNlci51aWQsICdjYW52YXNCb2FyZHMnLCBib2FyZElkLCAnY2FudmFzRWxlbWVudHMnKTtcbiAgICBjb25zdCBiYXRjaCA9IHdyaXRlQmF0Y2goZmlyZXN0b3JlKTtcbiAgICBjb25zdCBlbGVtZW50RG9jUmVmID0gZG9jKGVsZW1lbnRzUmVmLCBpZCk7XG5cbiAgICBpZiAoZWxlbWVudFRvRGVsZXRlUmVmLnR5cGUgPT09ICdjb250YWluZXInKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lckNvbnRlbnQgPSBlbGVtZW50VG9EZWxldGVSZWYuY29udGVudCBhcyBDb250YWluZXJDb250ZW50O1xuICAgICAgICBpZiAoY29udGFpbmVyQ29udGVudCAmJiBBcnJheS5pc0FycmF5KGNvbnRhaW5lckNvbnRlbnQuZWxlbWVudElkcykpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lckNvbnRlbnQuZWxlbWVudElkcy5mb3JFYWNoKChjaGlsZElkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZERvY1JlZiA9IGRvYyhlbGVtZW50c1JlZiwgY2hpbGRJZCk7XG4gICAgICAgICAgICAgICAgYmF0Y2guZGVsZXRlKGNoaWxkRG9jUmVmKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGJhdGNoLmRlbGV0ZShlbGVtZW50RG9jUmVmKTtcblxuICAgIGF3YWl0IGJhdGNoLmNvbW1pdCgpO1xuICB9LCBbZmlyZXN0b3JlLCB1c2VyLCBib2FyZElkXSk7XG5cbiAgY29uc3QgdW5hbmNob3JFbGVtZW50ID0gdXNlQ2FsbGJhY2soYXN5bmMgKGVsZW1lbnRJZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFmaXJlc3RvcmUgfHwgIXVzZXIgfHwgIWJvYXJkSWQpIHJldHVybjtcblxuICAgIGNvbnN0IGVsZW1lbnRzUmVmID0gY29sbGVjdGlvbihmaXJlc3RvcmUsICd1c2VycycsIHVzZXIudWlkLCAnY2FudmFzQm9hcmRzJywgYm9hcmRJZCwgJ2NhbnZhc0VsZW1lbnRzJyk7XG4gICAgY29uc3QgZWxlbWVudERvY1JlZiA9IGRvYyhlbGVtZW50c1JlZiwgZWxlbWVudElkKTtcbiAgICBcbiAgICBjb25zdCBlbGVtZW50U25hcCA9IGF3YWl0IGdldERvYyhlbGVtZW50RG9jUmVmKTtcbiAgICBpZiAoIWVsZW1lbnRTbmFwLmV4aXN0cygpKSB7XG4gICAgICB0b2FzdCh7IFxuICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgICB0aXRsZTogXCJFcnJvclwiLCBcbiAgICAgICAgZGVzY3JpcHRpb246IFwiRWwgZWxlbWVudG8gbm8gZXhpc3RlLlwiIFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGVsZW1lbnREYXRhID0gZWxlbWVudFNuYXAuZGF0YSgpO1xuICAgIGlmICghZWxlbWVudERhdGE/LnBhcmVudElkKSB7XG4gICAgICB0b2FzdCh7IFxuICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgICB0aXRsZTogXCJFcnJvclwiLCBcbiAgICAgICAgZGVzY3JpcHRpb246IFwiRWwgZWxlbWVudG8gbm8gZXN0w6EgYW5jbGFkbyBhIG5pbmfDum4gY29udGVuZWRvci5cIiBcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50RGF0YSBhcyBDYW52YXNFbGVtZW50O1xuICAgIGNvbnN0IHBhcmVudElkID0gZWxlbWVudC5wYXJlbnRJZDtcbiAgICBjb25zdCBwYXJlbnREb2NSZWYgPSBkb2MoZWxlbWVudHNSZWYsIHBhcmVudElkKTtcbiAgICBjb25zdCBwYXJlbnRTbmFwID0gYXdhaXQgZ2V0RG9jKHBhcmVudERvY1JlZik7XG5cbiAgICBpZiAoIXBhcmVudFNuYXAuZXhpc3RzKCkpIHtcbiAgICAgIHRvYXN0KHsgXG4gICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICAgIHRpdGxlOiBcIkVycm9yXCIsIFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJObyBzZSBlbmNvbnRyw7MgZWwgY29udGVuZWRvciBwYWRyZS5cIiBcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcmVudEVsZW1lbnREYXRhID0gcGFyZW50U25hcC5kYXRhKCk7XG4gICAgaWYgKCFwYXJlbnRFbGVtZW50RGF0YSkge1xuICAgICAgdG9hc3QoeyBcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgICAgdGl0bGU6IFwiRXJyb3JcIiwgXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIk5vIHNlIHB1ZG8gb2J0ZW5lciBkYXRvcyBkZWwgY29udGVuZWRvciBwYWRyZS5cIiBcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcmVudEVsZW1lbnQgPSBwYXJlbnRFbGVtZW50RGF0YSBhcyBDYW52YXNFbGVtZW50O1xuICAgIGNvbnN0IHBhcmVudENvbnRlbnQgPSBwYXJlbnRFbGVtZW50Py5jb250ZW50IGFzIENvbnRhaW5lckNvbnRlbnQgfCB1bmRlZmluZWQ7XG4gICAgY29uc3QgcGFyZW50UHJvcHMgPSBwYXJlbnRFbGVtZW50Py5wcm9wZXJ0aWVzIGFzIENhbnZhc0VsZW1lbnRQcm9wZXJ0aWVzIHwgdW5kZWZpbmVkO1xuXG4gICAgLy8gUmVtb3ZlIGVsZW1lbnRJZCBmcm9tIHBhcmVudCdzIGNvbnRlbnRcbiAgICBjb25zdCBuZXdFbGVtZW50SWRzID0gKHBhcmVudENvbnRlbnQ/LmVsZW1lbnRJZHMgfHwgW10pLmZpbHRlcihpZCA9PiBpZCAhPT0gZWxlbWVudElkKTtcblxuICAgIC8vIENhbGN1bGFyIG51ZXZhIHBvc2ljacOzbiBtZWpvcmFkYTogYSBsYSBkZXJlY2hhIGRlbCBwYW5lbCBjb24gdW4gb2Zmc2V0XG4gICAgY29uc3QgcGFyZW50WCA9IHBhcmVudFByb3BzPy5wb3NpdGlvbj8ueCA/PyAwO1xuICAgIGNvbnN0IHBhcmVudFdpZHRoID0gdHlwZW9mIHBhcmVudFByb3BzPy5zaXplPy53aWR0aCA9PT0gJ251bWJlcicgXG4gICAgICA/IHBhcmVudFByb3BzLnNpemUud2lkdGggXG4gICAgICA6IChwYXJlbnRQcm9wcz8uc2l6ZT8ud2lkdGggPyBwYXJzZUZsb2F0KFN0cmluZyhwYXJlbnRQcm9wcy5zaXplLndpZHRoKSkgOiAzMDApIHx8IDMwMDtcbiAgICBjb25zdCBwYXJlbnRZID0gcGFyZW50UHJvcHM/LnBvc2l0aW9uPy55ID8/IDA7XG4gICAgXG4gICAgLy8gT2J0ZW5lciBwb3NpY2nDs24gb3JpZ2luYWwgZGVsIGVsZW1lbnRvIHNpIGV4aXN0ZSwgbyBjYWxjdWxhciBudWV2YVxuICAgIGNvbnN0IGVsZW1lbnRQcm9wcyA9IGVsZW1lbnQucHJvcGVydGllcyBhcyBDYW52YXNFbGVtZW50UHJvcGVydGllcyB8IHVuZGVmaW5lZDtcbiAgICBjb25zdCBvcmlnaW5hbFBvc2l0aW9uID0gZWxlbWVudFByb3BzPy5wb3NpdGlvbiB8fCB7IHg6IGVsZW1lbnQueCB8fCAwLCB5OiBlbGVtZW50LnkgfHwgMCB9O1xuICAgIFxuICAgIC8vIFNpIGVsIGVsZW1lbnRvIHRlbsOtYSB1bmEgcG9zaWNpw7NuIG9yaWdpbmFsIHbDoWxpZGEsIGludGVudGFyIHJlc3RhdXJhcmxhXG4gICAgLy8gU2kgbm8sIGNvbG9jYXIgYSBsYSBkZXJlY2hhIGRlbCBwYW5lbFxuICAgIGNvbnN0IG5ld1Bvc2l0aW9uID0gb3JpZ2luYWxQb3NpdGlvbi54ID4gMCAmJiBvcmlnaW5hbFBvc2l0aW9uLnkgPiAwXG4gICAgICA/IG9yaWdpbmFsUG9zaXRpb24gLy8gUmVzdGF1cmFyIHBvc2ljacOzbiBvcmlnaW5hbFxuICAgICAgOiB7XG4gICAgICAgICAgeDogcGFyZW50WCArIHBhcmVudFdpZHRoICsgMjAsIC8vIEEgbGEgZGVyZWNoYSBkZWwgcGFuZWwgY29uIDIwcHggZGUgbWFyZ2VuXG4gICAgICAgICAgeTogcGFyZW50WSArIDUwLCAvLyBMaWdlcmFtZW50ZSBhYmFqbyBkZWwgcGFuZWxcbiAgICAgICAgfTtcblxuICAgIGNvbnN0IGJhdGNoID0gd3JpdGVCYXRjaChmaXJlc3RvcmUpO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBwYXJlbnRcbiAgICBiYXRjaC51cGRhdGUocGFyZW50RG9jUmVmLCB7IFxuICAgICAgY29udGVudDogeyAuLi5wYXJlbnRDb250ZW50LCBlbGVtZW50SWRzOiBuZXdFbGVtZW50SWRzIH0sXG4gICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxuICAgIH0pO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBjaGlsZCAtIHJlc3RhdXJhciBwcm9waWVkYWRlcyBjb21wbGV0YXMgeSBhc2VndXJhciB2aXNpYmlsaWRhZFxuICAgIGNvbnN0IHNhZmVQcm9wZXJ0aWVzID0gZWxlbWVudFByb3BzIHx8IHt9O1xuICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdHlwZW9mIGVsZW1lbnQud2lkdGggPT09ICdudW1iZXInICYmIHR5cGVvZiBlbGVtZW50LmhlaWdodCA9PT0gJ251bWJlcidcbiAgICAgID8geyB3aWR0aDogZWxlbWVudC53aWR0aCwgaGVpZ2h0OiBlbGVtZW50LmhlaWdodCB9XG4gICAgICA6IChzYWZlUHJvcGVydGllcy5zaXplIHx8IHsgd2lkdGg6IDIwMCwgaGVpZ2h0OiAxNTAgfSk7XG4gICAgXG4gICAgYmF0Y2gudXBkYXRlKGVsZW1lbnREb2NSZWYsIHtcbiAgICAgICAgcGFyZW50SWQ6IG51bGwsXG4gICAgICAgIGhpZGRlbjogZmFsc2UsXG4gICAgICAgIHg6IG5ld1Bvc2l0aW9uLngsXG4gICAgICAgIHk6IG5ld1Bvc2l0aW9uLnksXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAuLi5zYWZlUHJvcGVydGllcyxcbiAgICAgICAgICBwb3NpdGlvbjogbmV3UG9zaXRpb24sXG4gICAgICAgICAgc2l6ZTogZWxlbWVudFNpemUsXG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXG4gICAgfSk7XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgYmF0Y2guY29tbWl0KCk7XG4gICAgICB0b2FzdCh7IFxuICAgICAgICB0aXRsZTogXCJFbGVtZW50byBkZXNhbmNsYWRvXCIsIFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJFbCBlbGVtZW50byBoYSBzaWRvIGRldnVlbHRvIGFsIGxpZW56by5cIiBcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBkZXNhbmNsYXIgZWxlbWVudG86JywgZXJyb3IpO1xuICAgICAgdG9hc3QoeyBcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgICAgdGl0bGU6IFwiRXJyb3JcIiwgXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIk5vIHNlIHB1ZG8gZGVzYW5jbGFyIGVsIGVsZW1lbnRvLlwiIFxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbZmlyZXN0b3JlLCB1c2VyLCBib2FyZElkLCB0b2FzdF0pO1xuXG4gIHJldHVybiB7IGFkZEVsZW1lbnQsIHVwZGF0ZUVsZW1lbnQsIGRlbGV0ZUVsZW1lbnQsIHVuYW5jaG9yRWxlbWVudCB9O1xufVxuIl0sIm5hbWVzIjpbInVzZUNhbGxiYWNrIiwidXNlUmVmIiwidXNlRWZmZWN0IiwidXNlRmlyZXN0b3JlIiwidXNlVXNlciIsImNvbGxlY3Rpb24iLCJkb2MiLCJ1cGRhdGVEb2MiLCJzZXJ2ZXJUaW1lc3RhbXAiLCJ3cml0ZUJhdGNoIiwiYWRkRG9jIiwiZ2V0RG9jIiwidXNlVG9hc3QiLCJ1c2VFbGVtZW50TWFuYWdlciIsImJvYXJkSWQiLCJnZXRWaWV3cG9ydENlbnRlciIsImdldE5leHRaSW5kZXgiLCJmaXJlc3RvcmUiLCJ1c2VyIiwidG9hc3QiLCJnZXRWaWV3cG9ydENlbnRlclJlZiIsImdldE5leHRaSW5kZXhSZWYiLCJjdXJyZW50IiwiYWRkRWxlbWVudCIsInR5cGUiLCJwcm9wcyIsImVycm9yTXNnIiwiUHJvbWlzZSIsInJlamVjdCIsIkVycm9yIiwiZWxlbWVudHNSZWYiLCJ1aWQiLCJkb2NSZWYiLCJ1c2VySWQiLCJwcm9wZXJ0aWVzIiwiY29udGVudCIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsImlkIiwiZGVmYXVsdFBvc2l0aW9uIiwiekluZGV4Iiwidmlld3BvcnRDZW50ZXIiLCJwb3NpdGlvbiIsImJhc2VTaXplIiwic2l6ZSIsIndpZHRoIiwiaGVpZ2h0Iiwic2l6ZVdpZHRoIiwic2l6ZUhlaWdodCIsImdldENlbnRlcmVkUG9zaXRpb24iLCJjZW50ZXJYIiwieCIsImNlbnRlclkiLCJ5IiwibWluT2Zmc2V0Iiwidmlld3BvcnRXaWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJ2aWV3cG9ydEhlaWdodCIsImlubmVySGVpZ2h0IiwiTWF0aCIsIm1heCIsIm1pbiIsImJhc2VQcm9wZXJ0aWVzIiwicm90YXRpb24iLCJPYmplY3QiLCJhc3NpZ24iLCJuZXdFbGVtZW50RGF0YSIsIm5vdGVwYWRTaXplIiwibm90ZXBhZFBvcyIsImZvcm1hdCIsInRpdGxlIiwicGFnZXMiLCJBcnJheSIsImZpbGwiLCJjdXJyZW50UGFnZSIsIm5vdGVwYWRTaW1wbGVTaXplIiwibm90ZXBhZFNpbXBsZVBvcyIsInRleHQiLCJzdXBlck5vdGVib29rU2l6ZSIsInN1cGVyTm90ZWJvb2tQb3MiLCJzdGlja3lDb2xvciIsImNvbG9yIiwic3RpY2t5U2l6ZSIsInN0aWNreVBvcyIsInN0aWNreUVsZW1lbnQiLCJ0YWdzIiwidG9kb1NpemUiLCJ0b2RvUG9zIiwiaXRlbXMiLCJpbWFnZVBvcyIsInRleHRQb3MiLCJ0ZXh0QmdDb2xvciIsImJhY2tncm91bmRDb2xvciIsImRlZmF1bHRDb250YWluZXJTaXplIiwiY29udGFpbmVyU2l6ZSIsImNvbnRhaW5lckNvbnRlbnQiLCJpc1NwZWNpYWxMaWVuem8iLCJmaW5hbENvbnRhaW5lclNpemUiLCJyb3VuZCIsImNvbnRhaW5lclBvcyIsImNvbnRhaW5lckJhY2tncm91bmRDb2xvciIsImNvbnRhaW5lclpJbmRleCIsImZpbmFsQ29udGFpbmVyQ29udGVudCIsImVsZW1lbnRJZHMiLCJsYXlvdXQiLCJjb21tZW50U2l6ZSIsImNvbW1lbnRQb3MiLCJsYWJlbCIsImNvbW1lbnQiLCJwYXJlbnRJZCIsInVuZGVmaW5lZCIsIm1vb2Rib2FyZFNpemUiLCJtb29kYm9hcmRQb3MiLCJpbWFnZXMiLCJhbm5vdGF0aW9ucyIsInRhYmJlZFNpemUiLCJ0YWJiZWRQb3MiLCJ0YWJzIiwiYWN0aXZlVGFiSWQiLCJhY2NvcmRpb25TaXplIiwiYWNjb3JkaW9uUG9zIiwic3RvcHdhdGNoU2l6ZSIsInN0b3B3YXRjaFBvcyIsInRpbWUiLCJpc1J1bm5pbmciLCJjb3VudGRvd25TaXplIiwiY291bnRkb3duUG9zIiwidGltZUxlZnQiLCJzZWxlY3RlZE1pbnV0ZXMiLCJoaWdobGlnaHRTaXplIiwiaGlnaGxpZ2h0UG9zIiwiaGlnaGxpZ2h0Q29sb3IiLCJ5ZWxsb3dOb3RlcGFkU2l6ZSIsInllbGxvd05vdGVwYWRQb3MiLCJzZWFyY2hRdWVyeSIsInVwZGF0ZUVsZW1lbnQiLCJ1cGRhdGVzIiwiZWxlbWVudERvY1JlZiIsImNsZWFuVXBkYXRlcyIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwidmFsdWUiLCJib2FyZERvY1JlZiIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiZGVsZXRlRWxlbWVudCIsImFsbEVsZW1lbnRzIiwiZWxlbWVudFRvRGVsZXRlUmVmIiwiZmluZCIsImVsIiwiYmF0Y2giLCJpc0FycmF5IiwiY2hpbGRJZCIsImNoaWxkRG9jUmVmIiwiZGVsZXRlIiwiY29tbWl0IiwidW5hbmNob3JFbGVtZW50IiwiZWxlbWVudElkIiwicGFyZW50UHJvcHMiLCJlbGVtZW50U25hcCIsImV4aXN0cyIsInZhcmlhbnQiLCJkZXNjcmlwdGlvbiIsImVsZW1lbnREYXRhIiwiZGF0YSIsImVsZW1lbnQiLCJwYXJlbnREb2NSZWYiLCJwYXJlbnRTbmFwIiwicGFyZW50RWxlbWVudERhdGEiLCJwYXJlbnRFbGVtZW50IiwicGFyZW50Q29udGVudCIsIm5ld0VsZW1lbnRJZHMiLCJmaWx0ZXIiLCJwYXJlbnRYIiwicGFyZW50V2lkdGgiLCJwYXJzZUZsb2F0IiwiU3RyaW5nIiwicGFyZW50WSIsImVsZW1lbnRQcm9wcyIsIm9yaWdpbmFsUG9zaXRpb24iLCJuZXdQb3NpdGlvbiIsInVwZGF0ZSIsInNhZmVQcm9wZXJ0aWVzIiwiZWxlbWVudFNpemUiLCJoaWRkZW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/use-element-manager.ts\n"));

/***/ })

});