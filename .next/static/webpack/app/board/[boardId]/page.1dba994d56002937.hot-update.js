"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/board/[boardId]/page",{

/***/ "(app-pages-browser)/./src/app/board/[boardId]/page.tsx":
/*!******************************************!*\
  !*** ./src/app/board/[boardId]/page.tsx ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ BoardPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _firebase_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/firebase/provider */ \"(app-pages-browser)/./src/firebase/provider.tsx\");\n/* harmony import */ var _lib_store_boardStore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/store/boardStore */ \"(app-pages-browser)/./src/lib/store/boardStore.ts\");\n/* harmony import */ var _hooks_use_board_state__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/hooks/use-board-state */ \"(app-pages-browser)/./src/hooks/use-board-state.ts\");\n/* harmony import */ var _hooks_use_element_manager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/hooks/use-element-manager */ \"(app-pages-browser)/./src/hooks/use-element-manager.ts\");\n/* harmony import */ var _hooks_use_media_query__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/hooks/use-media-query */ \"(app-pages-browser)/./src/hooks/use-media-query.ts\");\n/* harmony import */ var _hooks_use_toast__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/hooks/use-toast */ \"(app-pages-browser)/./src/hooks/use-toast.ts\");\n/* harmony import */ var _lib_upload_helper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/lib/upload-helper */ \"(app-pages-browser)/./src/lib/upload-helper.ts\");\n/* harmony import */ var html2canvas__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! html2canvas */ \"(app-pages-browser)/./node_modules/html2canvas/dist/html2canvas.js\");\n/* harmony import */ var html2canvas__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(html2canvas__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _components_canvas_canvas__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/canvas/canvas */ \"(app-pages-browser)/./src/components/canvas/canvas.tsx\");\n/* harmony import */ var _components_canvas_tools_sidebar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/components/canvas/tools-sidebar */ \"(app-pages-browser)/./src/components/canvas/tools-sidebar.tsx\");\n/* harmony import */ var _components_canvas_formatting_toolbar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/components/canvas/formatting-toolbar */ \"(app-pages-browser)/./src/components/canvas/formatting-toolbar.tsx\");\n/* harmony import */ var _components_canvas_elements_add_image_from_url_dialog__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/canvas/elements/add-image-from-url-dialog */ \"(app-pages-browser)/./src/components/canvas/elements/add-image-from-url-dialog.tsx\");\n/* harmony import */ var _components_canvas_change_format_dialog__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/components/canvas/change-format-dialog */ \"(app-pages-browser)/./src/components/canvas/change-format-dialog.tsx\");\n/* harmony import */ var _components_canvas_elements_edit_comment_dialog__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/components/canvas/elements/edit-comment-dialog */ \"(app-pages-browser)/./src/components/canvas/elements/edit-comment-dialog.tsx\");\n/* harmony import */ var _components_canvas_element_info_panel__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/components/canvas/element-info-panel */ \"(app-pages-browser)/./src/components/canvas/element-info-panel.tsx\");\n/* harmony import */ var _components_canvas_rename_board_dialog__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @/components/canvas/rename-board-dialog */ \"(app-pages-browser)/./src/components/canvas/rename-board-dialog.tsx\");\n/* harmony import */ var _hooks_use_dictation__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @/hooks/use-dictation */ \"(app-pages-browser)/./src/hooks/use-dictation.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n// Hooks y Contextos\n\n\n\n\n\n\n// Utilidades y Tipos\n\n\n// Componentes del Canvas\n\n\n\n// Diálogos\n\n\n\n\n\n// Hook de dictado\n\nfunction BoardPage(param) {\n    let { params } = param;\n    _s();\n    const { boardId } = params;\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const { user, isUserLoading: authLoading, userError } = (0,_firebase_provider__WEBPACK_IMPORTED_MODULE_3__.useUser)();\n    const storage = (0,_firebase_provider__WEBPACK_IMPORTED_MODULE_3__.useStorage)();\n    const { toast } = (0,_hooks_use_toast__WEBPACK_IMPORTED_MODULE_8__.useToast)();\n    const isMobile = (0,_hooks_use_media_query__WEBPACK_IMPORTED_MODULE_7__.useMediaQuery)(\"(max-width: 768px)\");\n    // DEBUG: Log inmediato al inicio del componente\n    console.log(\"\\uD83C\\uDFAF [BoardPage] Componente iniciado\", {\n        boardId,\n        hasUser: !!user,\n        userId: user === null || user === void 0 ? void 0 : user.uid,\n        isAnonymous: user === null || user === void 0 ? void 0 : user.isAnonymous,\n        authLoading,\n        pathname:  true ? window.location.pathname : 0\n    });\n    // CRÍTICO: Usar refs para funciones de Zustand y toast para evitar bucles infinitos\n    const loadBoardRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const createBoardRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cleanupRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const toastRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(toast);\n    // Actualizar refs cuando cambian\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        toastRef.current = toast;\n    }, [\n        toast\n    ]);\n    // DEBUG: Log cuando el componente se monta\n    react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(()=>{\n        console.log(\"\\uD83D\\uDE80 [BoardPage] Componente montado\", {\n            boardId\n        });\n    }, [\n        boardId\n    ]);\n    // DEBUG: Log del estado del usuario\n    react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(()=>{\n        console.log(\"\\uD83D\\uDD0D [BoardPage] Estado del usuario:\", {\n            hasUser: !!user,\n            userId: user === null || user === void 0 ? void 0 : user.uid,\n            isUserLoading: authLoading,\n            userError: userError === null || userError === void 0 ? void 0 : userError.message,\n            userEmail: user === null || user === void 0 ? void 0 : user.email,\n            isAnonymous: user === null || user === void 0 ? void 0 : user.isAnonymous,\n            sessionStorage:  true ? {\n                hasRecentLogin: sessionStorage.getItem(\"hasRecentLogin\"),\n                loginTimestamp: sessionStorage.getItem(\"loginTimestamp\"),\n                redirectingToBoard: sessionStorage.getItem(\"redirectingToBoard\")\n            } : 0\n        });\n    }, [\n        user,\n        authLoading,\n        userError\n    ]);\n    // -- ESTADO GLOBAL DEL TABLERO (Zustand) --\n    const { elements, board, loadBoard, createBoard, updateElement, deleteElement, selectedElementIds, setSelectedElementIds, isLoading: isBoardLoading, error, cleanup } = (0,_lib_store_boardStore__WEBPACK_IMPORTED_MODULE_4__.useBoardStore)();\n    // CRÍTICO: Actualizar refs cuando las funciones de Zustand cambian\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        loadBoardRef.current = loadBoard;\n        createBoardRef.current = createBoard;\n        cleanupRef.current = cleanup;\n    }, [\n        loadBoard,\n        createBoard,\n        cleanup\n    ]);\n    // -- ESTADO LOCAL Y HOOKS --\n    // CRÍTICO: useBoardState crea listeners DUPLICADOS de Firebase para elements\n    // Solo usar para boards, handleRenameBoard, handleDeleteBoard, clearCanvas\n    // NO usar elements de useBoardState - usar solo de useBoardStore\n    const { boards, handleRenameBoard, handleDeleteBoard, clearCanvas } = (0,_hooks_use_board_state__WEBPACK_IMPORTED_MODULE_5__.useBoardState)(boardId);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Wrapper functions para coincidir con los tipos esperados\n    const handleRenameBoardWrapper = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setIsRenameBoardDialogOpen(true);\n    }, []);\n    const handleSaveRenameBoard = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((newName)=>{\n        handleRenameBoard(newName);\n        setIsRenameBoardDialogOpen(false);\n    }, [\n        handleRenameBoard\n    ]);\n    const clearCanvasWrapper = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        clearCanvas(elements);\n    }, [\n        elements,\n        clearCanvas\n    ]);\n    // Estados de UI\n    const [isFormatToolbarOpen, setIsFormatToolbarOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isImageUrlDialogOpen, setIsImageUrlDialogOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [changeFormatDialogOpen, setChangeFormatDialogOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isPanningActive, setIsPanningActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isRenameBoardDialogOpen, setIsRenameBoardDialogOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Estados de Selección y Edición\n    const [selectedElement, setSelectedElement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [activatedElementId, setActivatedElementId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedNotepadForFormat, setSelectedNotepadForFormat] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isDirty, setIsDirty] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isEditCommentDialogOpen, setIsEditCommentDialogOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedCommentForEdit, setSelectedCommentForEdit] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Ref para almacenar zIndex original de elementos cuando se editan\n    const originalZIndexRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Map());\n    // Panel de información del elemento (Opción 4: Combinación Panel + Consola)\n    const [isInfoPanelVisible, setIsInfoPanelVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // Oculto por defecto, se muestra al seleccionar elemento\n    // -- DICTADO DE VOZ --\n    // Hook de dictado simplificado según Readme 18 Nov\n    const { isSupported: isDictationSupported, isListening: isDictationListening, transcript, finalTranscript, interimTranscript, permissionError, toggle: toggleDictation } = (0,_hooks_use_dictation__WEBPACK_IMPORTED_MODULE_19__.useDictation)();\n    // liveTranscript combina finalTranscript + interimTranscript para mostrar en tiempo real\n    const liveTranscript = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        // Combinar texto final acumulado con texto provisional\n        const final = finalTranscript || \"\";\n        const interim = interimTranscript || \"\";\n        // Si hay texto provisional, agregarlo al final del texto final\n        if (interim.trim()) {\n            return final + (final ? \" \" : \"\") + interim;\n        }\n        return final;\n    }, [\n        finalTranscript,\n        interimTranscript\n    ]);\n    const handleToggleDictation = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        try {\n            await toggleDictation();\n        } catch (error) {\n            console.error(\"Error al alternar dictado:\", error);\n        }\n    }, [\n        toggleDictation\n    ]);\n    // Mostrar error de permisos al usuario\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (permissionError) {\n            toast({\n                variant: \"destructive\",\n                title: \"Error de Permisos\",\n                description: permissionError,\n                duration: 5000\n            });\n        }\n    }, [\n        permissionError,\n        toast\n    ]);\n    // -- GESTIÓN DE ELEMENTOS --\n    const getViewportCenter = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (canvasRef.current) {\n            const center = canvasRef.current.getViewportCenter();\n            // CRÍTICO: Asegurar que cuando el scroll está en 0,0, los elementos se creen cerca del origen\n            // El viewport center debe ser relativo a la posición visible, no absoluta\n            return center;\n        }\n        // Fallback: retornar centro del viewport visible (no absoluto)\n        if (true) {\n            return {\n                x: window.innerWidth / 2,\n                y: window.innerHeight / 2\n            };\n        }\n        return {\n            x: 40000,\n            y: 40000\n        }; // Fallback para SSR\n    }, []);\n    // CRÍTICO: Usar ref para elements para evitar recreación de función\n    const elementsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(elements);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        elementsRef.current = elements;\n    }, [\n        elements\n    ]);\n    const getNextZIndex = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const currentElements = elementsRef.current;\n        if (!currentElements || currentElements.length === 0) return 1;\n        const zIndexes = currentElements.filter((e)=>typeof e.zIndex === \"number\").map((e)=>e.zIndex);\n        return zIndexes.length > 0 ? Math.max(...zIndexes) + 1 : 2;\n    }, []); // ✅ Sin dependencias - usa ref\n    const { addElement } = (0,_hooks_use_element_manager__WEBPACK_IMPORTED_MODULE_6__.useElementManager)(boardId, getViewportCenter, getNextZIndex);\n    // -- EFECTOS --\n    // Sincronizar selección\n    // CRÍTICO: Optimizado para evitar re-renders constantes cuando elements cambia\n    // Usar useMemo con dependencia correcta del array completo\n    const selectedElementId = selectedElementIds.length === 1 ? selectedElementIds[0] : null;\n    const foundElement = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!selectedElementId || !elements || elements.length === 0) return null;\n        return elements.find((el)=>el.id === selectedElementId) || null;\n    }, [\n        selectedElementId,\n        elements\n    ]); // ✅ Depender del array completo para evitar datos obsoletos\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setSelectedElement(foundElement);\n    }, [\n        foundElement\n    ]);\n    // -- LOGGING EN CONSOLA cuando se selecciona un elemento --\n    // OPTIMIZADO: Solo loggear en desarrollo y con información esencial\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (selectedElement) {\n            // Mostrar panel automáticamente cuando se selecciona un elemento\n            setIsInfoPanelVisible(true);\n            // Solo loggear en desarrollo y de forma optimizada\n            if (true) {\n                var _selectedElement_properties_position, _selectedElement_properties, _selectedElement_properties_position1, _selectedElement_properties1, _selectedElement_properties_size, _selectedElement_properties2, _selectedElement_properties_size1, _selectedElement_properties3;\n                console.log(\"\\uD83D\\uDCCB Elemento seleccionado:\", {\n                    id: selectedElement.id,\n                    type: selectedElement.type,\n                    position: {\n                        x: ((_selectedElement_properties = selectedElement.properties) === null || _selectedElement_properties === void 0 ? void 0 : (_selectedElement_properties_position = _selectedElement_properties.position) === null || _selectedElement_properties_position === void 0 ? void 0 : _selectedElement_properties_position.x) || selectedElement.x || 0,\n                        y: ((_selectedElement_properties1 = selectedElement.properties) === null || _selectedElement_properties1 === void 0 ? void 0 : (_selectedElement_properties_position1 = _selectedElement_properties1.position) === null || _selectedElement_properties_position1 === void 0 ? void 0 : _selectedElement_properties_position1.y) || selectedElement.y || 0\n                    },\n                    size: {\n                        width: ((_selectedElement_properties2 = selectedElement.properties) === null || _selectedElement_properties2 === void 0 ? void 0 : (_selectedElement_properties_size = _selectedElement_properties2.size) === null || _selectedElement_properties_size === void 0 ? void 0 : _selectedElement_properties_size.width) || selectedElement.width || 0,\n                        height: ((_selectedElement_properties3 = selectedElement.properties) === null || _selectedElement_properties3 === void 0 ? void 0 : (_selectedElement_properties_size1 = _selectedElement_properties3.size) === null || _selectedElement_properties_size1 === void 0 ? void 0 : _selectedElement_properties_size1.height) || selectedElement.height || 0\n                    },\n                    zIndex: selectedElement.zIndex,\n                    parentId: selectedElement.parentId\n                });\n                // Log completo solo si está habilitado el debug\n                if (window.DEBUG_ELEMENTS) {\n                    console.log(\"Elemento completo:\", selectedElement);\n                }\n            }\n        } else {\n            // Ocultar panel cuando no hay elemento seleccionado\n            setIsInfoPanelVisible(false);\n        }\n    }, [\n        selectedElement\n    ]);\n    // -- ATAJO DE TECLADO: Ctrl+Shift+D para mostrar/ocultar panel --\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleKeyDown = (e)=>{\n            if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.key === \"D\") {\n                e.preventDefault();\n                setIsInfoPanelVisible((prev)=>!prev);\n            }\n        };\n        window.addEventListener(\"keydown\", handleKeyDown);\n        return ()=>window.removeEventListener(\"keydown\", handleKeyDown);\n    }, []);\n    // CRÍTICO: REFS para prevenir múltiples ejecuciones\n    const hasLoadedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const isLoadingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const waitTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const currentBoardIdRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // CONSOLIDADO: Un solo useEffect para login y carga de tablero\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (false) {}\n        console.log(\"\\uD83D\\uDD04 [BoardPage] useEffect ejecutado\", {\n            boardId,\n            hasUser: !!user,\n            userId: user === null || user === void 0 ? void 0 : user.uid,\n            isAnonymous: user === null || user === void 0 ? void 0 : user.isAnonymous,\n            authLoading,\n            isLoading: isLoadingRef.current,\n            hasLoaded: hasLoadedRef.current,\n            currentBoardId: currentBoardIdRef.current\n        });\n        // Resetear flags si cambió boardId\n        if (currentBoardIdRef.current !== boardId) {\n            console.log(\"\\uD83D\\uDD04 [BoardPage] BoardId cambi\\xf3, reseteando flags\", {\n                old: currentBoardIdRef.current,\n                new: boardId\n            });\n            hasLoadedRef.current = false;\n            isLoadingRef.current = false;\n            currentBoardIdRef.current = boardId;\n        }\n        // Prevenir múltiples ejecuciones\n        if (isLoadingRef.current || authLoading) {\n            console.log(\"⏸️ [BoardPage] Saltando ejecuci\\xf3n (ya cargando o auth cargando)\", {\n                isLoading: isLoadingRef.current,\n                authLoading\n            });\n            return;\n        }\n        // Limpiar timer anterior\n        if (waitTimerRef.current) {\n            clearTimeout(waitTimerRef.current);\n            waitTimerRef.current = null;\n        }\n        // Verificar login reciente (solo en cliente)\n        const hasRecentLogin =  true ? sessionStorage.getItem(\"hasRecentLogin\") === \"true\" : 0;\n        const loginTimestamp =  true ? sessionStorage.getItem(\"loginTimestamp\") : 0;\n        const redirectingToBoard =  true ? sessionStorage.getItem(\"redirectingToBoard\") : 0;\n        const isLoginRecent = hasRecentLogin && loginTimestamp && Date.now() - parseInt(loginTimestamp) < 60000;\n        // Redirigir si no hay usuario y no hay login reciente\n        if (!user && !isLoginRecent) {\n            if (true) {\n                sessionStorage.clear();\n                localStorage.clear();\n                window.location.replace(\"/\");\n            }\n            return;\n        }\n        // Esperar si hay login reciente pero no usuario (CRÍTICO para usuarios anónimos después de redirect)\n        if (isLoginRecent && !user) {\n            const waitTime = redirectingToBoard === boardId ? 30000 : 10000; // Aumentar tiempo de espera\n            console.log(\"⏳ [BoardPage] Esperando usuario despu\\xe9s de login reciente...\", {\n                waitTime,\n                redirectingToBoard,\n                boardId,\n                hasRecentLogin,\n                loginTimestamp\n            });\n            waitTimerRef.current = setTimeout(()=>{\n                if (!user && \"object\" !== \"undefined\") {\n                    console.log(\"⚠️ [BoardPage] Timeout: Usuario no disponible despu\\xe9s de esperar, redirigiendo...\");\n                    sessionStorage.removeItem(\"hasRecentLogin\");\n                    sessionStorage.removeItem(\"loginTimestamp\");\n                    sessionStorage.removeItem(\"redirectingToBoard\");\n                    window.location.replace(\"/\");\n                }\n            }, waitTime);\n            return;\n        }\n        // Cargar/crear tablero (SOLO UNA VEZ)\n        if ((user === null || user === void 0 ? void 0 : user.uid) && !hasLoadedRef.current && loadBoardRef.current && createBoardRef.current) {\n            console.log(\"✅ [BoardPage] Usuario disponible, cargando/creando tablero\", {\n                userId: user.uid,\n                boardId,\n                isAnonymous: user.isAnonymous\n            });\n            hasLoadedRef.current = true;\n            isLoadingRef.current = true;\n            const userId = user.uid;\n            if (boardId === \"new\") {\n                createBoardRef.current(userId).then((newBoardId)=>{\n                    isLoadingRef.current = false;\n                    if (newBoardId && \"object\" !== \"undefined\") {\n                        sessionStorage.setItem(\"hasRecentLogin\", \"true\");\n                        sessionStorage.setItem(\"loginTimestamp\", Date.now().toString());\n                        window.location.href = \"/board/\".concat(newBoardId);\n                    } else {\n                        hasLoadedRef.current = false;\n                    }\n                }).catch((error)=>{\n                    isLoadingRef.current = false;\n                    hasLoadedRef.current = false;\n                    console.error(\"❌ Error al crear tablero:\", error);\n                });\n            } else {\n                loadBoardRef.current(boardId, userId).then((loadedBoardId)=>{\n                    isLoadingRef.current = false;\n                    if (loadedBoardId && \"object\" !== \"undefined\") {\n                        setTimeout(()=>{\n                            sessionStorage.removeItem(\"hasRecentLogin\");\n                            sessionStorage.removeItem(\"loginTimestamp\");\n                            sessionStorage.removeItem(\"redirectingToBoard\");\n                        }, 2000);\n                    } else {\n                        hasLoadedRef.current = false;\n                    }\n                }).catch((error)=>{\n                    isLoadingRef.current = false;\n                    hasLoadedRef.current = false;\n                    console.error(\"❌ Error al cargar tablero:\", error);\n                });\n            }\n        }\n        // Cleanup\n        return ()=>{\n            if (waitTimerRef.current) {\n                clearTimeout(waitTimerRef.current);\n                waitTimerRef.current = null;\n            }\n            if (cleanupRef.current) {\n                cleanupRef.current();\n            }\n        };\n    }, [\n        boardId,\n        user,\n        authLoading\n    ]);\n    // -- HANDLERS DE ACCIÓN --\n    const handleSelectElement = (elementId, isMultiSelect)=>{\n        if (elementId === null) setSelectedElementIds([]);\n        else setSelectedElementIds([\n            elementId\n        ]);\n    };\n    const handleUploadImage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        if (!(user === null || user === void 0 ? void 0 : user.uid)) {\n            toast({\n                title: \"Error\",\n                description: \"Debes iniciar sesi\\xf3n\"\n            });\n            return;\n        }\n        const userId = user.uid; // Guardar en variable local\n        const input = document.createElement(\"input\");\n        input.type = \"file\";\n        input.accept = \"image/*\";\n        input.onchange = async (e)=>{\n            var _e_target_files;\n            const file = (_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0];\n            if (!file) return;\n            try {\n                const uploadResult = await (0,_lib_upload_helper__WEBPACK_IMPORTED_MODULE_9__.uploadFile)(file, userId, storage);\n                if (uploadResult.url) {\n                    await addElement(\"image\", {\n                        content: {\n                            url: uploadResult.url\n                        },\n                        properties: {\n                            size: {\n                                width: 300,\n                                height: 200\n                            }\n                        }\n                    });\n                    toast({\n                        title: \"Imagen subida\"\n                    });\n                }\n            } catch (error) {\n                toast({\n                    variant: \"destructive\",\n                    title: \"Error al subir imagen\"\n                });\n            }\n        };\n        input.click();\n    }, [\n        user,\n        storage,\n        addElement,\n        toast\n    ]);\n    const handleFormatToggle = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>setIsFormatToolbarOpen((prev)=>!prev), []);\n    // Handler para agregar marcador/localizador desde el menú formato\n    const handleAddMarker = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        const viewportCenter = getViewportCenter();\n        try {\n            await addElement(\"comment\", {\n                content: {\n                    title: \"Nuevo Localizador\",\n                    label: \"Localizador\",\n                    text: \"\"\n                },\n                properties: {\n                    position: viewportCenter,\n                    size: {\n                        width: 48,\n                        height: 48\n                    }\n                }\n            });\n            toast({\n                title: \"Localizador creado\",\n                description: \"Se ha marcado una nueva ubicaci\\xf3n en el tablero. Edita el nombre para identificarlo.\"\n            });\n        } catch (error) {\n            toast({\n                variant: \"destructive\",\n                title: \"Error\",\n                description: error.message || \"No se pudo crear el localizador.\"\n            });\n        }\n    }, [\n        getViewportCenter,\n        addElement,\n        toast\n    ]);\n    const handleLocateElement = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        const element = elements.find((el)=>el.id === id);\n        if (element && canvasRef.current) {\n            handleSelectElement(id, false);\n            canvasRef.current.centerOnElement(element);\n        }\n    }, [\n        elements\n    ]);\n    const handleOpenNotepad = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (id)=>{\n        const element = elements.find((el)=>el.id === id);\n        if (!element) return;\n        updateElement(id, {\n            hidden: false\n        });\n        handleSelectElement(id, false);\n        if (canvasRef.current) canvasRef.current.centerOnElement(element);\n    }, [\n        elements,\n        updateElement\n    ]);\n    const handleChangeNotepadFormat = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        const element = elements.find((el)=>el.id === id);\n        if (element) {\n            setSelectedNotepadForFormat(element);\n            setChangeFormatDialogOpen(true);\n        }\n    }, [\n        elements\n    ]);\n    const handleSaveFormat = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id, format)=>{\n        // FIX: Corregir dimensiones - 10x15 significa 10cm ancho x 15cm alto (no 21 alto x 15 ancho)\n        // 10cm = ~378px, 15cm = ~567px (a 96 DPI)\n        const newSize = format === \"letter\" ? {\n            width: 794,\n            height: 1021\n        } // Carta: 8.5\" x 11\"\n         : {\n            width: 378,\n            height: 567\n        }; // 10x15: 10cm ancho x 15cm alto (CORREGIDO)\n        updateElement(id, {\n            width: newSize.width,\n            height: newSize.height,\n            properties: {\n                ...selectedNotepadForFormat === null || selectedNotepadForFormat === void 0 ? void 0 : selectedNotepadForFormat.properties,\n                format,\n                size: newSize\n            }\n        });\n        setChangeFormatDialogOpen(false);\n    }, [\n        selectedNotepadForFormat,\n        updateElement\n    ]);\n    const handleEditComment = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((comment)=>{\n        setSelectedCommentForEdit(comment);\n        setIsEditCommentDialogOpen(true);\n    }, []);\n    // REGLAS Z-INDEX: Cuando se hace click en un elemento, pasa al frente para editarlo\n    // Cuadernos y lienzo siempre están en primera capa (zIndex base alto)\n    // Después de editar, el elemento vuelve a su posición original\n    const handleEditElement = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((elementId)=>{\n        const element = elements.find((el)=>el.id === elementId);\n        if (!element) return;\n        // Tipos que siempre deben estar en primera capa (después del tablero)\n        const firstLayerTypes = [\n            \"notepad\",\n            \"notepad-simple\",\n            \"test-notepad\",\n            \"tabbed-notepad\",\n            \"yellow-notepad\"\n        ];\n        const isFirstLayer = firstLayerTypes.includes(element.type);\n        // Obtener zIndex actual\n        const elementProps = typeof element.properties === \"object\" && element.properties !== null ? element.properties : {};\n        var _elementProps_zIndex, _ref;\n        const currentZIndex = (_ref = (_elementProps_zIndex = elementProps.zIndex) !== null && _elementProps_zIndex !== void 0 ? _elementProps_zIndex : element.zIndex) !== null && _ref !== void 0 ? _ref : 1;\n        // Guardar zIndex original si no está guardado\n        if (!originalZIndexRef.current.has(elementId)) {\n            originalZIndexRef.current.set(elementId, currentZIndex);\n        }\n        // Calcular nuevo zIndex: traer al frente temporalmente\n        const maxZIndex = getNextZIndex();\n        const newZIndex = isFirstLayer ? Math.max(maxZIndex - 100, 1000) // Primera capa: mínimo 1000\n         : maxZIndex; // Otros elementos: máximo disponible\n        // Actualizar zIndex para traer al frente\n        updateElement(elementId, {\n            properties: {\n                ...elementProps,\n                zIndex: newZIndex\n            }\n        });\n        // Activar elemento para edición\n        setActivatedElementId(elementId);\n        // Centrar vista en el elemento si está disponible\n        if (canvasRef.current) {\n            canvasRef.current.centerOnElement(element);\n        }\n    }, [\n        elements,\n        getNextZIndex,\n        updateElement\n    ]);\n    // Restaurar zIndex original cuando se deselecciona un elemento\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!activatedElementId && originalZIndexRef.current.size > 0) {\n            // Restaurar zIndex original de todos los elementos editados\n            originalZIndexRef.current.forEach((originalZIndex, elementId)=>{\n                const element = elements.find((el)=>el.id === elementId);\n                if (element) {\n                    const elementProps = typeof element.properties === \"object\" && element.properties !== null ? element.properties : {};\n                    var _elementProps_zIndex, _ref;\n                    const currentZIndex = (_ref = (_elementProps_zIndex = elementProps.zIndex) !== null && _elementProps_zIndex !== void 0 ? _elementProps_zIndex : element.zIndex) !== null && _ref !== void 0 ? _ref : 1;\n                    // Solo restaurar si el zIndex actual es diferente al original\n                    if (currentZIndex !== originalZIndex) {\n                        updateElement(elementId, {\n                            properties: {\n                                ...elementProps,\n                                zIndex: originalZIndex\n                            }\n                        });\n                    }\n                }\n            });\n            // Limpiar el mapa después de restaurar\n            originalZIndexRef.current.clear();\n        }\n    }, [\n        activatedElementId,\n        elements,\n        updateElement\n    ]);\n    // Función para exportar el tablero completo a PNG de alta resolución\n    const handleExportBoardToPng = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        try {\n            if (!canvasRef.current) {\n                toast({\n                    variant: \"destructive\",\n                    title: \"Error\",\n                    description: \"No se pudo acceder al lienzo.\"\n                });\n                return;\n            }\n            // Obtener el contenedor del canvas\n            const canvasContainer = canvasRef.current.getCanvasContainer();\n            if (!canvasContainer) {\n                toast({\n                    variant: \"destructive\",\n                    title: \"Error\",\n                    description: \"No se pudo encontrar el contenedor del lienzo.\"\n                });\n                return;\n            }\n            toast({\n                title: \"Exportando...\",\n                description: \"Generando imagen PNG de alta resoluci\\xf3n del tablero completo. Esto puede tardar unos segundos...\"\n            });\n            // Ocultar elementos de UI temporalmente para la exportación\n            document.body.classList.add(\"exporting-to-png\");\n            // Capturar SOLO el área visible del usuario (viewport) - Usar misma lógica de alta resolución que cuadernos\n            const scrollLeft = canvasContainer.scrollLeft;\n            const scrollTop = canvasContainer.scrollTop;\n            const viewportWidth = canvasContainer.clientWidth;\n            const viewportHeight = canvasContainer.clientHeight;\n            const scale = 3; // Alta resolución (misma que cuadernos) - captando todos los detalles\n            // Obtener el rectángulo del contenedor para calcular la posición relativa\n            const containerRect = canvasContainer.getBoundingClientRect();\n            const canvas = await html2canvas__WEBPACK_IMPORTED_MODULE_10___default()(canvasContainer, {\n                backgroundColor: \"#96e4e6\",\n                scale: scale,\n                useCORS: true,\n                logging: false,\n                allowTaint: false,\n                scrollX: -scrollLeft,\n                scrollY: -scrollTop,\n                width: viewportWidth,\n                height: viewportHeight,\n                windowWidth: viewportWidth,\n                windowHeight: viewportHeight,\n                x: containerRect.left + scrollLeft,\n                y: containerRect.top + scrollTop\n            });\n            // Restaurar elementos de UI\n            document.body.classList.remove(\"exporting-to-png\");\n            // Convertir canvas a blob y descargar\n            canvas.toBlob((blob)=>{\n                if (!blob) {\n                    toast({\n                        variant: \"destructive\",\n                        title: \"Error\",\n                        description: \"No se pudo generar la imagen.\"\n                    });\n                    return;\n                }\n                // Crear URL temporal y descargar\n                const url = URL.createObjectURL(blob);\n                const link = document.createElement(\"a\");\n                link.href = url;\n                const boardName = (board === null || board === void 0 ? void 0 : board.name) || \"tablero\";\n                link.download = \"\".concat(boardName, \"_\").concat(Date.now(), \".png\");\n                document.body.appendChild(link);\n                link.click();\n                document.body.removeChild(link);\n                URL.revokeObjectURL(url);\n                // Mostrar toast de éxito\n                toast({\n                    title: \"Exportado\",\n                    description: \"El tablero se ha exportado como PNG de alta resoluci\\xf3n.\"\n                });\n            }, \"image/png\", 1.0); // Calidad máxima\n        } catch (error) {\n            document.body.classList.remove(\"exporting-to-png\");\n            console.error(\"Error al exportar tablero:\", error);\n            toast({\n                variant: \"destructive\",\n                title: \"Error\",\n                description: error.message || \"No se pudo exportar el tablero.\"\n            });\n        }\n    }, [\n        canvasRef,\n        board,\n        toast\n    ]);\n    // -- RENDER --\n    // DEBUG: Log del estado antes de cualquier return\n    console.log(\"\\uD83C\\uDFA8 [BoardPage] Render:\", {\n        boardId,\n        hasUser: !!user,\n        userId: user === null || user === void 0 ? void 0 : user.uid,\n        isAnonymous: user === null || user === void 0 ? void 0 : user.isAnonymous,\n        authLoading,\n        isBoardLoading,\n        hasBoard: !!board,\n        sessionStorage:  true ? {\n            hasRecentLogin: sessionStorage.getItem(\"hasRecentLogin\"),\n            loginTimestamp: sessionStorage.getItem(\"loginTimestamp\"),\n            redirectingToBoard: sessionStorage.getItem(\"redirectingToBoard\")\n        } : 0\n    });\n    // Mostrar loading mientras auth está cargando\n    if (authLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex h-screen w-full flex-col items-center justify-center\",\n            style: {\n                backgroundColor: \"#96e4e6\"\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                    className: \"h-8 w-8 animate-spin text-slate-900\"\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n                    lineNumber: 745,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"mt-4 text-lg font-semibold text-slate-900\",\n                    children: \"Verificando autenticaci\\xf3n...\"\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n                    lineNumber: 746,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n            lineNumber: 744,\n            columnNumber: 7\n        }, this);\n    }\n    // Si no hay usuario después de cargar, verificar login reciente antes de redirigir\n    if (!user) {\n        // Verificar si hay login reciente (para usuarios anónimos después de redirect)\n        if (true) {\n            const hasRecentLogin = sessionStorage.getItem(\"hasRecentLogin\") === \"true\";\n            const loginTimestamp = sessionStorage.getItem(\"loginTimestamp\");\n            const redirectingToBoard = sessionStorage.getItem(\"redirectingToBoard\");\n            const isLoginRecent = hasRecentLogin && loginTimestamp && Date.now() - parseInt(loginTimestamp) < 60000;\n            if (isLoginRecent) {\n                // Mostrar loading mientras esperamos que Firebase Auth restaure el usuario anónimo\n                console.log(\"⏳ [BoardPage] Render: Login reciente detectado, esperando usuario...\", {\n                    hasRecentLogin,\n                    loginTimestamp,\n                    redirectingToBoard,\n                    boardId\n                });\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex h-screen w-full flex-col items-center justify-center\",\n                    style: {\n                        backgroundColor: \"#96e4e6\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                            className: \"h-8 w-8 animate-spin text-slate-900\"\n                        }, void 0, false, {\n                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n                            lineNumber: 770,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"mt-4 text-lg font-semibold text-slate-900\",\n                            children: \"Cargando tu tablero...\"\n                        }, void 0, false, {\n                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n                            lineNumber: 771,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n                    lineNumber: 769,\n                    columnNumber: 11\n                }, this);\n            }\n        }\n        // Si no hay login reciente, redirigir\n        console.log(\"⚠️ [BoardPage] Render: No hay usuario y no hay login reciente, redirigiendo...\");\n        if (true) {\n            sessionStorage.clear();\n            localStorage.clear();\n            window.location.replace(\"/\");\n        }\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex h-screen w-full flex-col items-center justify-center\",\n            style: {\n                backgroundColor: \"#cae3e1\"\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                    className: \"h-8 w-8 animate-spin text-slate-900\"\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n                    lineNumber: 786,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"mt-4 text-lg font-semibold text-slate-900\",\n                    children: \"Redirigiendo...\"\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n                    lineNumber: 787,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n            lineNumber: 785,\n            columnNumber: 7\n        }, this);\n    }\n    if (isBoardLoading || boardId === \"new\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex h-screen w-full flex-col items-center justify-center\",\n            style: {\n                backgroundColor: \"#75e8ce\"\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                    className: \"h-8 w-8 animate-spin text-slate-900\"\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n                    lineNumber: 795,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"mt-4 text-lg font-semibold text-slate-900\",\n                    children: \"Cargando tu lienzo...\"\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n                    lineNumber: 796,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n            lineNumber: 794,\n            columnNumber: 7\n        }, this);\n    }\n    if (error) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"p-10 text-red-500\",\n        children: [\n            \"Error: \",\n            error\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n        lineNumber: 801,\n        columnNumber: 21\n    }, this);\n    // Si no hay tablero pero hay usuario, mostrar loading mientras se carga\n    if (!board && user) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex h-screen w-full flex-col items-center justify-center\",\n            style: {\n                backgroundColor: \"#cae3e1\"\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                    className: \"h-8 w-8 animate-spin text-slate-900\"\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n                    lineNumber: 807,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"mt-4 text-lg font-semibold text-slate-900\",\n                    children: \"Cargando tu tablero...\"\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n                    lineNumber: 808,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n            lineNumber: 806,\n            columnNumber: 7\n        }, this);\n    }\n    // Si no hay tablero y no hay usuario, ya se manejó arriba\n    if (!board) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_canvas_rename_board_dialog__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                isOpen: isRenameBoardDialogOpen,\n                onOpenChange: setIsRenameBoardDialogOpen,\n                currentBoardName: (board === null || board === void 0 ? void 0 : board.name) || \"Sin nombre\",\n                onSave: handleSaveRenameBoard\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n                lineNumber: 818,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"h-screen w-screen relative bg-[#3b3b3b] overflow-hidden\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_canvas_canvas__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                        ref: canvasRef,\n                        elements: elements,\n                        board: board,\n                        selectedElementIds: selectedElementIds,\n                        onSelectElement: handleSelectElement,\n                        updateElement: updateElement,\n                        deleteElement: deleteElement,\n                        unanchorElement: (id)=>{\n                            const element = elements.find((el)=>el.id === id);\n                            if (element && element.parentId) {\n                                updateElement(id, {\n                                    parentId: undefined\n                                });\n                            }\n                        },\n                        addElement: addElement,\n                        // Interacciones\n                        onLocateElement: handleLocateElement,\n                        onFormatToggle: handleFormatToggle,\n                        onChangeNotepadFormat: handleChangeNotepadFormat,\n                        onEditElement: handleEditElement,\n                        // Estado\n                        selectedElement: selectedElement,\n                        activatedElementId: activatedElementId,\n                        isMobile: isMobile,\n                        setIsDirty: setIsDirty,\n                        isListening: isDictationListening,\n                        liveTranscript: liveTranscript,\n                        finalTranscript: finalTranscript,\n                        interimTranscript: interimTranscript,\n                        // Placeholders para props requeridas por Canvas antiguo\n                        onBringToFront: ()=>{},\n                        onSendToBack: ()=>{},\n                        onMoveBackward: ()=>{},\n                        onGoToHome: ()=>{\n                            var _canvasRef_current;\n                            return (_canvasRef_current = canvasRef.current) === null || _canvasRef_current === void 0 ? void 0 : _canvasRef_current.goToHome();\n                        },\n                        onCenterView: ()=>{},\n                        onGroupElements: ()=>{},\n                        saveLastView: ()=>{},\n                        onActivateDrag: ()=>{},\n                        onEditComment: handleEditComment,\n                        onDuplicateElement: ()=>{},\n                        onUngroup: ()=>{}\n                    }, void 0, false, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n                        lineNumber: 827,\n                        columnNumber: 7\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_canvas_tools_sidebar__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                        elements: elements || [],\n                        boards: boards || [],\n                        onUploadImage: handleUploadImage,\n                        onAddImageFromUrl: ()=>setIsImageUrlDialogOpen(true),\n                        onPanToggle: ()=>{\n                            var _canvasRef_current;\n                            return (_canvasRef_current = canvasRef.current) === null || _canvasRef_current === void 0 ? void 0 : _canvasRef_current.activatePanMode();\n                        },\n                        onRenameBoard: handleRenameBoardWrapper,\n                        onDeleteBoard: handleDeleteBoard,\n                        isListening: isDictationListening,\n                        onToggleDictation: handleToggleDictation,\n                        onOpenNotepad: handleOpenNotepad,\n                        onLocateElement: handleLocateElement,\n                        addElement: addElement,\n                        clearCanvas: clearCanvasWrapper,\n                        onExportBoardToPng: handleExportBoardToPng,\n                        onFormatToggle: handleFormatToggle,\n                        isFormatToolbarOpen: isFormatToolbarOpen\n                    }, void 0, false, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n                        lineNumber: 874,\n                        columnNumber: 7\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_canvas_formatting_toolbar__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                        isOpen: isFormatToolbarOpen,\n                        onClose: ()=>setIsFormatToolbarOpen(false),\n                        elements: selectedElement ? [\n                            selectedElement\n                        ] : [],\n                        onAddComment: handleAddMarker,\n                        onEditComment: handleEditComment,\n                        isMobileSheet: isMobile,\n                        onLocateElement: handleLocateElement,\n                        onPanToggle: ()=>{\n                            var _canvasRef_current;\n                            setIsPanningActive((prev)=>!prev);\n                            (_canvasRef_current = canvasRef.current) === null || _canvasRef_current === void 0 ? void 0 : _canvasRef_current.activatePanMode();\n                        },\n                        addElement: addElement,\n                        isPanningActive: isPanningActive\n                    }, void 0, false, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n                        lineNumber: 894,\n                        columnNumber: 7\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_canvas_change_format_dialog__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                        isOpen: changeFormatDialogOpen,\n                        onOpenChange: setChangeFormatDialogOpen,\n                        notepad: selectedNotepadForFormat,\n                        onSaveFormat: handleSaveFormat\n                    }, void 0, false, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n                        lineNumber: 911,\n                        columnNumber: 7\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_canvas_elements_add_image_from_url_dialog__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                        isOpen: isImageUrlDialogOpen,\n                        onOpenChange: setIsImageUrlDialogOpen,\n                        onAddImage: async (url)=>{\n                            await addElement(\"image\", {\n                                content: {\n                                    url\n                                },\n                                properties: {\n                                    size: {\n                                        width: 300,\n                                        height: 200\n                                    }\n                                }\n                            });\n                            setIsImageUrlDialogOpen(false);\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n                        lineNumber: 918,\n                        columnNumber: 7\n                    }, this),\n                    selectedCommentForEdit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_canvas_elements_edit_comment_dialog__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                        isOpen: isEditCommentDialogOpen,\n                        onOpenChange: setIsEditCommentDialogOpen,\n                        comment: selectedCommentForEdit,\n                        onUpdate: updateElement,\n                        onDelete: deleteElement\n                    }, void 0, false, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n                        lineNumber: 930,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_canvas_element_info_panel__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                        element: selectedElement,\n                        isVisible: isInfoPanelVisible && !!selectedElement,\n                        onClose: ()=>setIsInfoPanelVisible(false)\n                    }, void 0, false, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n                        lineNumber: 940,\n                        columnNumber: 7\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/app/board/[boardId]/page.tsx\",\n                lineNumber: 824,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n_s(BoardPage, \"zzFkk7oERMBMgcoDhUIUAZpUJa0=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _firebase_provider__WEBPACK_IMPORTED_MODULE_3__.useUser,\n        _firebase_provider__WEBPACK_IMPORTED_MODULE_3__.useStorage,\n        _hooks_use_toast__WEBPACK_IMPORTED_MODULE_8__.useToast,\n        _hooks_use_media_query__WEBPACK_IMPORTED_MODULE_7__.useMediaQuery,\n        _lib_store_boardStore__WEBPACK_IMPORTED_MODULE_4__.useBoardStore,\n        _hooks_use_board_state__WEBPACK_IMPORTED_MODULE_5__.useBoardState,\n        _hooks_use_dictation__WEBPACK_IMPORTED_MODULE_19__.useDictation,\n        _hooks_use_element_manager__WEBPACK_IMPORTED_MODULE_6__.useElementManager\n    ];\n});\n_c = BoardPage;\nvar _c;\n$RefreshReg$(_c, \"BoardPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvYm9hcmQvW2JvYXJkSWRdL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWlGO0FBQ3JDO0FBQ0w7QUFFdkMsb0JBQW9CO0FBQytDO0FBQ1o7QUFDQztBQUNRO0FBQ1I7QUFDWDtBQUU3QyxxQkFBcUI7QUFDNEI7QUFFWDtBQUt0Qyx5QkFBeUI7QUFDdUI7QUFDYTtBQUNVO0FBQ3ZFLFdBQVc7QUFDZ0Y7QUFDakI7QUFDTztBQUNYO0FBQ0U7QUFDeEUsa0JBQWtCO0FBQ21DO0FBUXRDLFNBQVMwQixVQUFVLEtBQTBCO1FBQTFCLEVBQUVDLE1BQU0sRUFBa0IsR0FBMUI7O0lBQ2hDLE1BQU0sRUFBRUMsT0FBTyxFQUFFLEdBQUdEO0lBQ3BCLE1BQU1FLFNBQVN2QiwwREFBU0E7SUFDeEIsTUFBTSxFQUFFd0IsSUFBSSxFQUFFQyxlQUFlQyxXQUFXLEVBQUVDLFNBQVMsRUFBRSxHQUFHekIsMkRBQU9BO0lBQy9ELE1BQU0wQixVQUFVekIsOERBQVVBO0lBQzFCLE1BQU0sRUFBRTBCLEtBQUssRUFBRSxHQUFHckIsMERBQVFBO0lBQzFCLE1BQU1zQixXQUFXdkIscUVBQWFBLENBQUM7SUFFL0IsZ0RBQWdEO0lBQ2hEd0IsUUFBUUMsR0FBRyxDQUFDLGdEQUFzQztRQUNoRFY7UUFDQVcsU0FBUyxDQUFDLENBQUNUO1FBQ1hVLE1BQU0sRUFBRVYsaUJBQUFBLDJCQUFBQSxLQUFNVyxHQUFHO1FBQ2pCQyxXQUFXLEVBQUVaLGlCQUFBQSwyQkFBQUEsS0FBTVksV0FBVztRQUM5QlY7UUFDQVcsVUFBVSxLQUFrQixHQUFjQyxPQUFPQyxRQUFRLENBQUNGLFFBQVEsR0FBRztJQUN2RTtJQUVBLG9GQUFvRjtJQUNwRixNQUFNRyxlQUFlNUMsNkNBQU1BLENBQU07SUFDakMsTUFBTTZDLGlCQUFpQjdDLDZDQUFNQSxDQUFNO0lBQ25DLE1BQU04QyxhQUFhOUMsNkNBQU1BLENB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O3dCQUNqQmtRLFFBQVFsTTt3QkFDUm1NLGNBQWNsTTt3QkFDZHFPLFNBQVM3Tjt3QkFDVDhOLGNBQWNqRzs7Ozs7O2tDQUdoQiw4REFBQ3ZNLDhGQUFxQkE7d0JBQ3BCbVEsUUFBUXBNO3dCQUNScU0sY0FBY3BNO3dCQUNkeU8sWUFBWSxPQUFPaEg7NEJBQ2pCLE1BQU0vRCxXQUFXLFNBQVM7Z0NBQUVnRSxTQUFTO29DQUFFRDtnQ0FBSTtnQ0FBR3RELFlBQVk7b0NBQUVDLE1BQU07d0NBQUVDLE9BQU87d0NBQUtDLFFBQVE7b0NBQUk7Z0NBQUU7NEJBQUU7NEJBQ2hHdEUsd0JBQXdCO3dCQUMxQjs7Ozs7O29CQUtEZ0Isd0NBQ0MsOERBQUM5RSx3RkFBaUJBO3dCQUNoQmlRLFFBQVFyTDt3QkFDUnNMLGNBQWNyTDt3QkFDZDRILFNBQVMzSDt3QkFDVDBOLFVBQVUvUDt3QkFDVmdRLFVBQVUvUDs7Ozs7O2tDQUtkLDhEQUFDekMsOEVBQWdCQTt3QkFDZitMLFNBQVM1SDt3QkFDVHNPLFdBQVd4TixzQkFBc0IsQ0FBQyxDQUFDZDt3QkFDbkM4TixTQUFTLElBQU0vTSxzQkFBc0I7Ozs7Ozs7Ozs7Ozs7O0FBSzdDO0dBMTRCd0IvRTs7UUFFUHBCLHNEQUFTQTtRQUNnQ0UsdURBQU9BO1FBQy9DQywwREFBVUE7UUFDUkssc0RBQVFBO1FBQ1RELGlFQUFhQTtRQTBEMUJILGdFQUFhQTtRQWFxREMsaUVBQWFBO1FBZ0QvRWMsK0RBQVlBO1FBa0VPYix5RUFBaUJBOzs7S0EvTGxCYyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvYXBwL2JvYXJkL1tib2FyZElkXS9wYWdlLnRzeD8xNWViIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IHsgTG9hZGVyMiB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5cbi8vIEhvb2tzIHkgQ29udGV4dG9zXG5pbXBvcnQgeyB1c2VBdXRoLCB1c2VVc2VyLCB1c2VTdG9yYWdlIH0gZnJvbSAnQC9maXJlYmFzZS9wcm92aWRlcic7XG5pbXBvcnQgeyB1c2VCb2FyZFN0b3JlIH0gZnJvbSAnQC9saWIvc3RvcmUvYm9hcmRTdG9yZSc7XG5pbXBvcnQgeyB1c2VCb2FyZFN0YXRlIH0gZnJvbSAnQC9ob29rcy91c2UtYm9hcmQtc3RhdGUnO1xuaW1wb3J0IHsgdXNlRWxlbWVudE1hbmFnZXIgfSBmcm9tICdAL2hvb2tzL3VzZS1lbGVtZW50LW1hbmFnZXInO1xuaW1wb3J0IHsgdXNlTWVkaWFRdWVyeSB9IGZyb20gJ0AvaG9va3MvdXNlLW1lZGlhLXF1ZXJ5JztcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnO1xuXG4vLyBVdGlsaWRhZGVzIHkgVGlwb3NcbmltcG9ydCB7IHVwbG9hZEZpbGUgfSBmcm9tICdAL2xpYi91cGxvYWQtaGVscGVyJztcbmltcG9ydCB7IFdpdGhJZCwgQ2FudmFzRWxlbWVudCwgQm9hcmQsIEVsZW1lbnRUeXBlLCBFbGVtZW50Q29udGVudCwgQ2FudmFzRWxlbWVudFByb3BlcnRpZXMgfSBmcm9tICdAL2xpYi90eXBlcyc7XG5pbXBvcnQgaHRtbDJjYW52YXMgZnJvbSAnaHRtbDJjYW52YXMnO1xuXG4vLyBDb21wb25lbnRlcyBkZSBVSVxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7XG5cbi8vIENvbXBvbmVudGVzIGRlbCBDYW52YXNcbmltcG9ydCBDYW52YXMgZnJvbSAnQC9jb21wb25lbnRzL2NhbnZhcy9jYW52YXMnO1xuaW1wb3J0IFRvb2xzU2lkZWJhciBmcm9tICdAL2NvbXBvbmVudHMvY2FudmFzL3Rvb2xzLXNpZGViYXInO1xuaW1wb3J0IEZvcm1hdHRpbmdUb29sYmFyIGZyb20gJ0AvY29tcG9uZW50cy9jYW52YXMvZm9ybWF0dGluZy10b29sYmFyJztcbi8vIERpw6Fsb2dvc1xuaW1wb3J0IEFkZEltYWdlRnJvbVVybERpYWxvZyBmcm9tICdAL2NvbXBvbmVudHMvY2FudmFzL2VsZW1lbnRzL2FkZC1pbWFnZS1mcm9tLXVybC1kaWFsb2cnO1xuaW1wb3J0IENoYW5nZUZvcm1hdERpYWxvZyBmcm9tICdAL2NvbXBvbmVudHMvY2FudmFzL2NoYW5nZS1mb3JtYXQtZGlhbG9nJztcbmltcG9ydCBFZGl0Q29tbWVudERpYWxvZyBmcm9tICdAL2NvbXBvbmVudHMvY2FudmFzL2VsZW1lbnRzL2VkaXQtY29tbWVudC1kaWFsb2cnO1xuaW1wb3J0IEVsZW1lbnRJbmZvUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL2NhbnZhcy9lbGVtZW50LWluZm8tcGFuZWwnO1xuaW1wb3J0IFJlbmFtZUJvYXJkRGlhbG9nIGZyb20gJ0AvY29tcG9uZW50cy9jYW52YXMvcmVuYW1lLWJvYXJkLWRpYWxvZyc7XG4vLyBIb29rIGRlIGRpY3RhZG9cbmltcG9ydCB7IHVzZURpY3RhdGlvbiB9IGZyb20gJ0AvaG9va3MvdXNlLWRpY3RhdGlvbic7XG5cbmludGVyZmFjZSBCb2FyZFBhZ2VQcm9wcyB7XG4gIHBhcmFtczoge1xuICAgIGJvYXJkSWQ6IHN0cmluZztcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQm9hcmRQYWdlKHsgcGFyYW1zIH06IEJvYXJkUGFnZVByb3BzKSB7XG4gIGNvbnN0IHsgYm9hcmRJZCB9ID0gcGFyYW1zO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgeyB1c2VyLCBpc1VzZXJMb2FkaW5nOiBhdXRoTG9hZGluZywgdXNlckVycm9yIH0gPSB1c2VVc2VyKCk7XG4gIGNvbnN0IHN0b3JhZ2UgPSB1c2VTdG9yYWdlKCk7XG4gIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KCk7XG4gIGNvbnN0IGlzTW9iaWxlID0gdXNlTWVkaWFRdWVyeSgnKG1heC13aWR0aDogNzY4cHgpJyk7XG4gIFxuICAvLyBERUJVRzogTG9nIGlubWVkaWF0byBhbCBpbmljaW8gZGVsIGNvbXBvbmVudGVcbiAgY29uc29sZS5sb2coJ/Cfjq8gW0JvYXJkUGFnZV0gQ29tcG9uZW50ZSBpbmljaWFkbycsIHtcbiAgICBib2FyZElkLFxuICAgIGhhc1VzZXI6ICEhdXNlcixcbiAgICB1c2VySWQ6IHVzZXI/LnVpZCxcbiAgICBpc0Fub255bW91czogdXNlcj8uaXNBbm9ueW1vdXMsXG4gICAgYXV0aExvYWRpbmcsXG4gICAgcGF0aG5hbWU6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lIDogJ1NTUidcbiAgfSk7XG4gIFxuICAvLyBDUsONVElDTzogVXNhciByZWZzIHBhcmEgZnVuY2lvbmVzIGRlIFp1c3RhbmQgeSB0b2FzdCBwYXJhIGV2aXRhciBidWNsZXMgaW5maW5pdG9zXG4gIGNvbnN0IGxvYWRCb2FyZFJlZiA9IHVzZVJlZjxhbnk+KG51bGwpO1xuICBjb25zdCBjcmVhdGVCb2FyZFJlZiA9IHVzZVJlZjxhbnk+KG51bGwpO1xuICBjb25zdCBjbGVhbnVwUmVmID0gdXNlUmVmPGFueT4obnVsbCk7XG4gIGNvbnN0IHRvYXN0UmVmID0gdXNlUmVmKHRvYXN0KTtcbiAgXG4gIC8vIEFjdHVhbGl6YXIgcmVmcyBjdWFuZG8gY2FtYmlhblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRvYXN0UmVmLmN1cnJlbnQgPSB0b2FzdDtcbiAgfSwgW3RvYXN0XSk7XG4gIFxuICAvLyBERUJVRzogTG9nIGN1YW5kbyBlbCBjb21wb25lbnRlIHNlIG1vbnRhXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/CfmoAgW0JvYXJkUGFnZV0gQ29tcG9uZW50ZSBtb250YWRvJywgeyBib2FyZElkIH0pO1xuICB9LCBbYm9hcmRJZF0pO1xuICBcbiAgLy8gREVCVUc6IExvZyBkZWwgZXN0YWRvIGRlbCB1c3VhcmlvXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/CflI0gW0JvYXJkUGFnZV0gRXN0YWRvIGRlbCB1c3VhcmlvOicsIHtcbiAgICAgIGhhc1VzZXI6ICEhdXNlcixcbiAgICAgIHVzZXJJZDogdXNlcj8udWlkLFxuICAgICAgaXNVc2VyTG9hZGluZzogYXV0aExvYWRpbmcsXG4gICAgICB1c2VyRXJyb3I6IHVzZXJFcnJvcj8ubWVzc2FnZSxcbiAgICAgIHVzZXJFbWFpbDogdXNlcj8uZW1haWwsXG4gICAgICBpc0Fub255bW91czogdXNlcj8uaXNBbm9ueW1vdXMsXG4gICAgICBzZXNzaW9uU3RvcmFnZTogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB7XG4gICAgICAgIGhhc1JlY2VudExvZ2luOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdoYXNSZWNlbnRMb2dpbicpLFxuICAgICAgICBsb2dpblRpbWVzdGFtcDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnbG9naW5UaW1lc3RhbXAnKSxcbiAgICAgICAgcmVkaXJlY3RpbmdUb0JvYXJkOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdyZWRpcmVjdGluZ1RvQm9hcmQnKVxuICAgICAgfSA6ICdOL0EgKFNTUiknXG4gICAgfSk7XG4gIH0sIFt1c2VyLCBhdXRoTG9hZGluZywgdXNlckVycm9yXSk7XG5cbiAgLy8gLS0gRVNUQURPIEdMT0JBTCBERUwgVEFCTEVSTyAoWnVzdGFuZCkgLS1cbiAgY29uc3Qge1xuICAgIGVsZW1lbnRzLFxuICAgIGJvYXJkLFxuICAgIGxvYWRCb2FyZCxcbiAgICBjcmVhdGVCb2FyZCxcbiAgICB1cGRhdGVFbGVtZW50LFxuICAgIGRlbGV0ZUVsZW1lbnQsXG4gICAgc2VsZWN0ZWRFbGVtZW50SWRzLFxuICAgIHNldFNlbGVjdGVkRWxlbWVudElkcyxcbiAgICBpc0xvYWRpbmc6IGlzQm9hcmRMb2FkaW5nLFxuICAgIGVycm9yLFxuICAgIGNsZWFudXAsXG4gIH0gPSB1c2VCb2FyZFN0b3JlKCk7XG4gIFxuICAvLyBDUsONVElDTzogQWN0dWFsaXphciByZWZzIGN1YW5kbyBsYXMgZnVuY2lvbmVzIGRlIFp1c3RhbmQgY2FtYmlhblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxvYWRCb2FyZFJlZi5jdXJyZW50ID0gbG9hZEJvYXJkO1xuICAgIGNyZWF0ZUJvYXJkUmVmLmN1cnJlbnQgPSBjcmVhdGVCb2FyZDtcbiAgICBjbGVhbnVwUmVmLmN1cnJlbnQgPSBjbGVhbnVwO1xuICB9LCBbbG9hZEJvYXJkLCBjcmVhdGVCb2FyZCwgY2xlYW51cF0pO1xuXG4gIC8vIC0tIEVTVEFETyBMT0NBTCBZIEhPT0tTIC0tXG4gIC8vIENSw41USUNPOiB1c2VCb2FyZFN0YXRlIGNyZWEgbGlzdGVuZXJzIERVUExJQ0FET1MgZGUgRmlyZWJhc2UgcGFyYSBlbGVtZW50c1xuICAvLyBTb2xvIHVzYXIgcGFyYSBib2FyZHMsIGhhbmRsZVJlbmFtZUJvYXJkLCBoYW5kbGVEZWxldGVCb2FyZCwgY2xlYXJDYW52YXNcbiAgLy8gTk8gdXNhciBlbGVtZW50cyBkZSB1c2VCb2FyZFN0YXRlIC0gdXNhciBzb2xvIGRlIHVzZUJvYXJkU3RvcmVcbiAgY29uc3QgeyBib2FyZHMsIGhhbmRsZVJlbmFtZUJvYXJkLCBoYW5kbGVEZWxldGVCb2FyZCwgY2xlYXJDYW52YXMgfSA9IHVzZUJvYXJkU3RhdGUoYm9hcmRJZCk7XG4gIGNvbnN0IGNhbnZhc1JlZiA9IHVzZVJlZjxhbnk+KG51bGwpO1xuICBcbiAgLy8gV3JhcHBlciBmdW5jdGlvbnMgcGFyYSBjb2luY2lkaXIgY29uIGxvcyB0aXBvcyBlc3BlcmFkb3NcbiAgY29uc3QgaGFuZGxlUmVuYW1lQm9hcmRXcmFwcGVyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldElzUmVuYW1lQm9hcmREaWFsb2dPcGVuKHRydWUpO1xuICB9LCBbXSk7XG4gIFxuICBjb25zdCBoYW5kbGVTYXZlUmVuYW1lQm9hcmQgPSB1c2VDYWxsYmFjaygobmV3TmFtZTogc3RyaW5nKSA9PiB7XG4gICAgaGFuZGxlUmVuYW1lQm9hcmQobmV3TmFtZSk7XG4gICAgc2V0SXNSZW5hbWVCb2FyZERpYWxvZ09wZW4oZmFsc2UpO1xuICB9LCBbaGFuZGxlUmVuYW1lQm9hcmRdKTtcbiAgXG4gIGNvbnN0IGNsZWFyQ2FudmFzV3JhcHBlciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjbGVhckNhbnZhcyhlbGVtZW50cyk7XG4gIH0sIFtlbGVtZW50cywgY2xlYXJDYW52YXNdKTtcblxuICAvLyBFc3RhZG9zIGRlIFVJXG4gIGNvbnN0IFtpc0Zvcm1hdFRvb2xiYXJPcGVuLCBzZXRJc0Zvcm1hdFRvb2xiYXJPcGVuXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbaXNJbWFnZVVybERpYWxvZ09wZW4sIHNldElzSW1hZ2VVcmxEaWFsb2dPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NoYW5nZUZvcm1hdERpYWxvZ09wZW4sIHNldENoYW5nZUZvcm1hdERpYWxvZ09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNQYW5uaW5nQWN0aXZlLCBzZXRJc1Bhbm5pbmdBY3RpdmVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNSZW5hbWVCb2FyZERpYWxvZ09wZW4sIHNldElzUmVuYW1lQm9hcmREaWFsb2dPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIEVzdGFkb3MgZGUgU2VsZWNjacOzbiB5IEVkaWNpw7NuXG4gIGNvbnN0IFtzZWxlY3RlZEVsZW1lbnQsIHNldFNlbGVjdGVkRWxlbWVudF0gPSB1c2VTdGF0ZTxXaXRoSWQ8Q2FudmFzRWxlbWVudD4gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2FjdGl2YXRlZEVsZW1lbnRJZCwgc2V0QWN0aXZhdGVkRWxlbWVudElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2VsZWN0ZWROb3RlcGFkRm9yRm9ybWF0LCBzZXRTZWxlY3RlZE5vdGVwYWRGb3JGb3JtYXRdID0gdXNlU3RhdGU8V2l0aElkPENhbnZhc0VsZW1lbnQ+IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0RpcnR5LCBzZXRJc0RpcnR5XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzRWRpdENvbW1lbnREaWFsb2dPcGVuLCBzZXRJc0VkaXRDb21tZW50RGlhbG9nT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzZWxlY3RlZENvbW1lbnRGb3JFZGl0LCBzZXRTZWxlY3RlZENvbW1lbnRGb3JFZGl0XSA9IHVzZVN0YXRlPFdpdGhJZDxDYW52YXNFbGVtZW50PiB8IG51bGw+KG51bGwpO1xuICBcbiAgLy8gUmVmIHBhcmEgYWxtYWNlbmFyIHpJbmRleCBvcmlnaW5hbCBkZSBlbGVtZW50b3MgY3VhbmRvIHNlIGVkaXRhblxuICBjb25zdCBvcmlnaW5hbFpJbmRleFJlZiA9IHVzZVJlZjxNYXA8c3RyaW5nLCBudW1iZXI+PihuZXcgTWFwKCkpO1xuICBcbiAgLy8gUGFuZWwgZGUgaW5mb3JtYWNpw7NuIGRlbCBlbGVtZW50byAoT3BjacOzbiA0OiBDb21iaW5hY2nDs24gUGFuZWwgKyBDb25zb2xhKVxuICBjb25zdCBbaXNJbmZvUGFuZWxWaXNpYmxlLCBzZXRJc0luZm9QYW5lbFZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpOyAvLyBPY3VsdG8gcG9yIGRlZmVjdG8sIHNlIG11ZXN0cmEgYWwgc2VsZWNjaW9uYXIgZWxlbWVudG9cblxuICAvLyAtLSBESUNUQURPIERFIFZPWiAtLVxuICAvLyBIb29rIGRlIGRpY3RhZG8gc2ltcGxpZmljYWRvIHNlZ8O6biBSZWFkbWUgMTggTm92XG4gIGNvbnN0IHtcbiAgICBpc1N1cHBvcnRlZDogaXNEaWN0YXRpb25TdXBwb3J0ZWQsXG4gICAgaXNMaXN0ZW5pbmc6IGlzRGljdGF0aW9uTGlzdGVuaW5nLFxuICAgIHRyYW5zY3JpcHQsXG4gICAgZmluYWxUcmFuc2NyaXB0LFxuICAgIGludGVyaW1UcmFuc2NyaXB0LFxuICAgIHBlcm1pc3Npb25FcnJvcixcbiAgICB0b2dnbGU6IHRvZ2dsZURpY3RhdGlvbixcbiAgfSA9IHVzZURpY3RhdGlvbigpO1xuICBcbiAgLy8gbGl2ZVRyYW5zY3JpcHQgY29tYmluYSBmaW5hbFRyYW5zY3JpcHQgKyBpbnRlcmltVHJhbnNjcmlwdCBwYXJhIG1vc3RyYXIgZW4gdGllbXBvIHJlYWxcbiAgY29uc3QgbGl2ZVRyYW5zY3JpcHQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAvLyBDb21iaW5hciB0ZXh0byBmaW5hbCBhY3VtdWxhZG8gY29uIHRleHRvIHByb3Zpc2lvbmFsXG4gICAgY29uc3QgZmluYWwgPSBmaW5hbFRyYW5zY3JpcHQgfHwgJyc7XG4gICAgY29uc3QgaW50ZXJpbSA9IGludGVyaW1UcmFuc2NyaXB0IHx8ICcnO1xuICAgIFxuICAgIC8vIFNpIGhheSB0ZXh0byBwcm92aXNpb25hbCwgYWdyZWdhcmxvIGFsIGZpbmFsIGRlbCB0ZXh0byBmaW5hbFxuICAgIGlmIChpbnRlcmltLnRyaW0oKSkge1xuICAgICAgcmV0dXJuIGZpbmFsICsgKGZpbmFsID8gJyAnIDogJycpICsgaW50ZXJpbTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGZpbmFsO1xuICB9LCBbZmluYWxUcmFuc2NyaXB0LCBpbnRlcmltVHJhbnNjcmlwdF0pO1xuICBcbiAgY29uc3QgaGFuZGxlVG9nZ2xlRGljdGF0aW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0b2dnbGVEaWN0YXRpb24oKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgYWx0ZXJuYXIgZGljdGFkbzonLCBlcnJvcik7XG4gICAgfVxuICB9LCBbdG9nZ2xlRGljdGF0aW9uXSk7XG5cbiAgLy8gTW9zdHJhciBlcnJvciBkZSBwZXJtaXNvcyBhbCB1c3VhcmlvXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHBlcm1pc3Npb25FcnJvcikge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgICB0aXRsZTogJ0Vycm9yIGRlIFBlcm1pc29zJyxcbiAgICAgICAgZGVzY3JpcHRpb246IHBlcm1pc3Npb25FcnJvcixcbiAgICAgICAgZHVyYXRpb246IDUwMDAsXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtwZXJtaXNzaW9uRXJyb3IsIHRvYXN0XSk7XG5cbiAgLy8gLS0gR0VTVEnDk04gREUgRUxFTUVOVE9TIC0tXG4gIGNvbnN0IGdldFZpZXdwb3J0Q2VudGVyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChjYW52YXNSZWYuY3VycmVudCkge1xuICAgICAgY29uc3QgY2VudGVyID0gY2FudmFzUmVmLmN1cnJlbnQuZ2V0Vmlld3BvcnRDZW50ZXIoKTtcbiAgICAgIC8vIENSw41USUNPOiBBc2VndXJhciBxdWUgY3VhbmRvIGVsIHNjcm9sbCBlc3TDoSBlbiAwLDAsIGxvcyBlbGVtZW50b3Mgc2UgY3JlZW4gY2VyY2EgZGVsIG9yaWdlblxuICAgICAgLy8gRWwgdmlld3BvcnQgY2VudGVyIGRlYmUgc2VyIHJlbGF0aXZvIGEgbGEgcG9zaWNpw7NuIHZpc2libGUsIG5vIGFic29sdXRhXG4gICAgICByZXR1cm4gY2VudGVyO1xuICAgIH1cbiAgICAvLyBGYWxsYmFjazogcmV0b3JuYXIgY2VudHJvIGRlbCB2aWV3cG9ydCB2aXNpYmxlIChubyBhYnNvbHV0bylcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiB7IHg6IHdpbmRvdy5pbm5lcldpZHRoIC8gMiwgeTogd2luZG93LmlubmVySGVpZ2h0IC8gMiB9O1xuICAgIH1cbiAgICByZXR1cm4geyB4OiA0MDAwMCwgeTogNDAwMDAgfTsgLy8gRmFsbGJhY2sgcGFyYSBTU1JcbiAgfSwgW10pO1xuXG4gIC8vIENSw41USUNPOiBVc2FyIHJlZiBwYXJhIGVsZW1lbnRzIHBhcmEgZXZpdGFyIHJlY3JlYWNpw7NuIGRlIGZ1bmNpw7NuXG4gIGNvbnN0IGVsZW1lbnRzUmVmID0gdXNlUmVmKGVsZW1lbnRzKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBlbGVtZW50c1JlZi5jdXJyZW50ID0gZWxlbWVudHM7XG4gIH0sIFtlbGVtZW50c10pO1xuXG4gIGNvbnN0IGdldE5leHRaSW5kZXggPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudEVsZW1lbnRzID0gZWxlbWVudHNSZWYuY3VycmVudDtcbiAgICBpZiAoIWN1cnJlbnRFbGVtZW50cyB8fCBjdXJyZW50RWxlbWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gMTtcbiAgICBjb25zdCB6SW5kZXhlcyA9IGN1cnJlbnRFbGVtZW50c1xuICAgICAgLmZpbHRlcihlID0+IHR5cGVvZiBlLnpJbmRleCA9PT0gJ251bWJlcicpXG4gICAgICAubWFwKGUgPT4gZS56SW5kZXghKTtcbiAgICByZXR1cm4gekluZGV4ZXMubGVuZ3RoID4gMCA/IE1hdGgubWF4KC4uLnpJbmRleGVzKSArIDEgOiAyO1xuICB9LCBbXSk7IC8vIOKchSBTaW4gZGVwZW5kZW5jaWFzIC0gdXNhIHJlZlxuXG4gIGNvbnN0IHsgYWRkRWxlbWVudCB9ID0gdXNlRWxlbWVudE1hbmFnZXIoYm9hcmRJZCwgZ2V0Vmlld3BvcnRDZW50ZXIsIGdldE5leHRaSW5kZXgpO1xuXG4gIC8vIC0tIEVGRUNUT1MgLS1cblxuICAvLyBTaW5jcm9uaXphciBzZWxlY2Npw7NuXG4gIC8vIENSw41USUNPOiBPcHRpbWl6YWRvIHBhcmEgZXZpdGFyIHJlLXJlbmRlcnMgY29uc3RhbnRlcyBjdWFuZG8gZWxlbWVudHMgY2FtYmlhXG4gIC8vIFVzYXIgdXNlTWVtbyBjb24gZGVwZW5kZW5jaWEgY29ycmVjdGEgZGVsIGFycmF5IGNvbXBsZXRvXG4gIGNvbnN0IHNlbGVjdGVkRWxlbWVudElkID0gc2VsZWN0ZWRFbGVtZW50SWRzLmxlbmd0aCA9PT0gMSA/IHNlbGVjdGVkRWxlbWVudElkc1swXSA6IG51bGw7XG4gIGNvbnN0IGZvdW5kRWxlbWVudCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRFbGVtZW50SWQgfHwgIWVsZW1lbnRzIHx8IGVsZW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIGVsZW1lbnRzLmZpbmQoZWwgPT4gZWwuaWQgPT09IHNlbGVjdGVkRWxlbWVudElkKSB8fCBudWxsO1xuICB9LCBbc2VsZWN0ZWRFbGVtZW50SWQsIGVsZW1lbnRzXSk7IC8vIOKchSBEZXBlbmRlciBkZWwgYXJyYXkgY29tcGxldG8gcGFyYSBldml0YXIgZGF0b3Mgb2Jzb2xldG9zXG4gIFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldFNlbGVjdGVkRWxlbWVudChmb3VuZEVsZW1lbnQpO1xuICB9LCBbZm91bmRFbGVtZW50XSk7XG5cbiAgLy8gLS0gTE9HR0lORyBFTiBDT05TT0xBIGN1YW5kbyBzZSBzZWxlY2Npb25hIHVuIGVsZW1lbnRvIC0tXG4gIC8vIE9QVElNSVpBRE86IFNvbG8gbG9nZ2VhciBlbiBkZXNhcnJvbGxvIHkgY29uIGluZm9ybWFjacOzbiBlc2VuY2lhbFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzZWxlY3RlZEVsZW1lbnQpIHtcbiAgICAgIC8vIE1vc3RyYXIgcGFuZWwgYXV0b23DoXRpY2FtZW50ZSBjdWFuZG8gc2Ugc2VsZWNjaW9uYSB1biBlbGVtZW50b1xuICAgICAgc2V0SXNJbmZvUGFuZWxWaXNpYmxlKHRydWUpO1xuICAgICAgXG4gICAgICAvLyBTb2xvIGxvZ2dlYXIgZW4gZGVzYXJyb2xsbyB5IGRlIGZvcm1hIG9wdGltaXphZGFcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+TiyBFbGVtZW50byBzZWxlY2Npb25hZG86Jywge1xuICAgICAgICAgIGlkOiBzZWxlY3RlZEVsZW1lbnQuaWQsXG4gICAgICAgICAgdHlwZTogc2VsZWN0ZWRFbGVtZW50LnR5cGUsXG4gICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgIHg6IHNlbGVjdGVkRWxlbWVudC5wcm9wZXJ0aWVzPy5wb3NpdGlvbj8ueCB8fCBzZWxlY3RlZEVsZW1lbnQueCB8fCAwLFxuICAgICAgICAgICAgeTogc2VsZWN0ZWRFbGVtZW50LnByb3BlcnRpZXM/LnBvc2l0aW9uPy55IHx8IHNlbGVjdGVkRWxlbWVudC55IHx8IDAsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICB3aWR0aDogc2VsZWN0ZWRFbGVtZW50LnByb3BlcnRpZXM/LnNpemU/LndpZHRoIHx8IHNlbGVjdGVkRWxlbWVudC53aWR0aCB8fCAwLFxuICAgICAgICAgICAgaGVpZ2h0OiBzZWxlY3RlZEVsZW1lbnQucHJvcGVydGllcz8uc2l6ZT8uaGVpZ2h0IHx8IHNlbGVjdGVkRWxlbWVudC5oZWlnaHQgfHwgMCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHpJbmRleDogc2VsZWN0ZWRFbGVtZW50LnpJbmRleCxcbiAgICAgICAgICBwYXJlbnRJZDogc2VsZWN0ZWRFbGVtZW50LnBhcmVudElkLFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gTG9nIGNvbXBsZXRvIHNvbG8gc2kgZXN0w6EgaGFiaWxpdGFkbyBlbCBkZWJ1Z1xuICAgICAgICBpZiAoKHdpbmRvdyBhcyBhbnkpLkRFQlVHX0VMRU1FTlRTKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0VsZW1lbnRvIGNvbXBsZXRvOicsIHNlbGVjdGVkRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT2N1bHRhciBwYW5lbCBjdWFuZG8gbm8gaGF5IGVsZW1lbnRvIHNlbGVjY2lvbmFkb1xuICAgICAgc2V0SXNJbmZvUGFuZWxWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtzZWxlY3RlZEVsZW1lbnRdKTtcblxuICAvLyAtLSBBVEFKTyBERSBURUNMQURPOiBDdHJsK1NoaWZ0K0QgcGFyYSBtb3N0cmFyL29jdWx0YXIgcGFuZWwgLS1cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgIGlmICgoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkgJiYgZS5zaGlmdEtleSAmJiBlLmtleSA9PT0gJ0QnKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgc2V0SXNJbmZvUGFuZWxWaXNpYmxlKHByZXYgPT4gIXByZXYpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICB9LCBbXSk7XG5cbiAgLy8gQ1LDjVRJQ086IFJFRlMgcGFyYSBwcmV2ZW5pciBtw7psdGlwbGVzIGVqZWN1Y2lvbmVzXG4gIGNvbnN0IGhhc0xvYWRlZFJlZiA9IHVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IGlzTG9hZGluZ1JlZiA9IHVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IHdhaXRUaW1lclJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBjdXJyZW50Qm9hcmRJZFJlZiA9IHVzZVJlZjxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICAvLyBDT05TT0xJREFETzogVW4gc29sbyB1c2VFZmZlY3QgcGFyYSBsb2dpbiB5IGNhcmdhIGRlIHRhYmxlcm9cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+UhCBbQm9hcmRQYWdlXSB1c2VFZmZlY3QgZWplY3V0YWRvJywge1xuICAgICAgYm9hcmRJZCxcbiAgICAgIGhhc1VzZXI6ICEhdXNlcixcbiAgICAgIHVzZXJJZDogdXNlcj8udWlkLFxuICAgICAgaXNBbm9ueW1vdXM6IHVzZXI/LmlzQW5vbnltb3VzLFxuICAgICAgYXV0aExvYWRpbmcsXG4gICAgICBpc0xvYWRpbmc6IGlzTG9hZGluZ1JlZi5jdXJyZW50LFxuICAgICAgaGFzTG9hZGVkOiBoYXNMb2FkZWRSZWYuY3VycmVudCxcbiAgICAgIGN1cnJlbnRCb2FyZElkOiBjdXJyZW50Qm9hcmRJZFJlZi5jdXJyZW50XG4gICAgfSk7XG4gICAgXG4gICAgLy8gUmVzZXRlYXIgZmxhZ3Mgc2kgY2FtYmnDsyBib2FyZElkXG4gICAgaWYgKGN1cnJlbnRCb2FyZElkUmVmLmN1cnJlbnQgIT09IGJvYXJkSWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFtCb2FyZFBhZ2VdIEJvYXJkSWQgY2FtYmnDsywgcmVzZXRlYW5kbyBmbGFncycsIHtcbiAgICAgICAgb2xkOiBjdXJyZW50Qm9hcmRJZFJlZi5jdXJyZW50LFxuICAgICAgICBuZXc6IGJvYXJkSWRcbiAgICAgIH0pO1xuICAgICAgaGFzTG9hZGVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIGlzTG9hZGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICBjdXJyZW50Qm9hcmRJZFJlZi5jdXJyZW50ID0gYm9hcmRJZDtcbiAgICB9XG4gICAgXG4gICAgLy8gUHJldmVuaXIgbcO6bHRpcGxlcyBlamVjdWNpb25lc1xuICAgIGlmIChpc0xvYWRpbmdSZWYuY3VycmVudCB8fCBhdXRoTG9hZGluZykge1xuICAgICAgY29uc29sZS5sb2coJ+KPuO+4jyBbQm9hcmRQYWdlXSBTYWx0YW5kbyBlamVjdWNpw7NuICh5YSBjYXJnYW5kbyBvIGF1dGggY2FyZ2FuZG8pJywge1xuICAgICAgICBpc0xvYWRpbmc6IGlzTG9hZGluZ1JlZi5jdXJyZW50LFxuICAgICAgICBhdXRoTG9hZGluZ1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gTGltcGlhciB0aW1lciBhbnRlcmlvclxuICAgIGlmICh3YWl0VGltZXJSZWYuY3VycmVudCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHdhaXRUaW1lclJlZi5jdXJyZW50KTtcbiAgICAgIHdhaXRUaW1lclJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBWZXJpZmljYXIgbG9naW4gcmVjaWVudGUgKHNvbG8gZW4gY2xpZW50ZSlcbiAgICBjb25zdCBoYXNSZWNlbnRMb2dpbiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnaGFzUmVjZW50TG9naW4nKSA9PT0gJ3RydWUnIDogZmFsc2U7XG4gICAgY29uc3QgbG9naW5UaW1lc3RhbXAgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2xvZ2luVGltZXN0YW1wJykgOiBudWxsO1xuICAgIGNvbnN0IHJlZGlyZWN0aW5nVG9Cb2FyZCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncmVkaXJlY3RpbmdUb0JvYXJkJykgOiBudWxsO1xuICAgIGNvbnN0IGlzTG9naW5SZWNlbnQgPSBoYXNSZWNlbnRMb2dpbiAmJiBsb2dpblRpbWVzdGFtcCAmJiAoRGF0ZS5ub3coKSAtIHBhcnNlSW50KGxvZ2luVGltZXN0YW1wKSkgPCA2MDAwMDtcbiAgICBcbiAgICAvLyBSZWRpcmlnaXIgc2kgbm8gaGF5IHVzdWFyaW8geSBubyBoYXkgbG9naW4gcmVjaWVudGVcbiAgICBpZiAoIXVzZXIgJiYgIWlzTG9naW5SZWNlbnQpIHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpO1xuICAgICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJy8nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gRXNwZXJhciBzaSBoYXkgbG9naW4gcmVjaWVudGUgcGVybyBubyB1c3VhcmlvIChDUsONVElDTyBwYXJhIHVzdWFyaW9zIGFuw7NuaW1vcyBkZXNwdcOpcyBkZSByZWRpcmVjdClcbiAgICBpZiAoaXNMb2dpblJlY2VudCAmJiAhdXNlcikge1xuICAgICAgY29uc3Qgd2FpdFRpbWUgPSByZWRpcmVjdGluZ1RvQm9hcmQgPT09IGJvYXJkSWQgPyAzMDAwMCA6IDEwMDAwOyAvLyBBdW1lbnRhciB0aWVtcG8gZGUgZXNwZXJhXG4gICAgICBjb25zb2xlLmxvZygn4o+zIFtCb2FyZFBhZ2VdIEVzcGVyYW5kbyB1c3VhcmlvIGRlc3B1w6lzIGRlIGxvZ2luIHJlY2llbnRlLi4uJywge1xuICAgICAgICB3YWl0VGltZSxcbiAgICAgICAgcmVkaXJlY3RpbmdUb0JvYXJkLFxuICAgICAgICBib2FyZElkLFxuICAgICAgICBoYXNSZWNlbnRMb2dpbixcbiAgICAgICAgbG9naW5UaW1lc3RhbXBcbiAgICAgIH0pO1xuICAgICAgd2FpdFRpbWVyUmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKCF1c2VyICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBbQm9hcmRQYWdlXSBUaW1lb3V0OiBVc3VhcmlvIG5vIGRpc3BvbmlibGUgZGVzcHXDqXMgZGUgZXNwZXJhciwgcmVkaXJpZ2llbmRvLi4uJyk7XG4gICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgnaGFzUmVjZW50TG9naW4nKTtcbiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCdsb2dpblRpbWVzdGFtcCcpO1xuICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ3JlZGlyZWN0aW5nVG9Cb2FyZCcpO1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCcvJyk7XG4gICAgICAgIH1cbiAgICAgIH0sIHdhaXRUaW1lKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDYXJnYXIvY3JlYXIgdGFibGVybyAoU09MTyBVTkEgVkVaKVxuICAgIGlmICh1c2VyPy51aWQgJiYgIWhhc0xvYWRlZFJlZi5jdXJyZW50ICYmIGxvYWRCb2FyZFJlZi5jdXJyZW50ICYmIGNyZWF0ZUJvYXJkUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgW0JvYXJkUGFnZV0gVXN1YXJpbyBkaXNwb25pYmxlLCBjYXJnYW5kby9jcmVhbmRvIHRhYmxlcm8nLCB7XG4gICAgICAgIHVzZXJJZDogdXNlci51aWQsXG4gICAgICAgIGJvYXJkSWQsXG4gICAgICAgIGlzQW5vbnltb3VzOiB1c2VyLmlzQW5vbnltb3VzXG4gICAgICB9KTtcbiAgICAgIGhhc0xvYWRlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgIGlzTG9hZGluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHVzZXJJZCA9IHVzZXIudWlkO1xuICAgICAgXG4gICAgICBpZiAoYm9hcmRJZCA9PT0gJ25ldycpIHtcbiAgICAgICAgY3JlYXRlQm9hcmRSZWYuY3VycmVudCh1c2VySWQpLnRoZW4oKG5ld0JvYXJkSWQ6IHN0cmluZykgPT4ge1xuICAgICAgICAgIGlzTG9hZGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgICAgaWYgKG5ld0JvYXJkSWQgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2hhc1JlY2VudExvZ2luJywgJ3RydWUnKTtcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2xvZ2luVGltZXN0YW1wJywgRGF0ZS5ub3coKS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYC9ib2FyZC8ke25ld0JvYXJkSWR9YDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGFzTG9hZGVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmNhdGNoKChlcnJvcjogYW55KSA9PiB7XG4gICAgICAgICAgaXNMb2FkaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICBoYXNMb2FkZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBhbCBjcmVhciB0YWJsZXJvOicsIGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2FkQm9hcmRSZWYuY3VycmVudChib2FyZElkLCB1c2VySWQpLnRoZW4oKGxvYWRlZEJvYXJkSWQ6IHN0cmluZyB8IG51bGwpID0+IHtcbiAgICAgICAgICBpc0xvYWRpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgIGlmIChsb2FkZWRCb2FyZElkICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgnaGFzUmVjZW50TG9naW4nKTtcbiAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgnbG9naW5UaW1lc3RhbXAnKTtcbiAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgncmVkaXJlY3RpbmdUb0JvYXJkJyk7XG4gICAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGFzTG9hZGVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmNhdGNoKChlcnJvcjogYW55KSA9PiB7XG4gICAgICAgICAgaXNMb2FkaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICBoYXNMb2FkZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBhbCBjYXJnYXIgdGFibGVybzonLCBlcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBDbGVhbnVwXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmICh3YWl0VGltZXJSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQod2FpdFRpbWVyUmVmLmN1cnJlbnQpO1xuICAgICAgICB3YWl0VGltZXJSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoY2xlYW51cFJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFudXBSZWYuY3VycmVudCgpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtib2FyZElkLCB1c2VyLCBhdXRoTG9hZGluZ10pO1xuXG4gIC8vIC0tIEhBTkRMRVJTIERFIEFDQ0nDk04gLS1cblxuICBjb25zdCBoYW5kbGVTZWxlY3RFbGVtZW50ID0gKGVsZW1lbnRJZDogc3RyaW5nIHwgbnVsbCwgaXNNdWx0aVNlbGVjdDogYm9vbGVhbikgPT4ge1xuICAgIGlmIChlbGVtZW50SWQgPT09IG51bGwpIHNldFNlbGVjdGVkRWxlbWVudElkcyhbXSk7XG4gICAgZWxzZSBzZXRTZWxlY3RlZEVsZW1lbnRJZHMoW2VsZW1lbnRJZF0pO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVVwbG9hZEltYWdlID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmICghdXNlcj8udWlkKSB7XG4gICAgICB0b2FzdCh7IHRpdGxlOiAnRXJyb3InLCBkZXNjcmlwdGlvbjogJ0RlYmVzIGluaWNpYXIgc2VzacOzbicgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdXNlcklkID0gdXNlci51aWQ7IC8vIEd1YXJkYXIgZW4gdmFyaWFibGUgbG9jYWxcbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgaW5wdXQudHlwZSA9ICdmaWxlJztcbiAgICBpbnB1dC5hY2NlcHQgPSAnaW1hZ2UvKic7XG4gICAgaW5wdXQub25jaGFuZ2UgPSBhc3luYyAoZSkgPT4ge1xuICAgICAgY29uc3QgZmlsZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5maWxlcz8uWzBdO1xuICAgICAgaWYgKCFmaWxlKSByZXR1cm47XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVwbG9hZFJlc3VsdCA9IGF3YWl0IHVwbG9hZEZpbGUoZmlsZSwgdXNlcklkLCBzdG9yYWdlKTtcbiAgICAgICAgaWYgKHVwbG9hZFJlc3VsdC51cmwpIHtcbiAgICAgICAgICBhd2FpdCBhZGRFbGVtZW50KCdpbWFnZScsIHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IHsgdXJsOiB1cGxvYWRSZXN1bHQudXJsIH0sXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiB7IHNpemU6IHsgd2lkdGg6IDMwMCwgaGVpZ2h0OiAyMDAgfSB9LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRvYXN0KHsgdGl0bGU6ICdJbWFnZW4gc3ViaWRhJyB9KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogJ0Vycm9yIGFsIHN1YmlyIGltYWdlbicgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpbnB1dC5jbGljaygpO1xuICB9LCBbdXNlciwgc3RvcmFnZSwgYWRkRWxlbWVudCwgdG9hc3RdKTtcblxuICBjb25zdCBoYW5kbGVGb3JtYXRUb2dnbGUgPSB1c2VDYWxsYmFjaygoKSA9PiBzZXRJc0Zvcm1hdFRvb2xiYXJPcGVuKHByZXYgPT4gIXByZXYpLCBbXSk7XG5cbiAgLy8gSGFuZGxlciBwYXJhIGFncmVnYXIgbWFyY2Fkb3IvbG9jYWxpemFkb3IgZGVzZGUgZWwgbWVuw7ogZm9ybWF0b1xuICBjb25zdCBoYW5kbGVBZGRNYXJrZXIgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgdmlld3BvcnRDZW50ZXIgPSBnZXRWaWV3cG9ydENlbnRlcigpO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBhZGRFbGVtZW50KCdjb21tZW50Jywge1xuICAgICAgICBjb250ZW50OiB7IFxuICAgICAgICAgIHRpdGxlOiAnTnVldm8gTG9jYWxpemFkb3InLCBcbiAgICAgICAgICBsYWJlbDogJ0xvY2FsaXphZG9yJyxcbiAgICAgICAgICB0ZXh0OiAnJyBcbiAgICAgICAgfSxcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgIHBvc2l0aW9uOiB2aWV3cG9ydENlbnRlcixcbiAgICAgICAgICBzaXplOiB7IHdpZHRoOiA0OCwgaGVpZ2h0OiA0OCB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICB0b2FzdCh7IFxuICAgICAgICB0aXRsZTogJ0xvY2FsaXphZG9yIGNyZWFkbycsIFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1NlIGhhIG1hcmNhZG8gdW5hIG51ZXZhIHViaWNhY2nDs24gZW4gZWwgdGFibGVyby4gRWRpdGEgZWwgbm9tYnJlIHBhcmEgaWRlbnRpZmljYXJsby4nIFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgdG9hc3QoeyBcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywgXG4gICAgICAgIHRpdGxlOiAnRXJyb3InLCBcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UgfHwgJ05vIHNlIHB1ZG8gY3JlYXIgZWwgbG9jYWxpemFkb3IuJyBcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2dldFZpZXdwb3J0Q2VudGVyLCBhZGRFbGVtZW50LCB0b2FzdF0pO1xuXG4gIGNvbnN0IGhhbmRsZUxvY2F0ZUVsZW1lbnQgPSB1c2VDYWxsYmFjaygoaWQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50cy5maW5kKGVsID0+IGVsLmlkID09PSBpZCk7XG4gICAgaWYgKGVsZW1lbnQgJiYgY2FudmFzUmVmLmN1cnJlbnQpIHtcbiAgICAgIGhhbmRsZVNlbGVjdEVsZW1lbnQoaWQsIGZhbHNlKTtcbiAgICAgIGNhbnZhc1JlZi5jdXJyZW50LmNlbnRlck9uRWxlbWVudChlbGVtZW50KTtcbiAgICB9XG4gIH0sIFtlbGVtZW50c10pO1xuXG4gIGNvbnN0IGhhbmRsZU9wZW5Ob3RlcGFkID0gdXNlQ2FsbGJhY2soYXN5bmMgKGlkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHMuZmluZChlbCA9PiBlbC5pZCA9PT0gaWQpO1xuICAgIGlmICghZWxlbWVudCkgcmV0dXJuO1xuICAgIHVwZGF0ZUVsZW1lbnQoaWQsIHsgaGlkZGVuOiBmYWxzZSB9KTtcbiAgICBoYW5kbGVTZWxlY3RFbGVtZW50KGlkLCBmYWxzZSk7XG4gICAgaWYgKGNhbnZhc1JlZi5jdXJyZW50KSBjYW52YXNSZWYuY3VycmVudC5jZW50ZXJPbkVsZW1lbnQoZWxlbWVudCk7XG4gIH0sIFtlbGVtZW50cywgdXBkYXRlRWxlbWVudF0pO1xuXG4gIGNvbnN0IGhhbmRsZUNoYW5nZU5vdGVwYWRGb3JtYXQgPSB1c2VDYWxsYmFjaygoaWQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50cy5maW5kKGVsID0+IGVsLmlkID09PSBpZCk7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHNldFNlbGVjdGVkTm90ZXBhZEZvckZvcm1hdChlbGVtZW50KTtcbiAgICAgIHNldENoYW5nZUZvcm1hdERpYWxvZ09wZW4odHJ1ZSk7XG4gICAgfVxuICB9LCBbZWxlbWVudHNdKTtcblxuICBjb25zdCBoYW5kbGVTYXZlRm9ybWF0ID0gdXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcsIGZvcm1hdDogJ2xldHRlcicgfCAnMTB4MTUnKSA9PiB7XG4gICAgLy8gRklYOiBDb3JyZWdpciBkaW1lbnNpb25lcyAtIDEweDE1IHNpZ25pZmljYSAxMGNtIGFuY2hvIHggMTVjbSBhbHRvIChubyAyMSBhbHRvIHggMTUgYW5jaG8pXG4gICAgLy8gMTBjbSA9IH4zNzhweCwgMTVjbSA9IH41NjdweCAoYSA5NiBEUEkpXG4gICAgY29uc3QgbmV3U2l6ZSA9IGZvcm1hdCA9PT0gJ2xldHRlcicgXG4gICAgICA/IHsgd2lkdGg6IDc5NCwgaGVpZ2h0OiAxMDIxIH0gLy8gQ2FydGE6IDguNVwiIHggMTFcIlxuICAgICAgOiB7IHdpZHRoOiAzNzgsIGhlaWdodDogNTY3IH07IC8vIDEweDE1OiAxMGNtIGFuY2hvIHggMTVjbSBhbHRvIChDT1JSRUdJRE8pXG4gICAgdXBkYXRlRWxlbWVudChpZCwgeyBcbiAgICAgIHdpZHRoOiBuZXdTaXplLndpZHRoLFxuICAgICAgaGVpZ2h0OiBuZXdTaXplLmhlaWdodCxcbiAgICAgIHByb3BlcnRpZXM6IHsgXG4gICAgICAgIC4uLnNlbGVjdGVkTm90ZXBhZEZvckZvcm1hdD8ucHJvcGVydGllcywgXG4gICAgICAgIGZvcm1hdCwgXG4gICAgICAgIHNpemU6IG5ld1NpemUgXG4gICAgICB9IFxuICAgIH0pO1xuICAgIHNldENoYW5nZUZvcm1hdERpYWxvZ09wZW4oZmFsc2UpO1xuICB9LCBbc2VsZWN0ZWROb3RlcGFkRm9yRm9ybWF0LCB1cGRhdGVFbGVtZW50XSk7XG5cbiAgY29uc3QgaGFuZGxlRWRpdENvbW1lbnQgPSB1c2VDYWxsYmFjaygoY29tbWVudDogV2l0aElkPENhbnZhc0VsZW1lbnQ+KSA9PiB7XG4gICAgc2V0U2VsZWN0ZWRDb21tZW50Rm9yRWRpdChjb21tZW50KTtcbiAgICBzZXRJc0VkaXRDb21tZW50RGlhbG9nT3Blbih0cnVlKTtcbiAgfSwgW10pO1xuXG4gIC8vIFJFR0xBUyBaLUlOREVYOiBDdWFuZG8gc2UgaGFjZSBjbGljayBlbiB1biBlbGVtZW50bywgcGFzYSBhbCBmcmVudGUgcGFyYSBlZGl0YXJsb1xuICAvLyBDdWFkZXJub3MgeSBsaWVuem8gc2llbXByZSBlc3TDoW4gZW4gcHJpbWVyYSBjYXBhICh6SW5kZXggYmFzZSBhbHRvKVxuICAvLyBEZXNwdcOpcyBkZSBlZGl0YXIsIGVsIGVsZW1lbnRvIHZ1ZWx2ZSBhIHN1IHBvc2ljacOzbiBvcmlnaW5hbFxuICBjb25zdCBoYW5kbGVFZGl0RWxlbWVudCA9IHVzZUNhbGxiYWNrKChlbGVtZW50SWQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50cy5maW5kKGVsID0+IGVsLmlkID09PSBlbGVtZW50SWQpO1xuICAgIGlmICghZWxlbWVudCkgcmV0dXJuO1xuXG4gICAgLy8gVGlwb3MgcXVlIHNpZW1wcmUgZGViZW4gZXN0YXIgZW4gcHJpbWVyYSBjYXBhIChkZXNwdcOpcyBkZWwgdGFibGVybylcbiAgICBjb25zdCBmaXJzdExheWVyVHlwZXMgPSBbJ25vdGVwYWQnLCAnbm90ZXBhZC1zaW1wbGUnLCAndGVzdC1ub3RlcGFkJywgJ3RhYmJlZC1ub3RlcGFkJywgJ3llbGxvdy1ub3RlcGFkJ107XG4gICAgY29uc3QgaXNGaXJzdExheWVyID0gZmlyc3RMYXllclR5cGVzLmluY2x1ZGVzKGVsZW1lbnQudHlwZSk7XG4gICAgXG4gICAgLy8gT2J0ZW5lciB6SW5kZXggYWN0dWFsXG4gICAgY29uc3QgZWxlbWVudFByb3BzID0gdHlwZW9mIGVsZW1lbnQucHJvcGVydGllcyA9PT0gJ29iamVjdCcgJiYgZWxlbWVudC5wcm9wZXJ0aWVzICE9PSBudWxsID8gZWxlbWVudC5wcm9wZXJ0aWVzIDoge307XG4gICAgY29uc3QgY3VycmVudFpJbmRleCA9IGVsZW1lbnRQcm9wcy56SW5kZXggPz8gZWxlbWVudC56SW5kZXggPz8gMTtcbiAgICBcbiAgICAvLyBHdWFyZGFyIHpJbmRleCBvcmlnaW5hbCBzaSBubyBlc3TDoSBndWFyZGFkb1xuICAgIGlmICghb3JpZ2luYWxaSW5kZXhSZWYuY3VycmVudC5oYXMoZWxlbWVudElkKSkge1xuICAgICAgb3JpZ2luYWxaSW5kZXhSZWYuY3VycmVudC5zZXQoZWxlbWVudElkLCBjdXJyZW50WkluZGV4KTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2FsY3VsYXIgbnVldm8gekluZGV4OiB0cmFlciBhbCBmcmVudGUgdGVtcG9yYWxtZW50ZVxuICAgIGNvbnN0IG1heFpJbmRleCA9IGdldE5leHRaSW5kZXgoKTtcbiAgICBjb25zdCBuZXdaSW5kZXggPSBpc0ZpcnN0TGF5ZXIgXG4gICAgICA/IE1hdGgubWF4KG1heFpJbmRleCAtIDEwMCwgMTAwMCkgLy8gUHJpbWVyYSBjYXBhOiBtw61uaW1vIDEwMDBcbiAgICAgIDogbWF4WkluZGV4OyAvLyBPdHJvcyBlbGVtZW50b3M6IG3DoXhpbW8gZGlzcG9uaWJsZVxuICAgIFxuICAgIC8vIEFjdHVhbGl6YXIgekluZGV4IHBhcmEgdHJhZXIgYWwgZnJlbnRlXG4gICAgdXBkYXRlRWxlbWVudChlbGVtZW50SWQsIHtcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgLi4uZWxlbWVudFByb3BzLFxuICAgICAgICB6SW5kZXg6IG5ld1pJbmRleCxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgXG4gICAgLy8gQWN0aXZhciBlbGVtZW50byBwYXJhIGVkaWNpw7NuXG4gICAgc2V0QWN0aXZhdGVkRWxlbWVudElkKGVsZW1lbnRJZCk7XG4gICAgXG4gICAgLy8gQ2VudHJhciB2aXN0YSBlbiBlbCBlbGVtZW50byBzaSBlc3TDoSBkaXNwb25pYmxlXG4gICAgaWYgKGNhbnZhc1JlZi5jdXJyZW50KSB7XG4gICAgICBjYW52YXNSZWYuY3VycmVudC5jZW50ZXJPbkVsZW1lbnQoZWxlbWVudCk7XG4gICAgfVxuICB9LCBbZWxlbWVudHMsIGdldE5leHRaSW5kZXgsIHVwZGF0ZUVsZW1lbnRdKTtcblxuICAvLyBSZXN0YXVyYXIgekluZGV4IG9yaWdpbmFsIGN1YW5kbyBzZSBkZXNlbGVjY2lvbmEgdW4gZWxlbWVudG9cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWFjdGl2YXRlZEVsZW1lbnRJZCAmJiBvcmlnaW5hbFpJbmRleFJlZi5jdXJyZW50LnNpemUgPiAwKSB7XG4gICAgICAvLyBSZXN0YXVyYXIgekluZGV4IG9yaWdpbmFsIGRlIHRvZG9zIGxvcyBlbGVtZW50b3MgZWRpdGFkb3NcbiAgICAgIG9yaWdpbmFsWkluZGV4UmVmLmN1cnJlbnQuZm9yRWFjaCgob3JpZ2luYWxaSW5kZXgsIGVsZW1lbnRJZCkgPT4ge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHMuZmluZChlbCA9PiBlbC5pZCA9PT0gZWxlbWVudElkKTtcbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50UHJvcHMgPSB0eXBlb2YgZWxlbWVudC5wcm9wZXJ0aWVzID09PSAnb2JqZWN0JyAmJiBlbGVtZW50LnByb3BlcnRpZXMgIT09IG51bGwgPyBlbGVtZW50LnByb3BlcnRpZXMgOiB7fTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50WkluZGV4ID0gZWxlbWVudFByb3BzLnpJbmRleCA/PyBlbGVtZW50LnpJbmRleCA/PyAxO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFNvbG8gcmVzdGF1cmFyIHNpIGVsIHpJbmRleCBhY3R1YWwgZXMgZGlmZXJlbnRlIGFsIG9yaWdpbmFsXG4gICAgICAgICAgaWYgKGN1cnJlbnRaSW5kZXggIT09IG9yaWdpbmFsWkluZGV4KSB7XG4gICAgICAgICAgICB1cGRhdGVFbGVtZW50KGVsZW1lbnRJZCwge1xuICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgLi4uZWxlbWVudFByb3BzLFxuICAgICAgICAgICAgICAgIHpJbmRleDogb3JpZ2luYWxaSW5kZXgsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBMaW1waWFyIGVsIG1hcGEgZGVzcHXDqXMgZGUgcmVzdGF1cmFyXG4gICAgICBvcmlnaW5hbFpJbmRleFJlZi5jdXJyZW50LmNsZWFyKCk7XG4gICAgfVxuICB9LCBbYWN0aXZhdGVkRWxlbWVudElkLCBlbGVtZW50cywgdXBkYXRlRWxlbWVudF0pO1xuXG4gIC8vIEZ1bmNpw7NuIHBhcmEgZXhwb3J0YXIgZWwgdGFibGVybyBjb21wbGV0byBhIFBORyBkZSBhbHRhIHJlc29sdWNpw7NuXG4gIGNvbnN0IGhhbmRsZUV4cG9ydEJvYXJkVG9QbmcgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghY2FudmFzUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICAgICAgdGl0bGU6ICdFcnJvcicsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdObyBzZSBwdWRvIGFjY2VkZXIgYWwgbGllbnpvLicsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIE9idGVuZXIgZWwgY29udGVuZWRvciBkZWwgY2FudmFzXG4gICAgICBjb25zdCBjYW52YXNDb250YWluZXIgPSBjYW52YXNSZWYuY3VycmVudC5nZXRDYW52YXNDb250YWluZXIoKTtcbiAgICAgIGlmICghY2FudmFzQ29udGFpbmVyKSB7XG4gICAgICAgIHRvYXN0KHtcbiAgICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTm8gc2UgcHVkbyBlbmNvbnRyYXIgZWwgY29udGVuZWRvciBkZWwgbGllbnpvLicsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdFeHBvcnRhbmRvLi4uJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdHZW5lcmFuZG8gaW1hZ2VuIFBORyBkZSBhbHRhIHJlc29sdWNpw7NuIGRlbCB0YWJsZXJvIGNvbXBsZXRvLiBFc3RvIHB1ZWRlIHRhcmRhciB1bm9zIHNlZ3VuZG9zLi4uJyxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBPY3VsdGFyIGVsZW1lbnRvcyBkZSBVSSB0ZW1wb3JhbG1lbnRlIHBhcmEgbGEgZXhwb3J0YWNpw7NuXG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2V4cG9ydGluZy10by1wbmcnKTtcblxuICAgICAgLy8gQ2FwdHVyYXIgU09MTyBlbCDDoXJlYSB2aXNpYmxlIGRlbCB1c3VhcmlvICh2aWV3cG9ydCkgLSBVc2FyIG1pc21hIGzDs2dpY2EgZGUgYWx0YSByZXNvbHVjacOzbiBxdWUgY3VhZGVybm9zXG4gICAgICBjb25zdCBzY3JvbGxMZWZ0ID0gY2FudmFzQ29udGFpbmVyLnNjcm9sbExlZnQ7XG4gICAgICBjb25zdCBzY3JvbGxUb3AgPSBjYW52YXNDb250YWluZXIuc2Nyb2xsVG9wO1xuICAgICAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IGNhbnZhc0NvbnRhaW5lci5jbGllbnRXaWR0aDtcbiAgICAgIGNvbnN0IHZpZXdwb3J0SGVpZ2h0ID0gY2FudmFzQ29udGFpbmVyLmNsaWVudEhlaWdodDtcbiAgICAgIGNvbnN0IHNjYWxlID0gMzsgLy8gQWx0YSByZXNvbHVjacOzbiAobWlzbWEgcXVlIGN1YWRlcm5vcykgLSBjYXB0YW5kbyB0b2RvcyBsb3MgZGV0YWxsZXNcbiAgICAgIFxuICAgICAgLy8gT2J0ZW5lciBlbCByZWN0w6FuZ3VsbyBkZWwgY29udGVuZWRvciBwYXJhIGNhbGN1bGFyIGxhIHBvc2ljacOzbiByZWxhdGl2YVxuICAgICAgY29uc3QgY29udGFpbmVyUmVjdCA9IGNhbnZhc0NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIFxuICAgICAgY29uc3QgY2FudmFzID0gYXdhaXQgaHRtbDJjYW52YXMoY2FudmFzQ29udGFpbmVyLCB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM5NmU0ZTYnLFxuICAgICAgICBzY2FsZTogc2NhbGUsXG4gICAgICAgIHVzZUNPUlM6IHRydWUsXG4gICAgICAgIGxvZ2dpbmc6IGZhbHNlLFxuICAgICAgICBhbGxvd1RhaW50OiBmYWxzZSxcbiAgICAgICAgc2Nyb2xsWDogLXNjcm9sbExlZnQsXG4gICAgICAgIHNjcm9sbFk6IC1zY3JvbGxUb3AsXG4gICAgICAgIHdpZHRoOiB2aWV3cG9ydFdpZHRoLFxuICAgICAgICBoZWlnaHQ6IHZpZXdwb3J0SGVpZ2h0LFxuICAgICAgICB3aW5kb3dXaWR0aDogdmlld3BvcnRXaWR0aCxcbiAgICAgICAgd2luZG93SGVpZ2h0OiB2aWV3cG9ydEhlaWdodCxcbiAgICAgICAgeDogY29udGFpbmVyUmVjdC5sZWZ0ICsgc2Nyb2xsTGVmdCxcbiAgICAgICAgeTogY29udGFpbmVyUmVjdC50b3AgKyBzY3JvbGxUb3AsXG4gICAgICB9KTtcblxuICAgICAgLy8gUmVzdGF1cmFyIGVsZW1lbnRvcyBkZSBVSVxuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdleHBvcnRpbmctdG8tcG5nJyk7XG5cbiAgICAgIC8vIENvbnZlcnRpciBjYW52YXMgYSBibG9iIHkgZGVzY2FyZ2FyXG4gICAgICBjYW52YXMudG9CbG9iKChibG9iOiBCbG9iIHwgbnVsbCkgPT4ge1xuICAgICAgICBpZiAoIWJsb2IpIHtcbiAgICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgICAgICAgdGl0bGU6ICdFcnJvcicsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ05vIHNlIHB1ZG8gZ2VuZXJhciBsYSBpbWFnZW4uJyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhciBVUkwgdGVtcG9yYWwgeSBkZXNjYXJnYXJcbiAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgbGluay5ocmVmID0gdXJsO1xuICAgICAgICBjb25zdCBib2FyZE5hbWUgPSBib2FyZD8ubmFtZSB8fCAndGFibGVybyc7XG4gICAgICAgIGxpbmsuZG93bmxvYWQgPSBgJHtib2FyZE5hbWV9XyR7RGF0ZS5ub3coKX0ucG5nYDtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgICAgbGluay5jbGljaygpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG5cbiAgICAgICAgLy8gTW9zdHJhciB0b2FzdCBkZSDDqXhpdG9cbiAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgIHRpdGxlOiAnRXhwb3J0YWRvJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0VsIHRhYmxlcm8gc2UgaGEgZXhwb3J0YWRvIGNvbW8gUE5HIGRlIGFsdGEgcmVzb2x1Y2nDs24uJyxcbiAgICAgICAgfSk7XG4gICAgICB9LCAnaW1hZ2UvcG5nJywgMS4wKTsgLy8gQ2FsaWRhZCBtw6F4aW1hXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdleHBvcnRpbmctdG8tcG5nJyk7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBleHBvcnRhciB0YWJsZXJvOicsIGVycm9yKTtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgICAgdGl0bGU6ICdFcnJvcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlIHx8ICdObyBzZSBwdWRvIGV4cG9ydGFyIGVsIHRhYmxlcm8uJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2NhbnZhc1JlZiwgYm9hcmQsIHRvYXN0XSk7XG5cbiAgLy8gLS0gUkVOREVSIC0tXG4gIFxuICAvLyBERUJVRzogTG9nIGRlbCBlc3RhZG8gYW50ZXMgZGUgY3VhbHF1aWVyIHJldHVyblxuICBjb25zb2xlLmxvZygn8J+OqCBbQm9hcmRQYWdlXSBSZW5kZXI6Jywge1xuICAgIGJvYXJkSWQsXG4gICAgaGFzVXNlcjogISF1c2VyLFxuICAgIHVzZXJJZDogdXNlcj8udWlkLFxuICAgIGlzQW5vbnltb3VzOiB1c2VyPy5pc0Fub255bW91cyxcbiAgICBhdXRoTG9hZGluZyxcbiAgICBpc0JvYXJkTG9hZGluZyxcbiAgICBoYXNCb2FyZDogISFib2FyZCxcbiAgICBzZXNzaW9uU3RvcmFnZTogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB7XG4gICAgICBoYXNSZWNlbnRMb2dpbjogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnaGFzUmVjZW50TG9naW4nKSxcbiAgICAgIGxvZ2luVGltZXN0YW1wOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdsb2dpblRpbWVzdGFtcCcpLFxuICAgICAgcmVkaXJlY3RpbmdUb0JvYXJkOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdyZWRpcmVjdGluZ1RvQm9hcmQnKVxuICAgIH0gOiAnTi9BIChTU1IpJ1xuICB9KTtcblxuICAvLyBNb3N0cmFyIGxvYWRpbmcgbWllbnRyYXMgYXV0aCBlc3TDoSBjYXJnYW5kb1xuICBpZiAoYXV0aExvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtc2NyZWVuIHctZnVsbCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIiBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6ICcjOTZlNGU2JyB9fT5cbiAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwiaC04IHctOCBhbmltYXRlLXNwaW4gdGV4dC1zbGF0ZS05MDBcIiAvPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC00IHRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMFwiPlZlcmlmaWNhbmRvIGF1dGVudGljYWNpw7NuLi4uPC9wPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIFNpIG5vIGhheSB1c3VhcmlvIGRlc3B1w6lzIGRlIGNhcmdhciwgdmVyaWZpY2FyIGxvZ2luIHJlY2llbnRlIGFudGVzIGRlIHJlZGlyaWdpclxuICBpZiAoIXVzZXIpIHtcbiAgICAvLyBWZXJpZmljYXIgc2kgaGF5IGxvZ2luIHJlY2llbnRlIChwYXJhIHVzdWFyaW9zIGFuw7NuaW1vcyBkZXNwdcOpcyBkZSByZWRpcmVjdClcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IGhhc1JlY2VudExvZ2luID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnaGFzUmVjZW50TG9naW4nKSA9PT0gJ3RydWUnO1xuICAgICAgY29uc3QgbG9naW5UaW1lc3RhbXAgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdsb2dpblRpbWVzdGFtcCcpO1xuICAgICAgY29uc3QgcmVkaXJlY3RpbmdUb0JvYXJkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncmVkaXJlY3RpbmdUb0JvYXJkJyk7XG4gICAgICBjb25zdCBpc0xvZ2luUmVjZW50ID0gaGFzUmVjZW50TG9naW4gJiYgbG9naW5UaW1lc3RhbXAgJiYgKERhdGUubm93KCkgLSBwYXJzZUludChsb2dpblRpbWVzdGFtcCkpIDwgNjAwMDA7XG4gICAgICBcbiAgICAgIGlmIChpc0xvZ2luUmVjZW50KSB7XG4gICAgICAgIC8vIE1vc3RyYXIgbG9hZGluZyBtaWVudHJhcyBlc3BlcmFtb3MgcXVlIEZpcmViYXNlIEF1dGggcmVzdGF1cmUgZWwgdXN1YXJpbyBhbsOzbmltb1xuICAgICAgICBjb25zb2xlLmxvZygn4o+zIFtCb2FyZFBhZ2VdIFJlbmRlcjogTG9naW4gcmVjaWVudGUgZGV0ZWN0YWRvLCBlc3BlcmFuZG8gdXN1YXJpby4uLicsIHtcbiAgICAgICAgICBoYXNSZWNlbnRMb2dpbixcbiAgICAgICAgICBsb2dpblRpbWVzdGFtcCxcbiAgICAgICAgICByZWRpcmVjdGluZ1RvQm9hcmQsXG4gICAgICAgICAgYm9hcmRJZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC1zY3JlZW4gdy1mdWxsIGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogJyM5NmU0ZTYnIH19PlxuICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwiaC04IHctOCBhbmltYXRlLXNwaW4gdGV4dC1zbGF0ZS05MDBcIiAvPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtNCB0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDBcIj5DYXJnYW5kbyB0dSB0YWJsZXJvLi4uPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBTaSBubyBoYXkgbG9naW4gcmVjaWVudGUsIHJlZGlyaWdpclxuICAgIGNvbnNvbGUubG9nKCfimqDvuI8gW0JvYXJkUGFnZV0gUmVuZGVyOiBObyBoYXkgdXN1YXJpbyB5IG5vIGhheSBsb2dpbiByZWNpZW50ZSwgcmVkaXJpZ2llbmRvLi4uJyk7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpO1xuICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnLycpO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtc2NyZWVuIHctZnVsbCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIiBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6ICcjY2FlM2UxJyB9fT5cbiAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwiaC04IHctOCBhbmltYXRlLXNwaW4gdGV4dC1zbGF0ZS05MDBcIiAvPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC00IHRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMFwiPlJlZGlyaWdpZW5kby4uLjwvcD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoaXNCb2FyZExvYWRpbmcgfHwgYm9hcmRJZCA9PT0gJ25ldycpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtc2NyZWVuIHctZnVsbCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIiBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6ICcjNzVlOGNlJyB9fT5cbiAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwiaC04IHctOCBhbmltYXRlLXNwaW4gdGV4dC1zbGF0ZS05MDBcIiAvPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC00IHRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMFwiPkNhcmdhbmRvIHR1IGxpZW56by4uLjwvcD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoZXJyb3IpIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInAtMTAgdGV4dC1yZWQtNTAwXCI+RXJyb3I6IHtlcnJvcn08L2Rpdj47XG4gIFxuICAvLyBTaSBubyBoYXkgdGFibGVybyBwZXJvIGhheSB1c3VhcmlvLCBtb3N0cmFyIGxvYWRpbmcgbWllbnRyYXMgc2UgY2FyZ2FcbiAgaWYgKCFib2FyZCAmJiB1c2VyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLXNjcmVlbiB3LWZ1bGwgZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCIgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiAnI2NhZTNlMScgfX0+XG4gICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cImgtOCB3LTggYW5pbWF0ZS1zcGluIHRleHQtc2xhdGUtOTAwXCIgLz5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtNCB0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDBcIj5DYXJnYW5kbyB0dSB0YWJsZXJvLi4uPC9wPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuICBcbiAgLy8gU2kgbm8gaGF5IHRhYmxlcm8geSBubyBoYXkgdXN1YXJpbywgeWEgc2UgbWFuZWrDsyBhcnJpYmFcbiAgaWYgKCFib2FyZCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPFJlbmFtZUJvYXJkRGlhbG9nXG4gICAgICAgIGlzT3Blbj17aXNSZW5hbWVCb2FyZERpYWxvZ09wZW59XG4gICAgICAgIG9uT3BlbkNoYW5nZT17c2V0SXNSZW5hbWVCb2FyZERpYWxvZ09wZW59XG4gICAgICAgIGN1cnJlbnRCb2FyZE5hbWU9e2JvYXJkPy5uYW1lIHx8ICdTaW4gbm9tYnJlJ31cbiAgICAgICAgb25TYXZlPXtoYW5kbGVTYXZlUmVuYW1lQm9hcmR9XG4gICAgICAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLXNjcmVlbiB3LXNjcmVlbiByZWxhdGl2ZSBiZy1bIzNiM2IzYl0gb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICBcbiAgICAgIHsvKiAxLiBMSUVOWk8gSU5GSU5JVE8gKi99XG4gICAgICA8Q2FudmFzXG4gICAgICAgIHJlZj17Y2FudmFzUmVmfVxuICAgICAgICBlbGVtZW50cz17ZWxlbWVudHMgYXMgV2l0aElkPENhbnZhc0VsZW1lbnQ+W119XG4gICAgICAgIGJvYXJkPXtib2FyZCBhcyBXaXRoSWQ8Qm9hcmQ+fVxuICAgICAgICBzZWxlY3RlZEVsZW1lbnRJZHM9e3NlbGVjdGVkRWxlbWVudElkc31cbiAgICAgICAgb25TZWxlY3RFbGVtZW50PXtoYW5kbGVTZWxlY3RFbGVtZW50fVxuICAgICAgICB1cGRhdGVFbGVtZW50PXt1cGRhdGVFbGVtZW50fVxuICAgICAgICBkZWxldGVFbGVtZW50PXtkZWxldGVFbGVtZW50fVxuICAgICAgICB1bmFuY2hvckVsZW1lbnQ9eyhpZCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50cy5maW5kKGVsID0+IGVsLmlkID09PSBpZCk7XG4gICAgICAgICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5wYXJlbnRJZCkge1xuICAgICAgICAgICAgdXBkYXRlRWxlbWVudChpZCwgeyBwYXJlbnRJZDogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfX1cbiAgICAgICAgYWRkRWxlbWVudD17YWRkRWxlbWVudH1cbiAgICAgICAgXG4gICAgICAgIC8vIEludGVyYWNjaW9uZXNcbiAgICAgICAgb25Mb2NhdGVFbGVtZW50PXtoYW5kbGVMb2NhdGVFbGVtZW50fVxuICAgICAgICBvbkZvcm1hdFRvZ2dsZT17aGFuZGxlRm9ybWF0VG9nZ2xlfVxuICAgICAgICBvbkNoYW5nZU5vdGVwYWRGb3JtYXQ9e2hhbmRsZUNoYW5nZU5vdGVwYWRGb3JtYXR9XG4gICAgICAgIG9uRWRpdEVsZW1lbnQ9e2hhbmRsZUVkaXRFbGVtZW50fVxuICAgICAgICBcbiAgICAgICAgLy8gRXN0YWRvXG4gICAgICAgIHNlbGVjdGVkRWxlbWVudD17c2VsZWN0ZWRFbGVtZW50fVxuICAgICAgICBhY3RpdmF0ZWRFbGVtZW50SWQ9e2FjdGl2YXRlZEVsZW1lbnRJZH1cbiAgICAgICAgaXNNb2JpbGU9e2lzTW9iaWxlfVxuICAgICAgICBzZXRJc0RpcnR5PXtzZXRJc0RpcnR5fVxuICAgICAgICBpc0xpc3RlbmluZz17aXNEaWN0YXRpb25MaXN0ZW5pbmd9XG4gICAgICAgIGxpdmVUcmFuc2NyaXB0PXtsaXZlVHJhbnNjcmlwdH1cbiAgICAgICAgZmluYWxUcmFuc2NyaXB0PXtmaW5hbFRyYW5zY3JpcHR9XG4gICAgICAgIGludGVyaW1UcmFuc2NyaXB0PXtpbnRlcmltVHJhbnNjcmlwdH1cbiAgICAgICAgXG4gICAgICAgIC8vIFBsYWNlaG9sZGVycyBwYXJhIHByb3BzIHJlcXVlcmlkYXMgcG9yIENhbnZhcyBhbnRpZ3VvXG4gICAgICAgIG9uQnJpbmdUb0Zyb250PXsoKSA9PiB7fX1cbiAgICAgICAgb25TZW5kVG9CYWNrPXsoKSA9PiB7fX1cbiAgICAgICAgb25Nb3ZlQmFja3dhcmQ9eygpID0+IHt9fVxuICAgICAgICBvbkdvVG9Ib21lPXsoKSA9PiBjYW52YXNSZWYuY3VycmVudD8uZ29Ub0hvbWUoKX1cbiAgICAgICAgb25DZW50ZXJWaWV3PXsoKSA9PiB7fX1cbiAgICAgICAgb25Hcm91cEVsZW1lbnRzPXsoKSA9PiB7fX1cbiAgICAgICAgc2F2ZUxhc3RWaWV3PXsoKSA9PiB7fX1cbiAgICAgICAgb25BY3RpdmF0ZURyYWc9eygpID0+IHt9fVxuICAgICAgICBvbkVkaXRDb21tZW50PXtoYW5kbGVFZGl0Q29tbWVudH1cbiAgICAgICAgb25EdXBsaWNhdGVFbGVtZW50PXsoKSA9PiB7fX1cbiAgICAgICAgb25Vbmdyb3VwPXsoKSA9PiB7fX1cbiAgICAgIC8+XG4gICAgICBcbiAgICAgIHsvKiAyLiBNRU7DmiBQUklOQ0lQQUwgKE1hcGVvIGRlIGZ1bmNpb25lcyBhbCBudWV2byBUb29sc1NpZGViYXIgXCJCbGluZGFkb1wiKSAqL31cbiAgICAgIDxUb29sc1NpZGViYXJcbiAgICAgICAgZWxlbWVudHM9e2VsZW1lbnRzIHx8IFtdfVxuICAgICAgICBib2FyZHM9e2JvYXJkcyB8fCBbXX1cbiAgICAgICAgb25VcGxvYWRJbWFnZT17aGFuZGxlVXBsb2FkSW1hZ2V9XG4gICAgICAgIG9uQWRkSW1hZ2VGcm9tVXJsPXsoKSA9PiBzZXRJc0ltYWdlVXJsRGlhbG9nT3Blbih0cnVlKX1cbiAgICAgICAgb25QYW5Ub2dnbGU9eygpID0+IGNhbnZhc1JlZi5jdXJyZW50Py5hY3RpdmF0ZVBhbk1vZGUoKX1cbiAgICAgICAgb25SZW5hbWVCb2FyZD17aGFuZGxlUmVuYW1lQm9hcmRXcmFwcGVyfVxuICAgICAgICBvbkRlbGV0ZUJvYXJkPXtoYW5kbGVEZWxldGVCb2FyZH1cbiAgICAgICAgaXNMaXN0ZW5pbmc9e2lzRGljdGF0aW9uTGlzdGVuaW5nfVxuICAgICAgICBvblRvZ2dsZURpY3RhdGlvbj17aGFuZGxlVG9nZ2xlRGljdGF0aW9ufVxuICAgICAgICBvbk9wZW5Ob3RlcGFkPXtoYW5kbGVPcGVuTm90ZXBhZH1cbiAgICAgICAgb25Mb2NhdGVFbGVtZW50PXtoYW5kbGVMb2NhdGVFbGVtZW50fVxuICAgICAgICBhZGRFbGVtZW50PXthZGRFbGVtZW50fVxuICAgICAgICBjbGVhckNhbnZhcz17Y2xlYXJDYW52YXNXcmFwcGVyfVxuICAgICAgICBvbkV4cG9ydEJvYXJkVG9Qbmc9e2hhbmRsZUV4cG9ydEJvYXJkVG9Qbmd9XG4gICAgICAgIG9uRm9ybWF0VG9nZ2xlPXtoYW5kbGVGb3JtYXRUb2dnbGV9XG4gICAgICAgIGlzRm9ybWF0VG9vbGJhck9wZW49e2lzRm9ybWF0VG9vbGJhck9wZW59XG4gICAgICAvPlxuXG4gICAgICB7LyogMy4gQkFSUkEgREUgRk9STUFUTyAqL31cbiAgICAgIDxGb3JtYXR0aW5nVG9vbGJhclxuICAgICAgICBpc09wZW49e2lzRm9ybWF0VG9vbGJhck9wZW59XG4gICAgICAgIG9uQ2xvc2U9eygpID0+IHNldElzRm9ybWF0VG9vbGJhck9wZW4oZmFsc2UpfVxuICAgICAgICBlbGVtZW50cz17c2VsZWN0ZWRFbGVtZW50ID8gW3NlbGVjdGVkRWxlbWVudF0gOiBbXX1cbiAgICAgICAgb25BZGRDb21tZW50PXtoYW5kbGVBZGRNYXJrZXJ9XG4gICAgICAgIG9uRWRpdENvbW1lbnQ9e2hhbmRsZUVkaXRDb21tZW50fVxuICAgICAgICBpc01vYmlsZVNoZWV0PXtpc01vYmlsZX1cbiAgICAgICAgb25Mb2NhdGVFbGVtZW50PXtoYW5kbGVMb2NhdGVFbGVtZW50fVxuICAgICAgICBvblBhblRvZ2dsZT17KCkgPT4ge1xuICAgICAgICAgIHNldElzUGFubmluZ0FjdGl2ZShwcmV2ID0+ICFwcmV2KTtcbiAgICAgICAgICBjYW52YXNSZWYuY3VycmVudD8uYWN0aXZhdGVQYW5Nb2RlKCk7XG4gICAgICAgIH19XG4gICAgICAgIGFkZEVsZW1lbnQ9e2FkZEVsZW1lbnR9XG4gICAgICAgIGlzUGFubmluZ0FjdGl2ZT17aXNQYW5uaW5nQWN0aXZlfVxuICAgICAgLz5cblxuICAgICAgey8qIDQuIERJw4FMT0dPUyAqL31cbiAgICAgIDxDaGFuZ2VGb3JtYXREaWFsb2dcbiAgICAgICAgaXNPcGVuPXtjaGFuZ2VGb3JtYXREaWFsb2dPcGVufVxuICAgICAgICBvbk9wZW5DaGFuZ2U9e3NldENoYW5nZUZvcm1hdERpYWxvZ09wZW59XG4gICAgICAgIG5vdGVwYWQ9e3NlbGVjdGVkTm90ZXBhZEZvckZvcm1hdH1cbiAgICAgICAgb25TYXZlRm9ybWF0PXtoYW5kbGVTYXZlRm9ybWF0fVxuICAgICAgLz5cblxuICAgICAgPEFkZEltYWdlRnJvbVVybERpYWxvZ1xuICAgICAgICBpc09wZW49e2lzSW1hZ2VVcmxEaWFsb2dPcGVufVxuICAgICAgICBvbk9wZW5DaGFuZ2U9e3NldElzSW1hZ2VVcmxEaWFsb2dPcGVufVxuICAgICAgICBvbkFkZEltYWdlPXthc3luYyAodXJsKSA9PiB7XG4gICAgICAgICAgYXdhaXQgYWRkRWxlbWVudCgnaW1hZ2UnLCB7IGNvbnRlbnQ6IHsgdXJsIH0sIHByb3BlcnRpZXM6IHsgc2l6ZTogeyB3aWR0aDogMzAwLCBoZWlnaHQ6IDIwMCB9IH0gfSk7XG4gICAgICAgICAgc2V0SXNJbWFnZVVybERpYWxvZ09wZW4oZmFsc2UpO1xuICAgICAgICB9fVxuICAgICAgLz5cblxuXG4gICAgICB7LyogRGnDoWxvZ28gZGUgZWRpY2nDs24gZGUgY29tZW50YXJpb3MgKi99XG4gICAgICB7c2VsZWN0ZWRDb21tZW50Rm9yRWRpdCAmJiAoXG4gICAgICAgIDxFZGl0Q29tbWVudERpYWxvZ1xuICAgICAgICAgIGlzT3Blbj17aXNFZGl0Q29tbWVudERpYWxvZ09wZW59XG4gICAgICAgICAgb25PcGVuQ2hhbmdlPXtzZXRJc0VkaXRDb21tZW50RGlhbG9nT3Blbn1cbiAgICAgICAgICBjb21tZW50PXtzZWxlY3RlZENvbW1lbnRGb3JFZGl0fVxuICAgICAgICAgIG9uVXBkYXRlPXt1cGRhdGVFbGVtZW50fVxuICAgICAgICAgIG9uRGVsZXRlPXtkZWxldGVFbGVtZW50fVxuICAgICAgICAvPlxuICAgICAgKX1cblxuICAgICAgey8qIFBhbmVsIGRlIGluZm9ybWFjacOzbiBkZWwgZWxlbWVudG8gKE9wY2nDs24gNCkgKi99XG4gICAgICA8RWxlbWVudEluZm9QYW5lbFxuICAgICAgICBlbGVtZW50PXtzZWxlY3RlZEVsZW1lbnR9XG4gICAgICAgIGlzVmlzaWJsZT17aXNJbmZvUGFuZWxWaXNpYmxlICYmICEhc2VsZWN0ZWRFbGVtZW50fVxuICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRJc0luZm9QYW5lbFZpc2libGUoZmFsc2UpfVxuICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvPlxuICApO1xufSJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VNZW1vIiwidXNlUm91dGVyIiwiTG9hZGVyMiIsInVzZVVzZXIiLCJ1c2VTdG9yYWdlIiwidXNlQm9hcmRTdG9yZSIsInVzZUJvYXJkU3RhdGUiLCJ1c2VFbGVtZW50TWFuYWdlciIsInVzZU1lZGlhUXVlcnkiLCJ1c2VUb2FzdCIsInVwbG9hZEZpbGUiLCJodG1sMmNhbnZhcyIsIkNhbnZhcyIsIlRvb2xzU2lkZWJhciIsIkZvcm1hdHRpbmdUb29sYmFyIiwiQWRkSW1hZ2VGcm9tVXJsRGlhbG9nIiwiQ2hhbmdlRm9ybWF0RGlhbG9nIiwiRWRpdENvbW1lbnREaWFsb2ciLCJFbGVtZW50SW5mb1BhbmVsIiwiUmVuYW1lQm9hcmREaWFsb2ciLCJ1c2VEaWN0YXRpb24iLCJCb2FyZFBhZ2UiLCJwYXJhbXMiLCJib2FyZElkIiwicm91dGVyIiwidXNlciIsImlzVXNlckxvYWRpbmciLCJhdXRoTG9hZGluZyIsInVzZXJFcnJvciIsInN0b3JhZ2UiLCJ0b2FzdCIsImlzTW9iaWxlIiwiY29uc29sZSIsImxvZyIsImhhc1VzZXIiLCJ1c2VySWQiLCJ1aWQiLCJpc0Fub255bW91cyIsInBhdGhuYW1lIiwid2luZG93IiwibG9jYXRpb24iLCJsb2FkQm9hcmRSZWYiLCJjcmVhdGVCb2FyZFJlZiIsImNsZWFudXBSZWYiLCJ0b2FzdFJlZiIsImN1cnJlbnQiLCJtZXNzYWdlIiwidXNlckVtYWlsIiwiZW1haWwiLCJzZXNzaW9uU3RvcmFnZSIsImhhc1JlY2VudExvZ2luIiwiZ2V0SXRlbSIsImxvZ2luVGltZXN0YW1wIiwicmVkaXJlY3RpbmdUb0JvYXJkIiwiZWxlbWVudHMiLCJib2FyZCIsImxvYWRCb2FyZCIsImNyZWF0ZUJvYXJkIiwidXBkYXRlRWxlbWVudCIsImRlbGV0ZUVsZW1lbnQiLCJzZWxlY3RlZEVsZW1lbnRJZHMiLCJzZXRTZWxlY3RlZEVsZW1lbnRJZHMiLCJpc0xvYWRpbmciLCJpc0JvYXJkTG9hZGluZyIsImVycm9yIiwiY2xlYW51cCIsImJvYXJkcyIsImhhbmRsZVJlbmFtZUJvYXJkIiwiaGFuZGxlRGVsZXRlQm9hcmQiLCJjbGVhckNhbnZhcyIsImNhbnZhc1JlZiIsImhhbmRsZVJlbmFtZUJvYXJkV3JhcHBlciIsInNldElzUmVuYW1lQm9hcmREaWFsb2dPcGVuIiwiaGFuZGxlU2F2ZVJlbmFtZUJvYXJkIiwibmV3TmFtZSIsImNsZWFyQ2FudmFzV3JhcHBlciIsImlzRm9ybWF0VG9vbGJhck9wZW4iLCJzZXRJc0Zvcm1hdFRvb2xiYXJPcGVuIiwiaXNJbWFnZVVybERpYWxvZ09wZW4iLCJzZXRJc0ltYWdlVXJsRGlhbG9nT3BlbiIsImNoYW5nZUZvcm1hdERpYWxvZ09wZW4iLCJzZXRDaGFuZ2VGb3JtYXREaWFsb2dPcGVuIiwiaXNQYW5uaW5nQWN0aXZlIiwic2V0SXNQYW5uaW5nQWN0aXZlIiwiaXNSZW5hbWVCb2FyZERpYWxvZ09wZW4iLCJzZWxlY3RlZEVsZW1lbnQiLCJzZXRTZWxlY3RlZEVsZW1lbnQiLCJhY3RpdmF0ZWRFbGVtZW50SWQiLCJzZXRBY3RpdmF0ZWRFbGVtZW50SWQiLCJzZWxlY3RlZE5vdGVwYWRGb3JGb3JtYXQiLCJzZXRTZWxlY3RlZE5vdGVwYWRGb3JGb3JtYXQiLCJpc0RpcnR5Iiwic2V0SXNEaXJ0eSIsImlzRWRpdENvbW1lbnREaWFsb2dPcGVuIiwic2V0SXNFZGl0Q29tbWVudERpYWxvZ09wZW4iLCJzZWxlY3RlZENvbW1lbnRGb3JFZGl0Iiwic2V0U2VsZWN0ZWRDb21tZW50Rm9yRWRpdCIsIm9yaWdpbmFsWkluZGV4UmVmIiwiTWFwIiwiaXNJbmZvUGFuZWxWaXNpYmxlIiwic2V0SXNJbmZvUGFuZWxWaXNpYmxlIiwiaXNTdXBwb3J0ZWQiLCJpc0RpY3RhdGlvblN1cHBvcnRlZCIsImlzTGlzdGVuaW5nIiwiaXNEaWN0YXRpb25MaXN0ZW5pbmciLCJ0cmFuc2NyaXB0IiwiZmluYWxUcmFuc2NyaXB0IiwiaW50ZXJpbVRyYW5zY3JpcHQiLCJwZXJtaXNzaW9uRXJyb3IiLCJ0b2dnbGUiLCJ0b2dnbGVEaWN0YXRpb24iLCJsaXZlVHJhbnNjcmlwdCIsImZpbmFsIiwiaW50ZXJpbSIsInRyaW0iLCJoYW5kbGVUb2dnbGVEaWN0YXRpb24iLCJ2YXJpYW50IiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImR1cmF0aW9uIiwiZ2V0Vmlld3BvcnRDZW50ZXIiLCJjZW50ZXIiLCJ4IiwiaW5uZXJXaWR0aCIsInkiLCJpbm5lckhlaWdodCIsImVsZW1lbnRzUmVmIiwiZ2V0TmV4dFpJbmRleCIsImN1cnJlbnRFbGVtZW50cyIsImxlbmd0aCIsInpJbmRleGVzIiwiZmlsdGVyIiwiZSIsInpJbmRleCIsIm1hcCIsIk1hdGgiLCJtYXgiLCJhZGRFbGVtZW50Iiwic2VsZWN0ZWRFbGVtZW50SWQiLCJmb3VuZEVsZW1lbnQiLCJmaW5kIiwiZWwiLCJpZCIsInByb2Nlc3MiLCJ0eXBlIiwicG9zaXRpb24iLCJwcm9wZXJ0aWVzIiwic2l6ZSIsIndpZHRoIiwiaGVpZ2h0IiwicGFyZW50SWQiLCJERUJVR19FTEVNRU5UUyIsImhhbmRsZUtleURvd24iLCJjdHJsS2V5IiwibWV0YUtleSIsInNoaWZ0S2V5Iiwia2V5IiwicHJldmVudERlZmF1bHQiLCJwcmV2IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYXNMb2FkZWRSZWYiLCJpc0xvYWRpbmdSZWYiLCJ3YWl0VGltZXJSZWYiLCJjdXJyZW50Qm9hcmRJZFJlZiIsImhhc0xvYWRlZCIsImN1cnJlbnRCb2FyZElkIiwib2xkIiwibmV3IiwiY2xlYXJUaW1lb3V0IiwiaXNMb2dpblJlY2VudCIsIkRhdGUiLCJub3ciLCJwYXJzZUludCIsImNsZWFyIiwibG9jYWxTdG9yYWdlIiwicmVwbGFjZSIsIndhaXRUaW1lIiwic2V0VGltZW91dCIsInJlbW92ZUl0ZW0iLCJ0aGVuIiwibmV3Qm9hcmRJZCIsInNldEl0ZW0iLCJ0b1N0cmluZyIsImhyZWYiLCJjYXRjaCIsImxvYWRlZEJvYXJkSWQiLCJoYW5kbGVTZWxlY3RFbGVtZW50IiwiZWxlbWVudElkIiwiaXNNdWx0aVNlbGVjdCIsImhhbmRsZVVwbG9hZEltYWdlIiwiaW5wdXQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhY2NlcHQiLCJvbmNoYW5nZSIsImZpbGUiLCJ0YXJnZXQiLCJmaWxlcyIsInVwbG9hZFJlc3VsdCIsInVybCIsImNvbnRlbnQiLCJjbGljayIsImhhbmRsZUZvcm1hdFRvZ2dsZSIsImhhbmRsZUFkZE1hcmtlciIsInZpZXdwb3J0Q2VudGVyIiwibGFiZWwiLCJ0ZXh0IiwiaGFuZGxlTG9jYXRlRWxlbWVudCIsImVsZW1lbnQiLCJjZW50ZXJPbkVsZW1lbnQiLCJoYW5kbGVPcGVuTm90ZXBhZCIsImhpZGRlbiIsImhhbmRsZUNoYW5nZU5vdGVwYWRGb3JtYXQiLCJoYW5kbGVTYXZlRm9ybWF0IiwiZm9ybWF0IiwibmV3U2l6ZSIsImhhbmRsZUVkaXRDb21tZW50IiwiY29tbWVudCIsImhhbmRsZUVkaXRFbGVtZW50IiwiZmlyc3RMYXllclR5cGVzIiwiaXNGaXJzdExheWVyIiwiaW5jbHVkZXMiLCJlbGVtZW50UHJvcHMiLCJjdXJyZW50WkluZGV4IiwiaGFzIiwic2V0IiwibWF4WkluZGV4IiwibmV3WkluZGV4IiwiZm9yRWFjaCIsIm9yaWdpbmFsWkluZGV4IiwiaGFuZGxlRXhwb3J0Qm9hcmRUb1BuZyIsImNhbnZhc0NvbnRhaW5lciIsImdldENhbnZhc0NvbnRhaW5lciIsImJvZHkiLCJjbGFzc0xpc3QiLCJhZGQiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsVG9wIiwidmlld3BvcnRXaWR0aCIsImNsaWVudFdpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJzY2FsZSIsImNvbnRhaW5lclJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjYW52YXMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ1c2VDT1JTIiwibG9nZ2luZyIsImFsbG93VGFpbnQiLCJzY3JvbGxYIiwic2Nyb2xsWSIsIndpbmRvd1dpZHRoIiwid2luZG93SGVpZ2h0IiwibGVmdCIsInRvcCIsInJlbW92ZSIsInRvQmxvYiIsImJsb2IiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJsaW5rIiwiYm9hcmROYW1lIiwibmFtZSIsImRvd25sb2FkIiwiYXBwZW5kQ2hpbGQiLCJyZW1vdmVDaGlsZCIsInJldm9rZU9iamVjdFVSTCIsImhhc0JvYXJkIiwiZGl2IiwiY2xhc3NOYW1lIiwic3R5bGUiLCJwIiwiaXNPcGVuIiwib25PcGVuQ2hhbmdlIiwiY3VycmVudEJvYXJkTmFtZSIsIm9uU2F2ZSIsInJlZiIsIm9uU2VsZWN0RWxlbWVudCIsInVuYW5jaG9yRWxlbWVudCIsInVuZGVmaW5lZCIsIm9uTG9jYXRlRWxlbWVudCIsIm9uRm9ybWF0VG9nZ2xlIiwib25DaGFuZ2VOb3RlcGFkRm9ybWF0Iiwib25FZGl0RWxlbWVudCIsIm9uQnJpbmdUb0Zyb250Iiwib25TZW5kVG9CYWNrIiwib25Nb3ZlQmFja3dhcmQiLCJvbkdvVG9Ib21lIiwiZ29Ub0hvbWUiLCJvbkNlbnRlclZpZXciLCJvbkdyb3VwRWxlbWVudHMiLCJzYXZlTGFzdFZpZXciLCJvbkFjdGl2YXRlRHJhZyIsIm9uRWRpdENvbW1lbnQiLCJvbkR1cGxpY2F0ZUVsZW1lbnQiLCJvblVuZ3JvdXAiLCJvblVwbG9hZEltYWdlIiwib25BZGRJbWFnZUZyb21VcmwiLCJvblBhblRvZ2dsZSIsImFjdGl2YXRlUGFuTW9kZSIsIm9uUmVuYW1lQm9hcmQiLCJvbkRlbGV0ZUJvYXJkIiwib25Ub2dnbGVEaWN0YXRpb24iLCJvbk9wZW5Ob3RlcGFkIiwib25FeHBvcnRCb2FyZFRvUG5nIiwib25DbG9zZSIsIm9uQWRkQ29tbWVudCIsImlzTW9iaWxlU2hlZXQiLCJub3RlcGFkIiwib25TYXZlRm9ybWF0Iiwib25BZGRJbWFnZSIsIm9uVXBkYXRlIiwib25EZWxldGUiLCJpc1Zpc2libGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/board/[boardId]/page.tsx\n"));

/***/ })

});