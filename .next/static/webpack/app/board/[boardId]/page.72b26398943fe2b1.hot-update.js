"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/board/[boardId]/page",{

/***/ "(app-pages-browser)/./src/components/canvas/formatting-toolbar.tsx":
/*!******************************************************!*\
  !*** ./src/components/canvas/formatting-toolbar.tsx ***!
  \******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_rnd__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-rnd */ \"(app-pages-browser)/./node_modules/react-rnd/lib/index.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/map-pin.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/ellipsis-vertical.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/tag.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/type.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/link.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/paintbrush.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/underline.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/bold.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/italic.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/strikethrough.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/align-left.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/align-center.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/align-right.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/align-justify.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/calendar.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/eraser.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/move.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/rectangle-horizontal.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignJustify,AlignLeft,AlignRight,Bold,Calendar,ChevronDown,Eraser,GripVertical,Italic,Link,MapPin,MoreVertical,Move,Paintbrush,RectangleHorizontal,Strikethrough,Tag,Type,Underline,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/grip-vertical.js\");\n/* harmony import */ var _barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=format!=!date-fns */ \"(app-pages-browser)/./node_modules/date-fns/format.mjs\");\n/* harmony import */ var _components_ui_popover__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/popover */ \"(app-pages-browser)/./src/components/ui/popover.tsx\");\n/* harmony import */ var _components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/dropdown-menu */ \"(app-pages-browser)/./src/components/ui/dropdown-menu.tsx\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./src/lib/utils.ts\");\n// src/components/canvas/formatting-toolbar.tsx\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nconst FormattingToolbar = (param)=>{\n    let { isOpen, onClose, onAddComment, onEditComment, isMobileSheet, elements, onLocateElement, onPanToggle, addElement, isPanningActive = false } = param;\n    var _elements_;\n    _s();\n    const [popoverOpen, setPopoverOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [fontSize, setFontSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"18px\");\n    const [rndPosition, setRndPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    });\n    const [linkDialogOpen, setLinkDialogOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [linkUrl, setLinkUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Inicializar posición centrada arriba\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen && !isMobileSheet) {\n            const savedPosition = localStorage.getItem(\"formattingToolbarPosition\");\n            if (savedPosition) {\n                try {\n                    setRndPosition(JSON.parse(savedPosition));\n                } catch (e) {\n                    console.error(\"Failed to load formatting toolbar position\", e);\n                }\n            } else {\n                // Centrar arriba\n                const centerX = (window.innerWidth - 600) / 2; // 600px es el ancho aproximado reducido 20%\n                setRndPosition({\n                    x: centerX,\n                    y: 20\n                });\n            }\n        }\n    }, [\n        isOpen,\n        isMobileSheet\n    ]);\n    const onDragStop = (e, d)=>{\n        const newPosition = {\n            x: d.x,\n            y: d.y\n        };\n        setRndPosition(newPosition);\n        try {\n            localStorage.setItem(\"formattingToolbarPosition\", JSON.stringify(newPosition));\n        } catch (error) {\n            console.error(\"Failed to save formatting toolbar position\", error);\n        }\n    };\n    const handleAddLienzo = async ()=>{\n        if (addElement) {\n            try {\n                await addElement(\"container\", {\n                    content: {\n                        title: \"Lienzo\",\n                        elementIds: []\n                    },\n                    properties: {\n                        position: {\n                            x: 100,\n                            y: 100\n                        },\n                        size: {\n                            width: 794,\n                            height: 1021\n                        },\n                        backgroundColor: \"white\"\n                    }\n                });\n            } catch (error) {\n                console.error(\"Error creating lienzo:\", error);\n            }\n        }\n    };\n    const handleFormat = (e, command, value)=>{\n        e.preventDefault();\n        const selection = window.getSelection();\n        if (!selection || selection.rangeCount === 0) {\n            const activeElement = document.activeElement;\n            if (activeElement && (activeElement.isContentEditable || activeElement.tagName === \"DIV\")) {\n                activeElement.focus();\n                if (value) {\n                    document.execCommand(command, false, value);\n                } else {\n                    document.execCommand(command, false);\n                }\n            }\n            return;\n        }\n        if (value) {\n            document.execCommand(command, false, value);\n        } else {\n            document.execCommand(command, false);\n        }\n        setPopoverOpen(null);\n    };\n    const applyColoredUnderline = (e, color)=>{\n        e.preventDefault();\n        const selection = window.getSelection();\n        if (!selection || selection.rangeCount === 0 || selection.isCollapsed) {\n            return;\n        }\n        const range = selection.getRangeAt(0);\n        const span = document.createElement(\"span\");\n        span.style.textDecoration = \"underline\";\n        span.style.textDecorationColor = color;\n        span.style.textDecorationThickness = \"2px\";\n        span.appendChild(range.extractContents());\n        range.insertNode(span);\n        setPopoverOpen(null);\n    };\n    const applyTextColor = (e, color)=>{\n        e.preventDefault();\n        e.stopPropagation();\n        const selection = window.getSelection();\n        if (!selection || selection.rangeCount === 0) {\n            // Si no hay selección, envolver todo el contenido en un span con el color\n            const activeElement = document.activeElement;\n            if (activeElement && activeElement.isContentEditable) {\n                // Si el elemento ya tiene un solo hijo span con color, actualizar ese span\n                const children = Array.from(activeElement.childNodes);\n                if (children.length === 1 && children[0].nodeType === Node.ELEMENT_NODE) {\n                    const child = children[0];\n                    if (child.tagName === \"SPAN\" && child.style.color) {\n                        child.style.color = color;\n                        activeElement.dispatchEvent(new Event(\"input\", {\n                            bubbles: true\n                        }));\n                        setPopoverOpen(null);\n                        return;\n                    }\n                }\n                // Envolver todo el contenido en un span con el color\n                const span = document.createElement(\"span\");\n                span.style.color = color;\n                while(activeElement.firstChild){\n                    span.appendChild(activeElement.firstChild);\n                }\n                activeElement.appendChild(span);\n                // Mover cursor al final\n                const range = document.createRange();\n                range.selectNodeContents(span);\n                range.collapse(false);\n                if (selection) {\n                    selection.removeAllRanges();\n                    selection.addRange(range);\n                }\n                activeElement.dispatchEvent(new Event(\"input\", {\n                    bubbles: true\n                }));\n            }\n            setPopoverOpen(null);\n            return;\n        }\n        if (selection.isCollapsed) {\n            // Si solo hay cursor, envolver el contenido del elemento en un span con el color\n            const range = selection.getRangeAt(0);\n            const container = range.commonAncestorContainer;\n            const element = container.nodeType === Node.TEXT_NODE ? container.parentElement : container;\n            if (element && element.isContentEditable) {\n                // Verificar si ya tiene un span con color\n                const children = Array.from(element.childNodes);\n                if (children.length === 1 && children[0].nodeType === Node.ELEMENT_NODE) {\n                    const child = children[0];\n                    if (child.tagName === \"SPAN\" && child.style.color) {\n                        child.style.color = color;\n                        element.dispatchEvent(new Event(\"input\", {\n                            bubbles: true\n                        }));\n                        setPopoverOpen(null);\n                        return;\n                    }\n                }\n                // Envolver contenido en span con color\n                const span = document.createElement(\"span\");\n                span.style.color = color;\n                while(element.firstChild){\n                    span.appendChild(element.firstChild);\n                }\n                element.appendChild(span);\n                // Mover cursor al final\n                const newRange = document.createRange();\n                newRange.selectNodeContents(span);\n                newRange.collapse(false);\n                selection.removeAllRanges();\n                selection.addRange(newRange);\n                element.dispatchEvent(new Event(\"input\", {\n                    bubbles: true\n                }));\n            }\n            setPopoverOpen(null);\n            return;\n        }\n        const range = selection.getRangeAt(0);\n        const span = document.createElement(\"span\");\n        span.style.color = color;\n        try {\n            span.appendChild(range.extractContents());\n            range.insertNode(span);\n            // Mover cursor después del span\n            range.setStartAfter(span);\n            range.collapse(true);\n            selection.removeAllRanges();\n            selection.addRange(range);\n            // Disparar evento input para guardar\n            const activeElement = document.activeElement;\n            if (activeElement) {\n                activeElement.dispatchEvent(new Event(\"input\", {\n                    bubbles: true\n                }));\n            }\n        } catch (err) {\n            console.error(\"Error aplicando color:\", err);\n        }\n        setPopoverOpen(null);\n    };\n    const handleInsertDate = (e)=>{\n        e.preventDefault();\n        const span = document.createElement(\"span\");\n        span.style.color = \"#a0a1a6\";\n        span.textContent = \"-- \".concat((0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_6__.format)(new Date(), \"dd/MM/yy\"), \" \");\n        document.execCommand(\"insertHTML\", false, span.outerHTML);\n    };\n    const clearFormatting = (e)=>{\n        e.preventDefault();\n        document.execCommand(\"removeFormat\", false);\n        const selection = window.getSelection();\n        if (selection && selection.rangeCount > 0) {\n            const range = selection.getRangeAt(0);\n            const container = range.commonAncestorContainer;\n            if (container.nodeType === Node.ELEMENT_NODE) {\n                const element = container;\n                const spans = element.querySelectorAll('span[style*=\"text-decoration\"]');\n                spans.forEach((span)=>{\n                    const parent = span.parentNode;\n                    if (parent) {\n                        parent.replaceChild(document.createTextNode(span.textContent || \"\"), span);\n                        parent.normalize();\n                    }\n                });\n            }\n        }\n    };\n    const handleList = (e)=>{\n        e.preventDefault();\n        // Toggle entre lista ordenada y desordenada\n        const selection = window.getSelection();\n        if (selection && selection.rangeCount > 0) {\n            const range = selection.getRangeAt(0);\n            const container = range.commonAncestorContainer;\n            if (container.nodeType === Node.ELEMENT_NODE) {\n                const element = container;\n                if (element.tagName === \"UL\" || element.tagName === \"OL\") {\n                    document.execCommand(\"insertUnorderedList\", false);\n                } else {\n                    document.execCommand(\"insertUnorderedList\", false);\n                }\n            } else {\n                document.execCommand(\"insertUnorderedList\", false);\n            }\n        }\n    };\n    if (!isOpen) {\n        return null;\n    }\n    // Clases Tailwind para el toolbar (fondo negro, botones blancos)\n    // Reducido 20%: todos los tamaños reducidos al 80%\n    const toolbarClassName = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)(\"bg-black text-white py-1.5 px-2.5\", \"flex items-center justify-center w-full min-h-[38px] gap-0.5\", \"text-sm\");\n    // Clases Tailwind para botones blancos redondeados (reducidos 20%)\n    const whiteButtonClassName = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)(\"bg-white border-none rounded-md px-2.5 py-1.5\", \"cursor-pointer flex items-center justify-center\", \"min-w-[29px] h-7 transition-colors\", \"hover:bg-gray-100\");\n    // Clases Tailwind para iconos negros (reducidos 20%)\n    const iconClassName = \"w-[14px] h-[14px] text-black\";\n    // Clases Tailwind para cuadrados gris oscuro (reducidos 20%)\n    const darkSquareClassName = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)(\"bg-[#2a2a2a] border-none rounded\", \"cursor-pointer flex items-center justify-center\", \"w-7 h-7 p-1.5 transition-colors\", \"hover:bg-[#3a3a3a]\");\n    // Detectar si el elemento seleccionado es un comment\n    const selectedComment = elements.length > 0 && ((_elements_ = elements[0]) === null || _elements_ === void 0 ? void 0 : _elements_.type) === \"comment\" ? elements[0] : null;\n    const toolbarContent = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: toolbarClassName,\n        children: [\n            selectedComment && onEditComment && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: whiteButtonClassName,\n                onClick: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    onEditComment(selectedComment);\n                },\n                title: \"Fijar posici\\xf3n en el tablero / Editar Etiqueta\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                    className: iconClassName\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 363,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 354,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenu, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenuTrigger, {\n                        asChild: true,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: darkSquareClassName,\n                            title: \"M\\xe1s opciones\",\n                            onClick: (e)=>{\n                                e.preventDefault();\n                                e.stopPropagation();\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                className: \"w-[14px] h-[14px] text-white\"\n                            }, void 0, false, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 378,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                            lineNumber: 370,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                        lineNumber: 369,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenuContent, {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenuItem, {\n                            onClick: (e)=>{\n                                e.preventDefault();\n                                e.stopPropagation();\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: \"Opciones\"\n                            }, void 0, false, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 383,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                            lineNumber: 382,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                        lineNumber: 381,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 368,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: whiteButtonClassName,\n                onClick: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    // Funcionalidad completa: crear localizador/etiqueta en el centro del viewport\n                    if (onAddComment) {\n                        onAddComment();\n                    } else if (addElement) {\n                        // Fallback: crear directamente si addElement está disponible\n                        const viewportCenter = {\n                            x:  true ? window.innerWidth / 2 : 0,\n                            y:  true ? window.innerHeight / 2 : 0\n                        };\n                        addElement(\"comment\", {\n                            content: {\n                                title: \"Nuevo Localizador\",\n                                label: \"Localizador\",\n                                text: \"\"\n                            },\n                            properties: {\n                                position: viewportCenter,\n                                size: {\n                                    width: 48,\n                                    height: 48\n                                }\n                            }\n                        }).catch((error)=>{\n                            console.error(\"Error al crear localizador:\", error);\n                        });\n                    }\n                },\n                title: \"Crear etiqueta de posici\\xf3n / Localizador\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                    className: iconClassName\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 420,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 389,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.Popover, {\n                open: popoverOpen === \"fontSize\",\n                onOpenChange: (open)=>setPopoverOpen(open ? \"fontSize\" : null),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.PopoverTrigger, {\n                        asChild: true,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: whiteButtonClassName,\n                            title: \"Tama\\xf1o de Texto\",\n                            onMouseDown: (e)=>e.preventDefault(),\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                className: iconClassName\n                            }, void 0, false, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 431,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                            lineNumber: 426,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                        lineNumber: 425,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.PopoverContent, {\n                        className: \"w-auto p-2 bg-white\",\n                        onMouseDown: (e)=>e.preventDefault(),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-1\",\n                            children: [\n                                \"12px\",\n                                \"14px\",\n                                \"16px\",\n                                \"18px\",\n                                \"20px\",\n                                \"24px\",\n                                \"32px\"\n                            ].map((size)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"w-full text-left px-2 py-1 text-sm hover:bg-gray-100 rounded\",\n                                    onClick: (e)=>{\n                                        e.preventDefault();\n                                        e.stopPropagation();\n                                        setFontSize(size);\n                                        const selection = window.getSelection();\n                                        if (selection && selection.rangeCount > 0) {\n                                            const range = selection.getRangeAt(0);\n                                            const span = document.createElement(\"span\");\n                                            span.style.fontSize = size;\n                                            try {\n                                                range.surroundContents(span);\n                                            } catch (e) {\n                                                span.appendChild(range.extractContents());\n                                                range.insertNode(span);\n                                            }\n                                        }\n                                        setPopoverOpen(null);\n                                    },\n                                    children: size\n                                }, size, false, {\n                                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                    lineNumber: 437,\n                                    columnNumber: 15\n                                }, undefined))\n                        }, void 0, false, {\n                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                            lineNumber: 435,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                        lineNumber: 434,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 424,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-px h-6 bg-white/30 mx-1\"\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 467,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: whiteButtonClassName,\n                onClick: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    const selection = window.getSelection();\n                    const url = prompt(\"Ingresa la URL del enlace:\");\n                    if (url) {\n                        if (selection && selection.rangeCount > 0 && !selection.isCollapsed) {\n                            // Hay texto seleccionado, convertirlo en enlace\n                            const range = selection.getRangeAt(0);\n                            const link = document.createElement(\"a\");\n                            link.href = url;\n                            link.target = \"_blank\";\n                            link.rel = \"noopener noreferrer\";\n                            link.appendChild(range.extractContents());\n                            range.insertNode(link);\n                        } else {\n                            // No hay selección, insertar URL como texto con enlace\n                            const link = document.createElement(\"a\");\n                            link.href = url;\n                            link.target = \"_blank\";\n                            link.rel = \"noopener noreferrer\";\n                            link.textContent = url;\n                            document.execCommand(\"insertHTML\", false, link.outerHTML);\n                        }\n                    }\n                },\n                title: \"Insertar Enlace\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                    className: iconClassName\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 500,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 470,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-px h-6 bg-white/30 mx-1\"\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 504,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.Popover, {\n                open: popoverOpen === \"textColor\",\n                onOpenChange: (open)=>setPopoverOpen(open ? \"textColor\" : null),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.PopoverTrigger, {\n                        asChild: true,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: whiteButtonClassName,\n                            title: \"Color de Texto\",\n                            onMouseDown: (e)=>e.preventDefault(),\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                className: iconClassName\n                            }, void 0, false, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 514,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                            lineNumber: 509,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                        lineNumber: 508,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.PopoverContent, {\n                        className: \"w-auto p-2 bg-white\",\n                        onMouseDown: (e)=>e.preventDefault(),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs text-gray-600 mb-2 px-1\",\n                                children: \"Color de texto\"\n                            }, void 0, false, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 518,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid grid-cols-4 gap-2\",\n                                children: [\n                                    {\n                                        value: \"#14b8a6\"\n                                    },\n                                    {\n                                        value: \"#f97316\"\n                                    },\n                                    {\n                                        value: \"#84cc16\"\n                                    },\n                                    {\n                                        value: \"#eab308\"\n                                    },\n                                    {\n                                        value: \"#f59e0b\"\n                                    },\n                                    {\n                                        value: \"#3b82f6\"\n                                    },\n                                    {\n                                        value: \"#1f2937\"\n                                    },\n                                    {\n                                        value: \"#475569\"\n                                    }\n                                ].map((color, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"w-8 h-8 rounded border border-gray-300 hover:scale-110 transition-transform\",\n                                        style: {\n                                            backgroundColor: color.value\n                                        },\n                                        onMouseDown: (e)=>applyTextColor(e, color.value),\n                                        title: \"Color \".concat(idx + 1)\n                                    }, idx, false, {\n                                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                        lineNumber: 530,\n                                        columnNumber: 15\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 519,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                        lineNumber: 517,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 507,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-px h-6 bg-white/30 mx-1\"\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 543,\n                columnNumber: 7\n            }, undefined),\n            (()=>{\n                const selection = window.getSelection();\n                const hasSelection = selection && selection.rangeCount > 0 && !selection.isCollapsed;\n                if (!hasSelection) return null;\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.Popover, {\n                    open: popoverOpen === \"highlight\",\n                    onOpenChange: (open)=>setPopoverOpen(open ? \"highlight\" : null),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.PopoverTrigger, {\n                            asChild: true,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: whiteButtonClassName,\n                                title: \"Resaltar Texto\",\n                                onMouseDown: (e)=>e.preventDefault(),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                    className: iconClassName\n                                }, void 0, false, {\n                                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                    lineNumber: 558,\n                                    columnNumber: 17\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 553,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                            lineNumber: 552,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.PopoverContent, {\n                            className: \"w-auto p-2 bg-white\",\n                            onMouseDown: (e)=>e.preventDefault(),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-xs text-gray-600 mb-2 px-1\",\n                                    children: \"Color de fondo\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                    lineNumber: 562,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid grid-cols-4 gap-2\",\n                                    children: [\n                                        {\n                                            value: \"#fef08a\"\n                                        },\n                                        {\n                                            value: \"#fde68a\"\n                                        },\n                                        {\n                                            value: \"#fed7aa\"\n                                        },\n                                        {\n                                            value: \"#fecaca\"\n                                        },\n                                        {\n                                            value: \"#fbcfe8\"\n                                        },\n                                        {\n                                            value: \"#e9d5ff\"\n                                        },\n                                        {\n                                            value: \"#ddd6fe\"\n                                        },\n                                        {\n                                            value: \"#c7d2fe\"\n                                        }\n                                    ].map((color, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: \"w-8 h-8 rounded border border-gray-300 hover:scale-110 transition-transform\",\n                                            style: {\n                                                backgroundColor: color.value\n                                            },\n                                            onMouseDown: (e)=>{\n                                                e.preventDefault();\n                                                const sel = window.getSelection();\n                                                if (sel && sel.rangeCount > 0 && !sel.isCollapsed) {\n                                                    const range = sel.getRangeAt(0);\n                                                    const span = document.createElement(\"span\");\n                                                    span.style.backgroundColor = color.value;\n                                                    try {\n                                                        span.appendChild(range.extractContents());\n                                                        range.insertNode(span);\n                                                        range.setStartAfter(span);\n                                                        range.collapse(true);\n                                                        sel.removeAllRanges();\n                                                        sel.addRange(range);\n                                                        const activeElement = document.activeElement;\n                                                        if (activeElement) {\n                                                            activeElement.dispatchEvent(new Event(\"input\", {\n                                                                bubbles: true\n                                                            }));\n                                                        }\n                                                    } catch (err) {\n                                                        console.error(\"Error aplicando resaltado:\", err);\n                                                    }\n                                                }\n                                                setPopoverOpen(null);\n                                            },\n                                            title: \"Resaltado \".concat(idx + 1)\n                                        }, idx, false, {\n                                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                            lineNumber: 574,\n                                            columnNumber: 19\n                                        }, undefined))\n                                }, void 0, false, {\n                                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                    lineNumber: 563,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                            lineNumber: 561,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 551,\n                    columnNumber: 11\n                }, undefined);\n            })(),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-px h-6 bg-white/30 mx-1\"\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 612,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.Popover, {\n                open: popoverOpen === \"underlineColor\",\n                onOpenChange: (open)=>setPopoverOpen(open ? \"underlineColor\" : null),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.PopoverTrigger, {\n                        asChild: true,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: whiteButtonClassName,\n                            title: \"Subrayado\",\n                            onMouseDown: (e)=>e.preventDefault(),\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                className: iconClassName\n                            }, void 0, false, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 622,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                            lineNumber: 617,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                        lineNumber: 616,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_3__.PopoverContent, {\n                        className: \"w-auto p-2 bg-white\",\n                        onMouseDown: (e)=>e.preventDefault(),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs text-gray-600 mb-2 px-1\",\n                                children: \"Subrayado de\"\n                            }, void 0, false, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 626,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid grid-cols-4 gap-2\",\n                                children: [\n                                    {\n                                        value: \"#14b8a6\"\n                                    },\n                                    {\n                                        value: \"#f97316\"\n                                    },\n                                    {\n                                        value: \"#84cc16\"\n                                    },\n                                    {\n                                        value: \"#eab308\"\n                                    },\n                                    {\n                                        value: \"#f59e0b\"\n                                    },\n                                    {\n                                        value: \"#3b82f6\"\n                                    },\n                                    {\n                                        value: \"#1f2937\"\n                                    },\n                                    {\n                                        value: \"#475569\"\n                                    }\n                                ].map((color, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"w-8 h-8 rounded border border-gray-300 hover:scale-110 transition-transform\",\n                                        style: {\n                                            backgroundColor: color.value\n                                        },\n                                        onMouseDown: (e)=>applyColoredUnderline(e, color.value),\n                                        title: \"Color \".concat(idx + 1)\n                                    }, idx, false, {\n                                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                        lineNumber: 638,\n                                        columnNumber: 15\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 627,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                        lineNumber: 625,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 615,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: whiteButtonClassName,\n                onMouseDown: (e)=>handleFormat(e, \"bold\"),\n                title: \"Negrita\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                    className: iconClassName\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 656,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 651,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: whiteButtonClassName,\n                onMouseDown: (e)=>handleFormat(e, \"italic\"),\n                title: \"Cursiva\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                    className: iconClassName\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 665,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 660,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: whiteButtonClassName,\n                onMouseDown: (e)=>handleFormat(e, \"strikeThrough\"),\n                title: \"Tachado\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                    className: iconClassName\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 674,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 669,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-px h-6 bg-white/30 mx-1\"\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 678,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenu, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenuTrigger, {\n                        asChild: true,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: whiteButtonClassName,\n                            title: \"Alinear Texto\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                    className: iconClassName\n                                }, void 0, false, {\n                                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                    lineNumber: 687,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    className: \"h-3 w-3 ml-0.5\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                    lineNumber: 688,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                            lineNumber: 683,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                        lineNumber: 682,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenuContent, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenuItem, {\n                                onMouseDown: (e)=>handleFormat(e, \"justifyLeft\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                        className: \"h-4 w-4 mr-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                        lineNumber: 693,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    \"Alinear Izquierda\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 692,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenuItem, {\n                                onMouseDown: (e)=>handleFormat(e, \"justifyCenter\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                        className: \"h-4 w-4 mr-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                        lineNumber: 697,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    \"Centrar\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 696,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenuItem, {\n                                onMouseDown: (e)=>handleFormat(e, \"justifyRight\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                        className: \"h-4 w-4 mr-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                        lineNumber: 701,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    \"Alinear Derecha\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 700,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__.DropdownMenuItem, {\n                                onMouseDown: (e)=>handleFormat(e, \"justifyFull\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                        className: \"h-4 w-4 mr-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                        lineNumber: 705,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    \"Justificar\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                                lineNumber: 704,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                        lineNumber: 691,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 681,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-px h-6 bg-white/30 mx-1\"\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 712,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: whiteButtonClassName,\n                onClick: handleInsertDate,\n                title: \"Insertar Fecha\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                    className: iconClassName\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 720,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 715,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-px h-6 bg-white/30 mx-1\"\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 724,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: whiteButtonClassName,\n                onMouseDown: clearFormatting,\n                title: \"Limpiar Formato\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                    className: iconClassName\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 732,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 727,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)(whiteButtonClassName, isPanningActive && \"bg-gray-200\"),\n                onClick: onPanToggle,\n                title: \"Mover\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                    className: iconClassName\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 741,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 736,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: whiteButtonClassName,\n                onClick: handleAddLienzo,\n                title: \"Lienzo\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                    className: iconClassName\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 750,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 745,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: darkSquareClassName,\n                onClick: onClose,\n                title: \"Cerrar\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                    className: \"w-[14px] h-[14px] text-white\"\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 759,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 754,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n        lineNumber: 351,\n        columnNumber: 5\n    }, undefined);\n    if (isMobileSheet) {\n        return toolbarContent;\n    }\n    // Menú format siempre abierto arriba, arrastrable con Rnd\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_rnd__WEBPACK_IMPORTED_MODULE_2__.Rnd, {\n        size: {\n            width: \"auto\",\n            height: \"auto\"\n        },\n        position: rndPosition,\n        onDragStop: onDragStop,\n        dragHandleClassName: \"drag-handle\",\n        bounds: \"window\",\n        enableResizing: false,\n        className: \"z-[60000] pointer-events-auto\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"drag-handle cursor-grab active:cursor-grabbing py-1 text-slate-800 flex justify-center mb-1\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignJustify_AlignLeft_AlignRight_Bold_Calendar_ChevronDown_Eraser_GripVertical_Italic_Link_MapPin_MoreVertical_Move_Paintbrush_RectangleHorizontal_Strikethrough_Tag_Type_Underline_X_lucide_react__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                    className: \"size-4\"\n                }, void 0, false, {\n                    fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                    lineNumber: 780,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n                lineNumber: 779,\n                columnNumber: 7\n            }, undefined),\n            toolbarContent\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/imacm3-pia/Downloads/canvasmind_backup (1)/src/components/canvas/formatting-toolbar.tsx\",\n        lineNumber: 770,\n        columnNumber: 5\n    }, undefined);\n};\n_s(FormattingToolbar, \"zW6FfiZq0pdJi/cAQy28z+lhFM4=\");\n_c = FormattingToolbar;\n/* harmony default export */ __webpack_exports__[\"default\"] = (FormattingToolbar);\nvar _c;\n$RefreshReg$(_c, \"FormattingToolbar\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2NhbnZhcy9mb3JtYXR0aW5nLXRvb2xiYXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtDQUErQzs7O0FBR0k7QUFDbkI7QUEwQlY7QUFDWTtBQUtEO0FBTU07QUFJTjtBQWdCakMsTUFBTW1DLG9CQUFzRDtRQUFDLEVBQzNEQyxNQUFNLEVBQ05DLE9BQU8sRUFDUEMsWUFBWSxFQUNaQyxhQUFhLEVBQ2JDLGFBQWEsRUFDYkMsUUFBUSxFQUNSQyxlQUFlLEVBQ2ZDLFdBQVcsRUFDWEMsVUFBVSxFQUNWQyxrQkFBa0IsS0FBSyxFQUN4QjtRQWtSZ0RKOztJQWpSL0MsTUFBTSxDQUFDSyxhQUFhQyxlQUFlLEdBQUc5QywrQ0FBUUEsQ0FBbUU7SUFDakgsTUFBTSxDQUFDK0MsVUFBVUMsWUFBWSxHQUFHaEQsK0NBQVFBLENBQUM7SUFDekMsTUFBTSxDQUFDaUQsYUFBYUMsZUFBZSxHQUFHbEQsK0NBQVFBLENBQUM7UUFBRW1ELEdBQUc7UUFBR0MsR0FBRztJQUFFO0lBQzVELE1BQU0sQ0FBQ0MsZ0JBQWdCQyxrQkFBa0IsR0FBR3RELCtDQUFRQSxDQUFDO0lBQ3JELE1BQU0sQ0FBQ3VELFNBQVNDLFdBQVcsR0FBR3hELCtDQUFRQSxDQUFDO0lBRXZDLHVDQUF1QztJQUN2Q0MsZ0RBQVNBLENBQUM7UUFDUixJQUFJa0MsVUFBVSxDQUFDSSxlQUFlO1lBQzVCLE1BQU1rQixnQkFBZ0JDLGFBQWFDLE9BQU8sQ0FBQztZQUMzQyxJQUFJRixlQUFlO2dCQUNqQixJQUFJO29CQUNGUCxlQUFlVSxLQUFLQyxLQUFLLENBQUNKO2dCQUM1QixFQUFFLE9BQU9LLEdBQUc7b0JBQ1ZDLFFBQVFDLEtBQUssQ0FBQyw4Q0FBOENGO2dCQUM5RDtZQUNGLE9BQU87Z0JBQ0wsaUJBQWlCO2dCQUNqQixNQUFNRyxVQUFVLENBQUNDLE9BQU9DLFVBQVUsR0FBRyxHQUFFLElB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SUFLbkIsSUFBSXpILGVBQWU7UUFDakIsT0FBT3VIO0lBQ1Q7SUFFQSwwREFBMEQ7SUFDMUQscUJBQ0UsOERBQUM1SiwwQ0FBR0E7UUFDRjZFLE1BQU07WUFBRUMsT0FBTztZQUFRQyxRQUFRO1FBQU87UUFDdENILFVBQVU3QjtRQUNWbUIsWUFBWUE7UUFDWm1ILHFCQUFvQjtRQUNwQkMsUUFBTztRQUNQQyxnQkFBZ0I7UUFDaEJ6QixXQUFVOzswQkFFViw4REFBQ0Q7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNqSiwrUUFBWUE7b0JBQUNpSixXQUFVOzs7Ozs7Ozs7OztZQUV6QkY7Ozs7Ozs7QUFHUDtHQWx0Qk01SDtLQUFBQTtBQW90Qk4sK0RBQWVBLGlCQUFpQkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9jYW52YXMvZm9ybWF0dGluZy10b29sYmFyLnRzeD80MTEwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9jb21wb25lbnRzL2NhbnZhcy9mb3JtYXR0aW5nLXRvb2xiYXIudHN4XG4ndXNlIGNsaWVudCc7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUm5kIH0gZnJvbSAncmVhY3Qtcm5kJztcbmltcG9ydCB0eXBlIHsgV2l0aElkLCBDYW52YXNFbGVtZW50IH0gZnJvbSAnQC9saWIvdHlwZXMnO1xuaW1wb3J0IHtcbiAgTW9yZVZlcnRpY2FsLFxuICBUYWcsXG4gIFR5cGUsXG4gIEJvbGQsXG4gIEl0YWxpYyxcbiAgVW5kZXJsaW5lLFxuICBTdHJpa2V0aHJvdWdoLFxuICBMaXN0LFxuICBDYWxlbmRhcixcbiAgRXJhc2VyLFxuICBYLFxuICBNb3ZlLFxuICBSZWN0YW5nbGVIb3Jpem9udGFsLFxuICBHcmlwVmVydGljYWwsXG4gIE1hcFBpbixcbiAgTGluayBhcyBMaW5rSWNvbixcbiAgQWxpZ25MZWZ0LFxuICBBbGlnbkNlbnRlcixcbiAgQWxpZ25SaWdodCxcbiAgQWxpZ25KdXN0aWZ5LFxuICBTZWFyY2gsXG4gIENoZXZyb25Eb3duLFxuICBQYWludGJydXNoLFxufSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnZGF0ZS1mbnMnO1xuaW1wb3J0IHtcbiAgUG9wb3ZlcixcbiAgUG9wb3ZlckNvbnRlbnQsXG4gIFBvcG92ZXJUcmlnZ2VyLFxufSBmcm9tICdAL2NvbXBvbmVudHMvdWkvcG9wb3Zlcic7XG5pbXBvcnQge1xuICBEcm9wZG93bk1lbnUsXG4gIERyb3Bkb3duTWVudUNvbnRlbnQsXG4gIERyb3Bkb3duTWVudUl0ZW0sXG4gIERyb3Bkb3duTWVudVRyaWdnZXIsXG59IGZyb20gJ0AvY29tcG9uZW50cy91aS9kcm9wZG93bi1tZW51JztcbmltcG9ydCB7IERpYWxvZywgRGlhbG9nQ29udGVudCwgRGlhbG9nSGVhZGVyLCBEaWFsb2dUaXRsZSwgRGlhbG9nVHJpZ2dlciB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9kaWFsb2cnO1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvaW5wdXQnO1xuaW1wb3J0IHsgQnV0dG9uIGFzIFVJQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7XG5pbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJztcbmltcG9ydCB0eXBlIHsgRWxlbWVudFR5cGUgfSBmcm9tICdAL2xpYi90eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRm9ybWF0dGluZ1Rvb2xiYXJQcm9wcyB7XG4gIGlzT3BlbjogYm9vbGVhbjtcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgb25BZGRDb21tZW50OiAoKSA9PiB2b2lkO1xuICBvbkVkaXRDb21tZW50PzogKGNvbW1lbnQ6IFdpdGhJZDxDYW52YXNFbGVtZW50PikgPT4gdm9pZDtcbiAgaXNNb2JpbGVTaGVldD86IGJvb2xlYW47XG4gIGVsZW1lbnRzOiBXaXRoSWQ8Q2FudmFzRWxlbWVudD5bXTtcbiAgb25Mb2NhdGVFbGVtZW50OiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgb25QYW5Ub2dnbGU6ICgpID0+IHZvaWQ7XG4gIGFkZEVsZW1lbnQ/OiAodHlwZTogRWxlbWVudFR5cGUsIHByb3BzPzogYW55KSA9PiBQcm9taXNlPHN0cmluZz47XG4gIGlzUGFubmluZ0FjdGl2ZT86IGJvb2xlYW47XG59XG5cbmNvbnN0IEZvcm1hdHRpbmdUb29sYmFyOiBSZWFjdC5GQzxGb3JtYXR0aW5nVG9vbGJhclByb3BzPiA9ICh7XG4gIGlzT3BlbixcbiAgb25DbG9zZSxcbiAgb25BZGRDb21tZW50LFxuICBvbkVkaXRDb21tZW50LFxuICBpc01vYmlsZVNoZWV0LFxuICBlbGVtZW50cyxcbiAgb25Mb2NhdGVFbGVtZW50LFxuICBvblBhblRvZ2dsZSxcbiAgYWRkRWxlbWVudCxcbiAgaXNQYW5uaW5nQWN0aXZlID0gZmFsc2UsXG59KSA9PiB7XG4gIGNvbnN0IFtwb3BvdmVyT3Blbiwgc2V0UG9wb3Zlck9wZW5dID0gdXNlU3RhdGU8J2ZvbnRTaXplJyB8ICd1bmRlcmxpbmVDb2xvcicgfCAndGV4dENvbG9yJyB8ICdoaWdobGlnaHQnIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtmb250U2l6ZSwgc2V0Rm9udFNpemVdID0gdXNlU3RhdGUoJzE4cHgnKTtcbiAgY29uc3QgW3JuZFBvc2l0aW9uLCBzZXRSbmRQb3NpdGlvbl0gPSB1c2VTdGF0ZSh7IHg6IDAsIHk6IDAgfSk7XG4gIGNvbnN0IFtsaW5rRGlhbG9nT3Blbiwgc2V0TGlua0RpYWxvZ09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbGlua1VybCwgc2V0TGlua1VybF0gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgLy8gSW5pY2lhbGl6YXIgcG9zaWNpw7NuIGNlbnRyYWRhIGFycmliYVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc09wZW4gJiYgIWlzTW9iaWxlU2hlZXQpIHtcbiAgICAgIGNvbnN0IHNhdmVkUG9zaXRpb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZm9ybWF0dGluZ1Rvb2xiYXJQb3NpdGlvbicpO1xuICAgICAgaWYgKHNhdmVkUG9zaXRpb24pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBzZXRSbmRQb3NpdGlvbihKU09OLnBhcnNlKHNhdmVkUG9zaXRpb24pKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGZvcm1hdHRpbmcgdG9vbGJhciBwb3NpdGlvbicsIGUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDZW50cmFyIGFycmliYVxuICAgICAgICBjb25zdCBjZW50ZXJYID0gKHdpbmRvdy5pbm5lcldpZHRoIC0gNjAwKSAvIDI7IC8vIDYwMHB4IGVzIGVsIGFuY2hvIGFwcm94aW1hZG8gcmVkdWNpZG8gMjAlXG4gICAgICAgIHNldFJuZFBvc2l0aW9uKHsgeDogY2VudGVyWCwgeTogMjAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbaXNPcGVuLCBpc01vYmlsZVNoZWV0XSk7XG5cbiAgY29uc3Qgb25EcmFnU3RvcCA9IChlOiBhbnksIGQ6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSkgPT4ge1xuICAgIGNvbnN0IG5ld1Bvc2l0aW9uID0geyB4OiBkLngsIHk6IGQueSB9O1xuICAgIHNldFJuZFBvc2l0aW9uKG5ld1Bvc2l0aW9uKTtcbiAgICB0cnkge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Zvcm1hdHRpbmdUb29sYmFyUG9zaXRpb24nLCBKU09OLnN0cmluZ2lmeShuZXdQb3NpdGlvbikpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBmb3JtYXR0aW5nIHRvb2xiYXIgcG9zaXRpb24nLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUFkZExpZW56byA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoYWRkRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgYWRkRWxlbWVudCgnY29udGFpbmVyJywge1xuICAgICAgICAgIGNvbnRlbnQ6IHsgdGl0bGU6ICdMaWVuem8nLCBlbGVtZW50SWRzOiBbXSB9LFxuICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IDEwMCwgeTogMTAwIH0sXG4gICAgICAgICAgICBzaXplOiB7IHdpZHRoOiA3OTQsIGhlaWdodDogMTAyMSB9LFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgbGllbnpvOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRm9ybWF0ID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQsIGNvbW1hbmQ6IHN0cmluZywgdmFsdWU/OiBzdHJpbmcpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIGlmICghc2VsZWN0aW9uIHx8IHNlbGVjdGlvbi5yYW5nZUNvdW50ID09PSAwKSB7XG4gICAgICBjb25zdCBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGlmIChhY3RpdmVFbGVtZW50ICYmIChhY3RpdmVFbGVtZW50LmlzQ29udGVudEVkaXRhYmxlIHx8IGFjdGl2ZUVsZW1lbnQudGFnTmFtZSA9PT0gJ0RJVicpKSB7XG4gICAgICAgIGFjdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoY29tbWFuZCwgZmFsc2UsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZChjb21tYW5kLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKGNvbW1hbmQsIGZhbHNlLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKGNvbW1hbmQsIGZhbHNlKTtcbiAgICB9XG4gICAgc2V0UG9wb3Zlck9wZW4obnVsbCk7XG4gIH07XG5cbiAgY29uc3QgYXBwbHlDb2xvcmVkVW5kZXJsaW5lID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQsIGNvbG9yOiBzdHJpbmcpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIGlmICghc2VsZWN0aW9uIHx8IHNlbGVjdGlvbi5yYW5nZUNvdW50ID09PSAwIHx8IHNlbGVjdGlvbi5pc0NvbGxhcHNlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xuICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgc3Bhbi5zdHlsZS50ZXh0RGVjb3JhdGlvbiA9ICd1bmRlcmxpbmUnO1xuICAgIHNwYW4uc3R5bGUudGV4dERlY29yYXRpb25Db2xvciA9IGNvbG9yO1xuICAgIHNwYW4uc3R5bGUudGV4dERlY29yYXRpb25UaGlja25lc3MgPSAnMnB4JztcbiAgICBzcGFuLmFwcGVuZENoaWxkKHJhbmdlLmV4dHJhY3RDb250ZW50cygpKTtcbiAgICByYW5nZS5pbnNlcnROb2RlKHNwYW4pO1xuICAgIHNldFBvcG92ZXJPcGVuKG51bGwpO1xuICB9O1xuXG4gIGNvbnN0IGFwcGx5VGV4dENvbG9yID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQsIGNvbG9yOiBzdHJpbmcpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgaWYgKCFzZWxlY3Rpb24gfHwgc2VsZWN0aW9uLnJhbmdlQ291bnQgPT09IDApIHtcbiAgICAgIC8vIFNpIG5vIGhheSBzZWxlY2Npw7NuLCBlbnZvbHZlciB0b2RvIGVsIGNvbnRlbmlkbyBlbiB1biBzcGFuIGNvbiBlbCBjb2xvclxuICAgICAgY29uc3QgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBpZiAoYWN0aXZlRWxlbWVudCAmJiBhY3RpdmVFbGVtZW50LmlzQ29udGVudEVkaXRhYmxlKSB7XG4gICAgICAgIC8vIFNpIGVsIGVsZW1lbnRvIHlhIHRpZW5lIHVuIHNvbG8gaGlqbyBzcGFuIGNvbiBjb2xvciwgYWN0dWFsaXphciBlc2Ugc3BhblxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IEFycmF5LmZyb20oYWN0aXZlRWxlbWVudC5jaGlsZE5vZGVzKTtcbiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJiBjaGlsZHJlblswXS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuWzBdIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgIGlmIChjaGlsZC50YWdOYW1lID09PSAnU1BBTicgJiYgY2hpbGQuc3R5bGUuY29sb3IpIHtcbiAgICAgICAgICAgIGNoaWxkLnN0eWxlLmNvbG9yID0gY29sb3I7XG4gICAgICAgICAgICBhY3RpdmVFbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG4gICAgICAgICAgICBzZXRQb3BvdmVyT3BlbihudWxsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW52b2x2ZXIgdG9kbyBlbCBjb250ZW5pZG8gZW4gdW4gc3BhbiBjb24gZWwgY29sb3JcbiAgICAgICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgc3Bhbi5zdHlsZS5jb2xvciA9IGNvbG9yO1xuICAgICAgICB3aGlsZSAoYWN0aXZlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgc3Bhbi5hcHBlbmRDaGlsZChhY3RpdmVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGFjdGl2ZUVsZW1lbnQuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgICAgIC8vIE1vdmVyIGN1cnNvciBhbCBmaW5hbFxuICAgICAgICBjb25zdCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhzcGFuKTtcbiAgICAgICAgcmFuZ2UuY29sbGFwc2UoZmFsc2UpO1xuICAgICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgIH1cbiAgICAgICAgYWN0aXZlRWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xuICAgICAgfVxuICAgICAgc2V0UG9wb3Zlck9wZW4obnVsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGlmIChzZWxlY3Rpb24uaXNDb2xsYXBzZWQpIHtcbiAgICAgIC8vIFNpIHNvbG8gaGF5IGN1cnNvciwgZW52b2x2ZXIgZWwgY29udGVuaWRvIGRlbCBlbGVtZW50byBlbiB1biBzcGFuIGNvbiBlbCBjb2xvclxuICAgICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHJhbmdlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO1xuICAgICAgY29uc3QgZWxlbWVudCA9IGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUgXG4gICAgICAgID8gKGNvbnRhaW5lci5wYXJlbnRFbGVtZW50IGFzIEhUTUxFbGVtZW50KVxuICAgICAgICA6IChjb250YWluZXIgYXMgSFRNTEVsZW1lbnQpO1xuICAgICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5pc0NvbnRlbnRFZGl0YWJsZSkge1xuICAgICAgICAvLyBWZXJpZmljYXIgc2kgeWEgdGllbmUgdW4gc3BhbiBjb24gY29sb3JcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKGVsZW1lbnQuY2hpbGROb2Rlcyk7XG4gICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDEgJiYgY2hpbGRyZW5bMF0ubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlblswXSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICBpZiAoY2hpbGQudGFnTmFtZSA9PT0gJ1NQQU4nICYmIGNoaWxkLnN0eWxlLmNvbG9yKSB7XG4gICAgICAgICAgICBjaGlsZC5zdHlsZS5jb2xvciA9IGNvbG9yO1xuICAgICAgICAgICAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xuICAgICAgICAgICAgc2V0UG9wb3Zlck9wZW4obnVsbCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEVudm9sdmVyIGNvbnRlbmlkbyBlbiBzcGFuIGNvbiBjb2xvclxuICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBzcGFuLnN0eWxlLmNvbG9yID0gY29sb3I7XG4gICAgICAgIHdoaWxlIChlbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICBzcGFuLmFwcGVuZENoaWxkKGVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAgICAgLy8gTW92ZXIgY3Vyc29yIGFsIGZpbmFsXG4gICAgICAgIGNvbnN0IG5ld1JhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgbmV3UmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKHNwYW4pO1xuICAgICAgICBuZXdSYW5nZS5jb2xsYXBzZShmYWxzZSk7XG4gICAgICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKG5ld1JhbmdlKTtcbiAgICAgICAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xuICAgICAgfVxuICAgICAgc2V0UG9wb3Zlck9wZW4obnVsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XG4gICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBzcGFuLnN0eWxlLmNvbG9yID0gY29sb3I7XG4gICAgdHJ5IHtcbiAgICAgIHNwYW4uYXBwZW5kQ2hpbGQocmFuZ2UuZXh0cmFjdENvbnRlbnRzKCkpO1xuICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZShzcGFuKTtcbiAgICAgIC8vIE1vdmVyIGN1cnNvciBkZXNwdcOpcyBkZWwgc3BhblxuICAgICAgcmFuZ2Uuc2V0U3RhcnRBZnRlcihzcGFuKTtcbiAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgIC8vIERpc3BhcmFyIGV2ZW50byBpbnB1dCBwYXJhIGd1YXJkYXJcbiAgICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgYWN0aXZlRWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYXBsaWNhbmRvIGNvbG9yOicsIGVycik7XG4gICAgfVxuICAgIHNldFBvcG92ZXJPcGVuKG51bGwpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUluc2VydERhdGUgPSAoZTogUmVhY3QuTW91c2VFdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHNwYW4uc3R5bGUuY29sb3IgPSAnI2EwYTFhNic7XG4gICAgc3Bhbi50ZXh0Q29udGVudCA9IGAtLSAke2Zvcm1hdChuZXcgRGF0ZSgpLCAnZGQvTU0veXknKX0gYDtcbiAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnaW5zZXJ0SFRNTCcsIGZhbHNlLCBzcGFuLm91dGVySFRNTCk7XG4gIH07XG5cbiAgY29uc3QgY2xlYXJGb3JtYXR0aW5nID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ3JlbW92ZUZvcm1hdCcsIGZhbHNlKTtcbiAgICBcbiAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgaWYgKHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24ucmFuZ2VDb3VudCA+IDApIHtcbiAgICAgIGNvbnN0IHJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XG4gICAgICBjb25zdCBjb250YWluZXIgPSByYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcbiAgICAgIGlmIChjb250YWluZXIubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjb250YWluZXIgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHNwYW5zID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuW3N0eWxlKj1cInRleHQtZGVjb3JhdGlvblwiXScpO1xuICAgICAgICBzcGFucy5mb3JFYWNoKHNwYW4gPT4ge1xuICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHNwYW4ucGFyZW50Tm9kZTtcbiAgICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICBwYXJlbnQucmVwbGFjZUNoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHNwYW4udGV4dENvbnRlbnQgfHwgJycpLCBzcGFuKTtcbiAgICAgICAgICAgIHBhcmVudC5ub3JtYWxpemUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVMaXN0ID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgLy8gVG9nZ2xlIGVudHJlIGxpc3RhIG9yZGVuYWRhIHkgZGVzb3JkZW5hZGFcbiAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgaWYgKHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24ucmFuZ2VDb3VudCA+IDApIHtcbiAgICAgIGNvbnN0IHJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XG4gICAgICBjb25zdCBjb250YWluZXIgPSByYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcbiAgICAgIGlmIChjb250YWluZXIubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjb250YWluZXIgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT09ICdVTCcgfHwgZWxlbWVudC50YWdOYW1lID09PSAnT0wnKSB7XG4gICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2luc2VydFVub3JkZXJlZExpc3QnLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2luc2VydFVub3JkZXJlZExpc3QnLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdpbnNlcnRVbm9yZGVyZWRMaXN0JywgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBpZiAoIWlzT3Blbikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gQ2xhc2VzIFRhaWx3aW5kIHBhcmEgZWwgdG9vbGJhciAoZm9uZG8gbmVncm8sIGJvdG9uZXMgYmxhbmNvcylcbiAgLy8gUmVkdWNpZG8gMjAlOiB0b2RvcyBsb3MgdGFtYcOxb3MgcmVkdWNpZG9zIGFsIDgwJVxuICBjb25zdCB0b29sYmFyQ2xhc3NOYW1lID0gY24oXG4gICAgXCJiZy1ibGFjayB0ZXh0LXdoaXRlIHB5LTEuNSBweC0yLjVcIixcbiAgICBcImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctZnVsbCBtaW4taC1bMzhweF0gZ2FwLTAuNVwiLFxuICAgIFwidGV4dC1zbVwiXG4gICk7XG5cbiAgLy8gQ2xhc2VzIFRhaWx3aW5kIHBhcmEgYm90b25lcyBibGFuY29zIHJlZG9uZGVhZG9zIChyZWR1Y2lkb3MgMjAlKVxuICBjb25zdCB3aGl0ZUJ1dHRvbkNsYXNzTmFtZSA9IGNuKFxuICAgIFwiYmctd2hpdGUgYm9yZGVyLW5vbmUgcm91bmRlZC1tZCBweC0yLjUgcHktMS41XCIsXG4gICAgXCJjdXJzb3ItcG9pbnRlciBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiLFxuICAgIFwibWluLXctWzI5cHhdIGgtNyB0cmFuc2l0aW9uLWNvbG9yc1wiLFxuICAgIFwiaG92ZXI6YmctZ3JheS0xMDBcIlxuICApO1xuXG4gIC8vIENsYXNlcyBUYWlsd2luZCBwYXJhIGljb25vcyBuZWdyb3MgKHJlZHVjaWRvcyAyMCUpXG4gIGNvbnN0IGljb25DbGFzc05hbWUgPSBcInctWzE0cHhdIGgtWzE0cHhdIHRleHQtYmxhY2tcIjtcblxuICAvLyBDbGFzZXMgVGFpbHdpbmQgcGFyYSBjdWFkcmFkb3MgZ3JpcyBvc2N1cm8gKHJlZHVjaWRvcyAyMCUpXG4gIGNvbnN0IGRhcmtTcXVhcmVDbGFzc05hbWUgPSBjbihcbiAgICBcImJnLVsjMmEyYTJhXSBib3JkZXItbm9uZSByb3VuZGVkXCIsXG4gICAgXCJjdXJzb3ItcG9pbnRlciBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiLFxuICAgIFwidy03IGgtNyBwLTEuNSB0cmFuc2l0aW9uLWNvbG9yc1wiLFxuICAgIFwiaG92ZXI6YmctWyMzYTNhM2FdXCJcbiAgKTtcblxuICAvLyBEZXRlY3RhciBzaSBlbCBlbGVtZW50byBzZWxlY2Npb25hZG8gZXMgdW4gY29tbWVudFxuICBjb25zdCBzZWxlY3RlZENvbW1lbnQgPSBlbGVtZW50cy5sZW5ndGggPiAwICYmIGVsZW1lbnRzWzBdPy50eXBlID09PSAnY29tbWVudCcgPyBlbGVtZW50c1swXSA6IG51bGw7XG5cbiAgY29uc3QgdG9vbGJhckNvbnRlbnQgPSAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Rvb2xiYXJDbGFzc05hbWV9PlxuICAgICAgey8qIDAuIE1hcFBpbiAoRmlqYXIgcG9zaWNpw7NuKSAtIEJvdMOzbiBibGFuY28gLSBTT0xPIHBhcmEgZWxlbWVudG9zIGNvbW1lbnQgKi99XG4gICAgICB7c2VsZWN0ZWRDb21tZW50ICYmIG9uRWRpdENvbW1lbnQgJiYgKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPXt3aGl0ZUJ1dHRvbkNsYXNzTmFtZX1cbiAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIG9uRWRpdENvbW1lbnQoc2VsZWN0ZWRDb21tZW50KTtcbiAgICAgICAgICB9fVxuICAgICAgICAgIHRpdGxlPVwiRmlqYXIgcG9zaWNpw7NuIGVuIGVsIHRhYmxlcm8gLyBFZGl0YXIgRXRpcXVldGFcIlxuICAgICAgICA+XG4gICAgICAgICAgPE1hcFBpbiBjbGFzc05hbWU9e2ljb25DbGFzc05hbWV9IC8+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKX1cblxuICAgICAgey8qIDEuIFRyZXMgcHVudG9zIHZlcnRpY2FsZXMgKE1vcmVWZXJ0aWNhbCkgLSBDdWFkcmFkbyBncmlzIG9zY3VybyAqL31cbiAgICAgIDxEcm9wZG93bk1lbnU+XG4gICAgICAgIDxEcm9wZG93bk1lbnVUcmlnZ2VyIGFzQ2hpbGQ+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzTmFtZT17ZGFya1NxdWFyZUNsYXNzTmFtZX0gXG4gICAgICAgICAgICB0aXRsZT1cIk3DoXMgb3BjaW9uZXNcIlxuICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8TW9yZVZlcnRpY2FsIGNsYXNzTmFtZT1cInctWzE0cHhdIGgtWzE0cHhdIHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L0Ryb3Bkb3duTWVudVRyaWdnZXI+XG4gICAgICAgIDxEcm9wZG93bk1lbnVDb250ZW50PlxuICAgICAgICAgIDxEcm9wZG93bk1lbnVJdGVtIG9uQ2xpY2s9eyhlKSA9PiB7IGUucHJldmVudERlZmF1bHQoKTsgZS5zdG9wUHJvcGFnYXRpb24oKTsgfX0+XG4gICAgICAgICAgICA8c3Bhbj5PcGNpb25lczwvc3Bhbj5cbiAgICAgICAgICA8L0Ryb3Bkb3duTWVudUl0ZW0+XG4gICAgICAgIDwvRHJvcGRvd25NZW51Q29udGVudD5cbiAgICAgIDwvRHJvcGRvd25NZW51PlxuXG4gICAgICB7LyogMi4gVGFnIChFdGlxdWV0YS9NYXJjYWRvcikgLSBCb3TDs24gYmxhbmNvIC0gQ2xvbmFkbyBkZSBwcm9kdWNjacOzbiAqL31cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXt3aGl0ZUJ1dHRvbkNsYXNzTmFtZX1cbiAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAvLyBGdW5jaW9uYWxpZGFkIGNvbXBsZXRhOiBjcmVhciBsb2NhbGl6YWRvci9ldGlxdWV0YSBlbiBlbCBjZW50cm8gZGVsIHZpZXdwb3J0XG4gICAgICAgICAgaWYgKG9uQWRkQ29tbWVudCkge1xuICAgICAgICAgICAgb25BZGRDb21tZW50KCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChhZGRFbGVtZW50KSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFjazogY3JlYXIgZGlyZWN0YW1lbnRlIHNpIGFkZEVsZW1lbnQgZXN0w6EgZGlzcG9uaWJsZVxuICAgICAgICAgICAgY29uc3Qgdmlld3BvcnRDZW50ZXIgPSB7IFxuICAgICAgICAgICAgICB4OiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5pbm5lcldpZHRoIC8gMiA6IDQwMDAwLCBcbiAgICAgICAgICAgICAgeTogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyIDogNDAwMDAgXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYWRkRWxlbWVudCgnY29tbWVudCcsIHtcbiAgICAgICAgICAgICAgY29udGVudDogeyBcbiAgICAgICAgICAgICAgICB0aXRsZTogJ051ZXZvIExvY2FsaXphZG9yJywgXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdMb2NhbGl6YWRvcicsXG4gICAgICAgICAgICAgICAgdGV4dDogJycgXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogdmlld3BvcnRDZW50ZXIsXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogNDgsIGhlaWdodDogNDggfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBjcmVhciBsb2NhbGl6YWRvcjonLCBlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH19XG4gICAgICAgIHRpdGxlPVwiQ3JlYXIgZXRpcXVldGEgZGUgcG9zaWNpw7NuIC8gTG9jYWxpemFkb3JcIlxuICAgICAgPlxuICAgICAgICA8VGFnIGNsYXNzTmFtZT17aWNvbkNsYXNzTmFtZX0gLz5cbiAgICAgIDwvYnV0dG9uPlxuXG4gICAgICB7LyogMy4gVCAoVGFtYcOxbyBkZSBGdWVudGUpIC0gQm90w7NuIGJsYW5jbyBjb24gUG9wb3ZlciAqL31cbiAgICAgIDxQb3BvdmVyIG9wZW49e3BvcG92ZXJPcGVuID09PSAnZm9udFNpemUnfSBvbk9wZW5DaGFuZ2U9eyhvcGVuKSA9PiBzZXRQb3BvdmVyT3BlbihvcGVuID8gJ2ZvbnRTaXplJyA6IG51bGwpfT5cbiAgICAgICAgPFBvcG92ZXJUcmlnZ2VyIGFzQ2hpbGQ+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPXt3aGl0ZUJ1dHRvbkNsYXNzTmFtZX1cbiAgICAgICAgICAgIHRpdGxlPVwiVGFtYcOxbyBkZSBUZXh0b1wiXG4gICAgICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IGUucHJldmVudERlZmF1bHQoKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8VHlwZSBjbGFzc05hbWU9e2ljb25DbGFzc05hbWV9IC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvUG9wb3ZlclRyaWdnZXI+XG4gICAgICAgIDxQb3BvdmVyQ29udGVudCBjbGFzc05hbWU9XCJ3LWF1dG8gcC0yIGJnLXdoaXRlXCIgb25Nb3VzZURvd249eyhlKSA9PiBlLnByZXZlbnREZWZhdWx0KCl9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICB7WycxMnB4JywgJzE0cHgnLCAnMTZweCcsICcxOHB4JywgJzIwcHgnLCAnMjRweCcsICczMnB4J10ubWFwKChzaXplKSA9PiAoXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBrZXk9e3NpemV9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBweC0yIHB5LTEgdGV4dC1zbSBob3ZlcjpiZy1ncmF5LTEwMCByb3VuZGVkXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgIHNldEZvbnRTaXplKHNpemUpO1xuICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24ucmFuZ2VDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5zdHlsZS5mb250U2l6ZSA9IHNpemU7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc3Vycm91bmRDb250ZW50cyhzcGFuKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgIHNwYW4uYXBwZW5kQ2hpbGQocmFuZ2UuZXh0cmFjdENvbnRlbnRzKCkpO1xuICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLmluc2VydE5vZGUoc3Bhbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHNldFBvcG92ZXJPcGVuKG51bGwpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7c2l6ZX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9Qb3BvdmVyQ29udGVudD5cbiAgICAgIDwvUG9wb3Zlcj5cblxuICAgICAgey8qIFNlcGFyYWRvciB2aXN1YWwgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInctcHggaC02IGJnLXdoaXRlLzMwIG14LTFcIiAvPlxuXG4gICAgICB7LyogNC4gTGluayAoRW5sYWNlcykgLSBCb3TDs24gYmxhbmNvICovfVxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e3doaXRlQnV0dG9uQ2xhc3NOYW1lfVxuICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICBjb25zdCB1cmwgPSBwcm9tcHQoJ0luZ3Jlc2EgbGEgVVJMIGRlbCBlbmxhY2U6Jyk7XG4gICAgICAgICAgaWYgKHVybCkge1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24ucmFuZ2VDb3VudCA+IDAgJiYgIXNlbGVjdGlvbi5pc0NvbGxhcHNlZCkge1xuICAgICAgICAgICAgICAvLyBIYXkgdGV4dG8gc2VsZWNjaW9uYWRvLCBjb252ZXJ0aXJsbyBlbiBlbmxhY2VcbiAgICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcbiAgICAgICAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgICAgbGluay5ocmVmID0gdXJsO1xuICAgICAgICAgICAgICBsaW5rLnRhcmdldCA9ICdfYmxhbmsnO1xuICAgICAgICAgICAgICBsaW5rLnJlbCA9ICdub29wZW5lciBub3JlZmVycmVyJztcbiAgICAgICAgICAgICAgbGluay5hcHBlbmRDaGlsZChyYW5nZS5leHRyYWN0Q29udGVudHMoKSk7XG4gICAgICAgICAgICAgIHJhbmdlLmluc2VydE5vZGUobGluayk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBObyBoYXkgc2VsZWNjacOzbiwgaW5zZXJ0YXIgVVJMIGNvbW8gdGV4dG8gY29uIGVubGFjZVxuICAgICAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgICBsaW5rLmhyZWYgPSB1cmw7XG4gICAgICAgICAgICAgIGxpbmsudGFyZ2V0ID0gJ19ibGFuayc7XG4gICAgICAgICAgICAgIGxpbmsucmVsID0gJ25vb3BlbmVyIG5vcmVmZXJyZXInO1xuICAgICAgICAgICAgICBsaW5rLnRleHRDb250ZW50ID0gdXJsO1xuICAgICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnaW5zZXJ0SFRNTCcsIGZhbHNlLCBsaW5rLm91dGVySFRNTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9fVxuICAgICAgICB0aXRsZT1cIkluc2VydGFyIEVubGFjZVwiXG4gICAgICA+XG4gICAgICAgIDxMaW5rSWNvbiBjbGFzc05hbWU9e2ljb25DbGFzc05hbWV9IC8+XG4gICAgICA8L2J1dHRvbj5cblxuICAgICAgey8qIFNlcGFyYWRvciB2aXN1YWwgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInctcHggaC02IGJnLXdoaXRlLzMwIG14LTFcIiAvPlxuXG4gICAgICB7LyogNS4gUGluY2VsIChDb2xvciBkZSBUZXh0bykgLSBCb3TDs24gYmxhbmNvIGNvbiBQb3BvdmVyIGRlIGNvbG9yZXMgKi99XG4gICAgICA8UG9wb3ZlciBvcGVuPXtwb3BvdmVyT3BlbiA9PT0gJ3RleHRDb2xvcid9IG9uT3BlbkNoYW5nZT17KG9wZW4pID0+IHNldFBvcG92ZXJPcGVuKG9wZW4gPyAndGV4dENvbG9yJyA6IG51bGwpfT5cbiAgICAgICAgPFBvcG92ZXJUcmlnZ2VyIGFzQ2hpbGQ+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPXt3aGl0ZUJ1dHRvbkNsYXNzTmFtZX1cbiAgICAgICAgICAgIHRpdGxlPVwiQ29sb3IgZGUgVGV4dG9cIlxuICAgICAgICAgICAgb25Nb3VzZURvd249eyhlKSA9PiBlLnByZXZlbnREZWZhdWx0KCl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFBhaW50YnJ1c2ggY2xhc3NOYW1lPXtpY29uQ2xhc3NOYW1lfSAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L1BvcG92ZXJUcmlnZ2VyPlxuICAgICAgICA8UG9wb3ZlckNvbnRlbnQgY2xhc3NOYW1lPVwidy1hdXRvIHAtMiBiZy13aGl0ZVwiIG9uTW91c2VEb3duPXsoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTYwMCBtYi0yIHB4LTFcIj5Db2xvciBkZSB0ZXh0bzwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtNCBnYXAtMlwiPlxuICAgICAgICAgICAge1tcbiAgICAgICAgICAgICAgeyB2YWx1ZTogJyMxNGI4YTYnIH0sIC8vIFRlYWxcbiAgICAgICAgICAgICAgeyB2YWx1ZTogJyNmOTczMTYnIH0sIC8vIE9yYW5nZS1yZWRcbiAgICAgICAgICAgICAgeyB2YWx1ZTogJyM4NGNjMTYnIH0sIC8vIExpbWUgZ3JlZW5cbiAgICAgICAgICAgICAgeyB2YWx1ZTogJyNlYWIzMDgnIH0sIC8vIFllbGxvd1xuICAgICAgICAgICAgICB7IHZhbHVlOiAnI2Y1OWUwYicgfSwgLy8gR29sZGVucm9kXG4gICAgICAgICAgICAgIHsgdmFsdWU6ICcjM2I4MmY2JyB9LCAvLyBCcmlnaHQgYmx1ZVxuICAgICAgICAgICAgICB7IHZhbHVlOiAnIzFmMjkzNycgfSwgLy8gRGFyayBncmF5XG4gICAgICAgICAgICAgIHsgdmFsdWU6ICcjNDc1NTY5JyB9LCAvLyBTbGF0ZSBibHVlXG4gICAgICAgICAgICBdLm1hcCgoY29sb3IsIGlkeCkgPT4gKFxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy04IGgtOCByb3VuZGVkIGJvcmRlciBib3JkZXItZ3JheS0zMDAgaG92ZXI6c2NhbGUtMTEwIHRyYW5zaXRpb24tdHJhbnNmb3JtXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLnZhbHVlIH19XG4gICAgICAgICAgICAgICAgb25Nb3VzZURvd249eyhlKSA9PiBhcHBseVRleHRDb2xvcihlLCBjb2xvci52YWx1ZSl9XG4gICAgICAgICAgICAgICAgdGl0bGU9e2BDb2xvciAke2lkeCArIDF9YH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1BvcG92ZXJDb250ZW50PlxuICAgICAgPC9Qb3BvdmVyPlxuXG4gICAgICB7LyogU2VwYXJhZG9yIHZpc3VhbCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1weCBoLTYgYmctd2hpdGUvMzAgbXgtMVwiIC8+XG5cbiAgICAgIHsvKiA1LjUuIERlc3RhY2Fkb3IgKEhpZ2hsaWdodCkgLSBCb3TDs24gYmxhbmNvIGNvbiBQb3BvdmVyIGRlIGNvbG9yZXMgLSBTb2xvIHNpIGhheSB0ZXh0byBzZWxlY2Npb25hZG8gKi99XG4gICAgICB7KCgpID0+IHtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgICBjb25zdCBoYXNTZWxlY3Rpb24gPSBzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLnJhbmdlQ291bnQgPiAwICYmICFzZWxlY3Rpb24uaXNDb2xsYXBzZWQ7XG4gICAgICAgIGlmICghaGFzU2VsZWN0aW9uKSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8UG9wb3ZlciBvcGVuPXtwb3BvdmVyT3BlbiA9PT0gJ2hpZ2hsaWdodCd9IG9uT3BlbkNoYW5nZT17KG9wZW4pID0+IHNldFBvcG92ZXJPcGVuKG9wZW4gPyAnaGlnaGxpZ2h0JyA6IG51bGwpfT5cbiAgICAgICAgICAgIDxQb3BvdmVyVHJpZ2dlciBhc0NoaWxkPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXt3aGl0ZUJ1dHRvbkNsYXNzTmFtZX1cbiAgICAgICAgICAgICAgICB0aXRsZT1cIlJlc2FsdGFyIFRleHRvXCJcbiAgICAgICAgICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IGUucHJldmVudERlZmF1bHQoKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxQYWludGJydXNoIGNsYXNzTmFtZT17aWNvbkNsYXNzTmFtZX0gLz5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L1BvcG92ZXJUcmlnZ2VyPlxuICAgICAgICAgICAgPFBvcG92ZXJDb250ZW50IGNsYXNzTmFtZT1cInctYXV0byBwLTIgYmctd2hpdGVcIiBvbk1vdXNlRG93bj17KGUpID0+IGUucHJldmVudERlZmF1bHQoKX0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwIG1iLTIgcHgtMVwiPkNvbG9yIGRlIGZvbmRvPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtNCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIHtbXG4gICAgICAgICAgICAgICAgICB7IHZhbHVlOiAnI2ZlZjA4YScgfSwgLy8gQW1hcmlsbG8gcGFzdGVsXG4gICAgICAgICAgICAgICAgICB7IHZhbHVlOiAnI2ZkZTY4YScgfSwgLy8gQW1hcmlsbG8gY2xhcm9cbiAgICAgICAgICAgICAgICAgIHsgdmFsdWU6ICcjZmVkN2FhJyB9LCAvLyBOYXJhbmphIHBhc3RlbFxuICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogJyNmZWNhY2EnIH0sIC8vIFJvc2EgcGFzdGVsXG4gICAgICAgICAgICAgICAgICB7IHZhbHVlOiAnI2ZiY2ZlOCcgfSwgLy8gUm9zYSBjbGFyb1xuICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogJyNlOWQ1ZmYnIH0sIC8vIE1vcmFkbyBwYXN0ZWxcbiAgICAgICAgICAgICAgICAgIHsgdmFsdWU6ICcjZGRkNmZlJyB9LCAvLyBNb3JhZG8gY2xhcm9cbiAgICAgICAgICAgICAgICAgIHsgdmFsdWU6ICcjYzdkMmZlJyB9LCAvLyBBenVsIHBhc3RlbFxuICAgICAgICAgICAgICAgIF0ubWFwKChjb2xvciwgaWR4KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTggaC04IHJvdW5kZWQgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBob3ZlcjpzY2FsZS0xMTAgdHJhbnNpdGlvbi10cmFuc2Zvcm1cIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLnZhbHVlIH19XG4gICAgICAgICAgICAgICAgICAgIG9uTW91c2VEb3duPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbCAmJiBzZWwucmFuZ2VDb3VudCA+IDAgJiYgIXNlbC5pc0NvbGxhcHNlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBzZWwuZ2V0UmFuZ2VBdCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGFuLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi5hcHBlbmRDaGlsZChyYW5nZS5leHRyYWN0Q29udGVudHMoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLmluc2VydE5vZGUoc3Bhbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QWZ0ZXIoc3Bhbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbC5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JywgeyBidWJibGVzOiB0cnVlIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFwbGljYW5kbyByZXNhbHRhZG86JywgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0UG9wb3Zlck9wZW4obnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgUmVzYWx0YWRvICR7aWR4ICsgMX1gfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L1BvcG92ZXJDb250ZW50PlxuICAgICAgICAgIDwvUG9wb3Zlcj5cbiAgICAgICAgKTtcbiAgICAgIH0pKCl9XG5cbiAgICAgIHsvKiBTZXBhcmFkb3IgdmlzdWFsICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LXB4IGgtNiBiZy13aGl0ZS8zMCBteC0xXCIgLz5cblxuICAgICAgey8qIDYuIFUgc3VicmF5YWRvIChVbmRlcmxpbmUpIC0gQm90w7NuIGJsYW5jbyBjb24gUG9wb3ZlciBkZSBjb2xvcmVzICovfVxuICAgICAgPFBvcG92ZXIgb3Blbj17cG9wb3Zlck9wZW4gPT09ICd1bmRlcmxpbmVDb2xvcid9IG9uT3BlbkNoYW5nZT17KG9wZW4pID0+IHNldFBvcG92ZXJPcGVuKG9wZW4gPyAndW5kZXJsaW5lQ29sb3InIDogbnVsbCl9PlxuICAgICAgICA8UG9wb3ZlclRyaWdnZXIgYXNDaGlsZD5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9e3doaXRlQnV0dG9uQ2xhc3NOYW1lfVxuICAgICAgICAgICAgdGl0bGU9XCJTdWJyYXlhZG9cIlxuICAgICAgICAgICAgb25Nb3VzZURvd249eyhlKSA9PiBlLnByZXZlbnREZWZhdWx0KCl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFVuZGVybGluZSBjbGFzc05hbWU9e2ljb25DbGFzc05hbWV9IC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvUG9wb3ZlclRyaWdnZXI+XG4gICAgICAgIDxQb3BvdmVyQ29udGVudCBjbGFzc05hbWU9XCJ3LWF1dG8gcC0yIGJnLXdoaXRlXCIgb25Nb3VzZURvd249eyhlKSA9PiBlLnByZXZlbnREZWZhdWx0KCl9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwIG1iLTIgcHgtMVwiPlN1YnJheWFkbyBkZTwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtNCBnYXAtMlwiPlxuICAgICAgICAgICAge1tcbiAgICAgICAgICAgICAgeyB2YWx1ZTogJyMxNGI4YTYnIH0sIC8vIFRlYWxcbiAgICAgICAgICAgICAgeyB2YWx1ZTogJyNmOTczMTYnIH0sIC8vIE9yYW5nZS1yZWRcbiAgICAgICAgICAgICAgeyB2YWx1ZTogJyM4NGNjMTYnIH0sIC8vIExpbWUgZ3JlZW5cbiAgICAgICAgICAgICAgeyB2YWx1ZTogJyNlYWIzMDgnIH0sIC8vIFllbGxvd1xuICAgICAgICAgICAgICB7IHZhbHVlOiAnI2Y1OWUwYicgfSwgLy8gR29sZGVucm9kXG4gICAgICAgICAgICAgIHsgdmFsdWU6ICcjM2I4MmY2JyB9LCAvLyBCcmlnaHQgYmx1ZVxuICAgICAgICAgICAgICB7IHZhbHVlOiAnIzFmMjkzNycgfSwgLy8gRGFyayBncmF5XG4gICAgICAgICAgICAgIHsgdmFsdWU6ICcjNDc1NTY5JyB9LCAvLyBTbGF0ZSBibHVlXG4gICAgICAgICAgICBdLm1hcCgoY29sb3IsIGlkeCkgPT4gKFxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy04IGgtOCByb3VuZGVkIGJvcmRlciBib3JkZXItZ3JheS0zMDAgaG92ZXI6c2NhbGUtMTEwIHRyYW5zaXRpb24tdHJhbnNmb3JtXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLnZhbHVlIH19XG4gICAgICAgICAgICAgICAgb25Nb3VzZURvd249eyhlKSA9PiBhcHBseUNvbG9yZWRVbmRlcmxpbmUoZSwgY29sb3IudmFsdWUpfVxuICAgICAgICAgICAgICAgIHRpdGxlPXtgQ29sb3IgJHtpZHggKyAxfWB9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9Qb3BvdmVyQ29udGVudD5cbiAgICAgIDwvUG9wb3Zlcj5cblxuICAgICAgey8qIDcuIEIgKEJvbGQpIC0gQm90w7NuIGJsYW5jbyAqL31cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXt3aGl0ZUJ1dHRvbkNsYXNzTmFtZX1cbiAgICAgICAgb25Nb3VzZURvd249eyhlKSA9PiBoYW5kbGVGb3JtYXQoZSwgJ2JvbGQnKX1cbiAgICAgICAgdGl0bGU9XCJOZWdyaXRhXCJcbiAgICAgID5cbiAgICAgICAgPEJvbGQgY2xhc3NOYW1lPXtpY29uQ2xhc3NOYW1lfSAvPlxuICAgICAgPC9idXR0b24+XG5cbiAgICAgIHsvKiA4LiBJIChJdGFsaWMpIC0gQm90w7NuIGJsYW5jbyAqL31cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXt3aGl0ZUJ1dHRvbkNsYXNzTmFtZX1cbiAgICAgICAgb25Nb3VzZURvd249eyhlKSA9PiBoYW5kbGVGb3JtYXQoZSwgJ2l0YWxpYycpfVxuICAgICAgICB0aXRsZT1cIkN1cnNpdmFcIlxuICAgICAgPlxuICAgICAgICA8SXRhbGljIGNsYXNzTmFtZT17aWNvbkNsYXNzTmFtZX0gLz5cbiAgICAgIDwvYnV0dG9uPlxuXG4gICAgICB7LyogOS4gUyB0YWNoYWRvIChTdHJpa2V0aHJvdWdoKSAtIEJvdMOzbiBibGFuY28gKi99XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17d2hpdGVCdXR0b25DbGFzc05hbWV9XG4gICAgICAgIG9uTW91c2VEb3duPXsoZSkgPT4gaGFuZGxlRm9ybWF0KGUsICdzdHJpa2VUaHJvdWdoJyl9XG4gICAgICAgIHRpdGxlPVwiVGFjaGFkb1wiXG4gICAgICA+XG4gICAgICAgIDxTdHJpa2V0aHJvdWdoIGNsYXNzTmFtZT17aWNvbkNsYXNzTmFtZX0gLz5cbiAgICAgIDwvYnV0dG9uPlxuXG4gICAgICB7LyogU2VwYXJhZG9yIHZpc3VhbCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1weCBoLTYgYmctd2hpdGUvMzAgbXgtMVwiIC8+XG5cbiAgICAgIHsvKiAxMC0xMy4gQWxpbmVhciAtIEJvdMOzbiDDum5pY28gY29uIGRlc3BsZWdhYmxlICovfVxuICAgICAgPERyb3Bkb3duTWVudT5cbiAgICAgICAgPERyb3Bkb3duTWVudVRyaWdnZXIgYXNDaGlsZD5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9e3doaXRlQnV0dG9uQ2xhc3NOYW1lfVxuICAgICAgICAgICAgdGl0bGU9XCJBbGluZWFyIFRleHRvXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8QWxpZ25MZWZ0IGNsYXNzTmFtZT17aWNvbkNsYXNzTmFtZX0gLz5cbiAgICAgICAgICAgIDxDaGV2cm9uRG93biBjbGFzc05hbWU9XCJoLTMgdy0zIG1sLTAuNVwiIC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvRHJvcGRvd25NZW51VHJpZ2dlcj5cbiAgICAgICAgPERyb3Bkb3duTWVudUNvbnRlbnQ+XG4gICAgICAgICAgPERyb3Bkb3duTWVudUl0ZW0gb25Nb3VzZURvd249eyhlKSA9PiBoYW5kbGVGb3JtYXQoZSwgJ2p1c3RpZnlMZWZ0Jyl9PlxuICAgICAgICAgICAgPEFsaWduTGVmdCBjbGFzc05hbWU9XCJoLTQgdy00IG1yLTJcIiAvPlxuICAgICAgICAgICAgQWxpbmVhciBJenF1aWVyZGFcbiAgICAgICAgICA8L0Ryb3Bkb3duTWVudUl0ZW0+XG4gICAgICAgICAgPERyb3Bkb3duTWVudUl0ZW0gb25Nb3VzZURvd249eyhlKSA9PiBoYW5kbGVGb3JtYXQoZSwgJ2p1c3RpZnlDZW50ZXInKX0+XG4gICAgICAgICAgICA8QWxpZ25DZW50ZXIgY2xhc3NOYW1lPVwiaC00IHctNCBtci0yXCIgLz5cbiAgICAgICAgICAgIENlbnRyYXJcbiAgICAgICAgICA8L0Ryb3Bkb3duTWVudUl0ZW0+XG4gICAgICAgICAgPERyb3Bkb3duTWVudUl0ZW0gb25Nb3VzZURvd249eyhlKSA9PiBoYW5kbGVGb3JtYXQoZSwgJ2p1c3RpZnlSaWdodCcpfT5cbiAgICAgICAgICAgIDxBbGlnblJpZ2h0IGNsYXNzTmFtZT1cImgtNCB3LTQgbXItMlwiIC8+XG4gICAgICAgICAgICBBbGluZWFyIERlcmVjaGFcbiAgICAgICAgICA8L0Ryb3Bkb3duTWVudUl0ZW0+XG4gICAgICAgICAgPERyb3Bkb3duTWVudUl0ZW0gb25Nb3VzZURvd249eyhlKSA9PiBoYW5kbGVGb3JtYXQoZSwgJ2p1c3RpZnlGdWxsJyl9PlxuICAgICAgICAgICAgPEFsaWduSnVzdGlmeSBjbGFzc05hbWU9XCJoLTQgdy00IG1yLTJcIiAvPlxuICAgICAgICAgICAgSnVzdGlmaWNhclxuICAgICAgICAgIDwvRHJvcGRvd25NZW51SXRlbT5cbiAgICAgICAgPC9Ecm9wZG93bk1lbnVDb250ZW50PlxuICAgICAgPC9Ecm9wZG93bk1lbnU+XG5cbiAgICAgIHsvKiBTZXBhcmFkb3IgdmlzdWFsICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LXB4IGgtNiBiZy13aGl0ZS8zMCBteC0xXCIgLz5cblxuICAgICAgey8qIDE0LiBDYWxlbmRhcmlvIC0gQm90w7NuIGJsYW5jbyAqL31cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXt3aGl0ZUJ1dHRvbkNsYXNzTmFtZX1cbiAgICAgICAgb25DbGljaz17aGFuZGxlSW5zZXJ0RGF0ZX1cbiAgICAgICAgdGl0bGU9XCJJbnNlcnRhciBGZWNoYVwiXG4gICAgICA+XG4gICAgICAgIDxDYWxlbmRhciBjbGFzc05hbWU9e2ljb25DbGFzc05hbWV9IC8+XG4gICAgICA8L2J1dHRvbj5cblxuICAgICAgey8qIFNlcGFyYWRvciB2aXN1YWwgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInctcHggaC02IGJnLXdoaXRlLzMwIG14LTFcIiAvPlxuXG4gICAgICB7LyogMTYuIEJvcnJhZG9yIChFcmFzZXIpIC0gQm90w7NuIGJsYW5jbyAqL31cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXt3aGl0ZUJ1dHRvbkNsYXNzTmFtZX1cbiAgICAgICAgb25Nb3VzZURvd249e2NsZWFyRm9ybWF0dGluZ31cbiAgICAgICAgdGl0bGU9XCJMaW1waWFyIEZvcm1hdG9cIlxuICAgICAgPlxuICAgICAgICA8RXJhc2VyIGNsYXNzTmFtZT17aWNvbkNsYXNzTmFtZX0gLz5cbiAgICAgIDwvYnV0dG9uPlxuXG4gICAgICB7LyogMTIuIE1vdmVyIC0gQm90w7NuIGJsYW5jbyAodHJhc2xhZGFkbyBkZWwgbWVuw7ogcHJpbmNpcGFsKSAqL31cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXtjbih3aGl0ZUJ1dHRvbkNsYXNzTmFtZSwgaXNQYW5uaW5nQWN0aXZlICYmICdiZy1ncmF5LTIwMCcpfVxuICAgICAgICBvbkNsaWNrPXtvblBhblRvZ2dsZX1cbiAgICAgICAgdGl0bGU9XCJNb3ZlclwiXG4gICAgICA+XG4gICAgICAgIDxNb3ZlIGNsYXNzTmFtZT17aWNvbkNsYXNzTmFtZX0gLz5cbiAgICAgIDwvYnV0dG9uPlxuXG4gICAgICB7LyogMTMuIExpZW56byAtIEJvdMOzbiBibGFuY28gKHRyYXNsYWRhZG8gZGVsIG1lbsO6IHByaW5jaXBhbCkgKi99XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17d2hpdGVCdXR0b25DbGFzc05hbWV9XG4gICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFkZExpZW56b31cbiAgICAgICAgdGl0bGU9XCJMaWVuem9cIlxuICAgICAgPlxuICAgICAgICA8UmVjdGFuZ2xlSG9yaXpvbnRhbCBjbGFzc05hbWU9e2ljb25DbGFzc05hbWV9IC8+XG4gICAgICA8L2J1dHRvbj5cblxuICAgICAgey8qIDE0LiBYIC0gQ3VhZHJhZG8gZ3JpcyBvc2N1cm8gKi99XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17ZGFya1NxdWFyZUNsYXNzTmFtZX1cbiAgICAgICAgb25DbGljaz17b25DbG9zZX1cbiAgICAgICAgdGl0bGU9XCJDZXJyYXJcIlxuICAgICAgPlxuICAgICAgICA8WCBjbGFzc05hbWU9XCJ3LVsxNHB4XSBoLVsxNHB4XSB0ZXh0LXdoaXRlXCIgLz5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xuXG4gIGlmIChpc01vYmlsZVNoZWV0KSB7XG4gICAgcmV0dXJuIHRvb2xiYXJDb250ZW50O1xuICB9XG5cbiAgLy8gTWVuw7ogZm9ybWF0IHNpZW1wcmUgYWJpZXJ0byBhcnJpYmEsIGFycmFzdHJhYmxlIGNvbiBSbmRcbiAgcmV0dXJuIChcbiAgICA8Um5kXG4gICAgICBzaXplPXt7IHdpZHRoOiAnYXV0bycsIGhlaWdodDogJ2F1dG8nIH19XG4gICAgICBwb3NpdGlvbj17cm5kUG9zaXRpb259XG4gICAgICBvbkRyYWdTdG9wPXtvbkRyYWdTdG9wfVxuICAgICAgZHJhZ0hhbmRsZUNsYXNzTmFtZT1cImRyYWctaGFuZGxlXCJcbiAgICAgIGJvdW5kcz1cIndpbmRvd1wiXG4gICAgICBlbmFibGVSZXNpemluZz17ZmFsc2V9XG4gICAgICBjbGFzc05hbWU9XCJ6LVs2MDAwMF0gcG9pbnRlci1ldmVudHMtYXV0b1wiXG4gICAgPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcmFnLWhhbmRsZSBjdXJzb3ItZ3JhYiBhY3RpdmU6Y3Vyc29yLWdyYWJiaW5nIHB5LTEgdGV4dC1zbGF0ZS04MDAgZmxleCBqdXN0aWZ5LWNlbnRlciBtYi0xXCI+XG4gICAgICAgIDxHcmlwVmVydGljYWwgY2xhc3NOYW1lPVwic2l6ZS00XCIgLz5cbiAgICAgIDwvZGl2PlxuICAgICAge3Rvb2xiYXJDb250ZW50fVxuICAgIDwvUm5kPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRm9ybWF0dGluZ1Rvb2xiYXI7XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIlJuZCIsIk1vcmVWZXJ0aWNhbCIsIlRhZyIsIlR5cGUiLCJCb2xkIiwiSXRhbGljIiwiVW5kZXJsaW5lIiwiU3RyaWtldGhyb3VnaCIsIkNhbGVuZGFyIiwiRXJhc2VyIiwiWCIsIk1vdmUiLCJSZWN0YW5nbGVIb3Jpem9udGFsIiwiR3JpcFZlcnRpY2FsIiwiTWFwUGluIiwiTGluayIsIkxpbmtJY29uIiwiQWxpZ25MZWZ0IiwiQWxpZ25DZW50ZXIiLCJBbGlnblJpZ2h0IiwiQWxpZ25KdXN0aWZ5IiwiQ2hldnJvbkRvd24iLCJQYWludGJydXNoIiwiZm9ybWF0IiwiUG9wb3ZlciIsIlBvcG92ZXJDb250ZW50IiwiUG9wb3ZlclRyaWdnZXIiLCJEcm9wZG93bk1lbnUiLCJEcm9wZG93bk1lbnVDb250ZW50IiwiRHJvcGRvd25NZW51SXRlbSIsIkRyb3Bkb3duTWVudVRyaWdnZXIiLCJjbiIsIkZvcm1hdHRpbmdUb29sYmFyIiwiaXNPcGVuIiwib25DbG9zZSIsIm9uQWRkQ29tbWVudCIsIm9uRWRpdENvbW1lbnQiLCJpc01vYmlsZVNoZWV0IiwiZWxlbWVudHMiLCJvbkxvY2F0ZUVsZW1lbnQiLCJvblBhblRvZ2dsZSIsImFkZEVsZW1lbnQiLCJpc1Bhbm5pbmdBY3RpdmUiLCJwb3BvdmVyT3BlbiIsInNldFBvcG92ZXJPcGVuIiwiZm9udFNpemUiLCJzZXRGb250U2l6ZSIsInJuZFBvc2l0aW9uIiwic2V0Um5kUG9zaXRpb24iLCJ4IiwieSIsImxpbmtEaWFsb2dPcGVuIiwic2V0TGlua0RpYWxvZ09wZW4iLCJsaW5rVXJsIiwic2V0TGlua1VybCIsInNhdmVkUG9zaXRpb24iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsImNlbnRlclgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwib25EcmFnU3RvcCIsImQiLCJuZXdQb3NpdGlvbiIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJoYW5kbGVBZGRMaWVuem8iLCJjb250ZW50IiwidGl0bGUiLCJlbGVtZW50SWRzIiwicHJvcGVydGllcyIsInBvc2l0aW9uIiwic2l6ZSIsIndpZHRoIiwiaGVpZ2h0IiwiYmFja2dyb3VuZENvbG9yIiwiaGFuZGxlRm9ybWF0IiwiY29tbWFuZCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJzZWxlY3Rpb24iLCJnZXRTZWxlY3Rpb24iLCJyYW5nZUNvdW50IiwiYWN0aXZlRWxlbWVudCIsImRvY3VtZW50IiwiaXNDb250ZW50RWRpdGFibGUiLCJ0YWdOYW1lIiwiZm9jdXMiLCJleGVjQ29tbWFuZCIsImFwcGx5Q29sb3JlZFVuZGVybGluZSIsImNvbG9yIiwiaXNDb2xsYXBzZWQiLCJyYW5nZSIsImdldFJhbmdlQXQiLCJzcGFuIiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwidGV4dERlY29yYXRpb24iLCJ0ZXh0RGVjb3JhdGlvbkNvbG9yIiwidGV4dERlY29yYXRpb25UaGlja25lc3MiLCJhcHBlbmRDaGlsZCIsImV4dHJhY3RDb250ZW50cyIsImluc2VydE5vZGUiLCJhcHBseVRleHRDb2xvciIsInN0b3BQcm9wYWdhdGlvbiIsImNoaWxkcmVuIiwiQXJyYXkiLCJmcm9tIiwiY2hpbGROb2RlcyIsImxlbmd0aCIsIm5vZGVUeXBlIiwiTm9kZSIsIkVMRU1FTlRfTk9ERSIsImNoaWxkIiwiZGlzcGF0Y2hFdmVudCIsIkV2ZW50IiwiYnViYmxlcyIsImZpcnN0Q2hpbGQiLCJjcmVhdGVSYW5nZSIsInNlbGVjdE5vZGVDb250ZW50cyIsImNvbGxhcHNlIiwicmVtb3ZlQWxsUmFuZ2VzIiwiYWRkUmFuZ2UiLCJjb250YWluZXIiLCJjb21tb25BbmNlc3RvckNvbnRhaW5lciIsImVsZW1lbnQiLCJURVhUX05PREUiLCJwYXJlbnRFbGVtZW50IiwibmV3UmFuZ2UiLCJzZXRTdGFydEFmdGVyIiwiZXJyIiwiaGFuZGxlSW5zZXJ0RGF0ZSIsInRleHRDb250ZW50IiwiRGF0ZSIsIm91dGVySFRNTCIsImNsZWFyRm9ybWF0dGluZyIsInNwYW5zIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwicmVwbGFjZUNoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJub3JtYWxpemUiLCJoYW5kbGVMaXN0IiwidG9vbGJhckNsYXNzTmFtZSIsIndoaXRlQnV0dG9uQ2xhc3NOYW1lIiwiaWNvbkNsYXNzTmFtZSIsImRhcmtTcXVhcmVDbGFzc05hbWUiLCJzZWxlY3RlZENvbW1lbnQiLCJ0eXBlIiwidG9vbGJhckNvbnRlbnQiLCJkaXYiLCJjbGFzc05hbWUiLCJidXR0b24iLCJvbkNsaWNrIiwiYXNDaGlsZCIsInZpZXdwb3J0Q2VudGVyIiwiaW5uZXJIZWlnaHQiLCJsYWJlbCIsInRleHQiLCJjYXRjaCIsIm9wZW4iLCJvbk9wZW5DaGFuZ2UiLCJvbk1vdXNlRG93biIsIm1hcCIsInN1cnJvdW5kQ29udGVudHMiLCJ1cmwiLCJwcm9tcHQiLCJsaW5rIiwiaHJlZiIsInRhcmdldCIsInJlbCIsImlkeCIsImhhc1NlbGVjdGlvbiIsInNlbCIsImRyYWdIYW5kbGVDbGFzc05hbWUiLCJib3VuZHMiLCJlbmFibGVSZXNpemluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/canvas/formatting-toolbar.tsx\n"));

/***/ })

});